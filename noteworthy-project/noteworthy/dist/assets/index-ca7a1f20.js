var zy=Object.defineProperty;var Wy=(t,e,n)=>e in t?zy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Nd=(t,e,n)=>(Wy(t,typeof e!="symbol"?e+"":e,n),n);function $y(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var IA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ap={exports:{}},el={},Op={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),Hy=Symbol.for("react.portal"),Gy=Symbol.for("react.fragment"),Yy=Symbol.for("react.strict_mode"),Xy=Symbol.for("react.profiler"),Qy=Symbol.for("react.provider"),Ky=Symbol.for("react.context"),Zy=Symbol.for("react.forward_ref"),Jy=Symbol.for("react.suspense"),e0=Symbol.for("react.memo"),t0=Symbol.for("react.lazy"),Ed=Symbol.iterator;function n0(t){return t===null||typeof t!="object"?null:(t=Ed&&t[Ed]||t["@@iterator"],typeof t=="function"?t:null)}var Rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pp=Object.assign,Ip={};function Ds(t,e,n){this.props=t,this.context=e,this.refs=Ip,this.updater=n||Rp}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ds.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dp(){}Dp.prototype=Ds.prototype;function Mc(t,e,n){this.props=t,this.context=e,this.refs=Ip,this.updater=n||Rp}var bc=Mc.prototype=new Dp;bc.constructor=Mc;Pp(bc,Ds.prototype);bc.isPureReactComponent=!0;var Ad=Array.isArray,Mp=Object.prototype.hasOwnProperty,jc={current:null},bp={key:!0,ref:!0,__self:!0,__source:!0};function jp(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Mp.call(e,r)&&!bp.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ji,type:t,key:i,ref:o,props:s,_owner:jc.current}}function r0(t,e){return{$$typeof:Ji,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ji}function s0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Od=/\/+/g;function Ul(t,e){return typeof t=="object"&&t!==null&&t.key!=null?s0(""+t.key):e.toString(36)}function zo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ji:case Hy:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ul(o,0):r,Ad(s)?(n="",t!=null&&(n=t.replace(Od,"$&/")+"/"),zo(s,e,n,"",function(u){return u})):s!=null&&(Fc(s)&&(s=r0(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Od,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Ad(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ul(i,a);o+=zo(i,e,n,l,s)}else if(l=n0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ul(i,a++),o+=zo(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wo(t,e,n){if(t==null)return t;var r=[],s=0;return zo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function i0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},Wo={transition:null},o0={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:Wo,ReactCurrentOwner:jc};ne.Children={map:wo,forEach:function(t,e,n){wo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wo(t,function(){e++}),e},toArray:function(t){return wo(t,function(e){return e})||[]},only:function(t){if(!Fc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=Ds;ne.Fragment=Gy;ne.Profiler=Xy;ne.PureComponent=Mc;ne.StrictMode=Yy;ne.Suspense=Jy;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o0;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Pp({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=jc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Mp.call(e,l)&&!bp.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ji,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:Ky,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qy,_context:t},t.Consumer=t};ne.createElement=jp;ne.createFactory=function(t){var e=jp.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:Zy,render:t}};ne.isValidElement=Fc;ne.lazy=function(t){return{$$typeof:t0,_payload:{_status:-1,_result:t},_init:i0}};ne.memo=function(t,e){return{$$typeof:e0,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Wo.transition;Wo.transition={};try{t()}finally{Wo.transition=e}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(t,e){return dt.current.useCallback(t,e)};ne.useContext=function(t){return dt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return dt.current.useEffect(t,e)};ne.useId=function(){return dt.current.useId()};ne.useImperativeHandle=function(t,e,n){return dt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return dt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return dt.current.useReducer(t,e,n)};ne.useRef=function(t){return dt.current.useRef(t)};ne.useState=function(t){return dt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return dt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return dt.current.useTransition()};ne.version="18.2.0";Op.exports=ne;var N=Op.exports;const gt=qy(N),a0=$y({__proto__:null,default:gt},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0=N,u0=Symbol.for("react.element"),c0=Symbol.for("react.fragment"),h0=Object.prototype.hasOwnProperty,d0=l0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f0={key:!0,ref:!0,__self:!0,__source:!0};function Fp(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)h0.call(e,r)&&!f0.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:u0,type:t,key:i,ref:o,props:s,_owner:d0.current}}el.Fragment=c0;el.jsx=Fp;el.jsxs=Fp;Ap.exports=el;var m=Ap.exports,Su={},Lp={exports:{}},It={},Vp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,D){var j=I.length;I.push(D);e:for(;0<j;){var L=j-1>>>1,G=I[L];if(0<s(G,D))I[L]=D,I[j]=G,j=L;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var D=I[0],j=I.pop();if(j!==D){I[0]=j;e:for(var L=0,G=I.length,we=G>>>1;L<we;){var ue=2*(L+1)-1,X=I[ue],K=ue+1,ge=I[K];if(0>s(X,j))K<G&&0>s(ge,X)?(I[L]=ge,I[K]=j,L=K):(I[L]=X,I[ue]=j,L=ue);else if(K<G&&0>s(ge,j))I[L]=ge,I[K]=j,L=K;else break e}}return D}function s(I,D){var j=I.sortIndex-D.sortIndex;return j!==0?j:I.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,v=!1,f=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(I){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=I)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function T(I){if(y=!1,_(I),!f)if(n(l)!==null)f=!0,V(S);else{var D=n(u);D!==null&&W(T,D.startTime-I)}}function S(I,D){f=!1,y&&(y=!1,p(x),x=-1),v=!0;var j=d;try{for(_(D),h=n(l);h!==null&&(!(h.expirationTime>D)||I&&!R());){var L=h.callback;if(typeof L=="function"){h.callback=null,d=h.priorityLevel;var G=L(h.expirationTime<=D);D=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(l)&&r(l),_(D)}else r(l);h=n(l)}if(h!==null)var we=!0;else{var ue=n(u);ue!==null&&W(T,ue.startTime-D),we=!1}return we}finally{h=null,d=j,v=!1}}var C=!1,k=null,x=-1,A=5,E=-1;function R(){return!(t.unstable_now()-E<A)}function O(){if(k!==null){var I=t.unstable_now();E=I;var D=!0;try{D=k(!0,I)}finally{D?b():(C=!1,k=null)}}else C=!1}var b;if(typeof g=="function")b=function(){g(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=O,b=function(){z.postMessage(null)}}else b=function(){w(O,0)};function V(I){k=I,C||(C=!0,b())}function W(I,D){x=w(function(){I(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){f||v||(f=!0,V(S))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var j=d;d=D;try{return I()}finally{d=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,D){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var j=d;d=I;try{return D()}finally{d=j}},t.unstable_scheduleCallback=function(I,D,j){var L=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?L+j:L):j=L,I){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=j+G,I={id:c++,callback:D,priorityLevel:I,startTime:j,expirationTime:G,sortIndex:-1},j>L?(I.sortIndex=j,e(u,I),n(l)===null&&I===n(u)&&(y?(p(x),x=-1):y=!0,W(T,j-L))):(I.sortIndex=G,e(l,I),f||v||(f=!0,V(S))),I},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(I){var D=d;return function(){var j=d;d=D;try{return I.apply(this,arguments)}finally{d=j}}}})(Up);Vp.exports=Up;var p0=Vp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp=N,Rt=p0;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zp=new Set,vi={};function $r(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(vi[t]=e,t=0;t<e.length;t++)zp.add(e[t])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xu=Object.prototype.hasOwnProperty,m0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rd={},Pd={};function g0(t){return xu.call(Pd,t)?!0:xu.call(Rd,t)?!1:m0.test(t)?Pd[t]=!0:(Rd[t]=!0,!1)}function v0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function y0(t,e,n,r){if(e===null||typeof e>"u"||v0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lc=/[\-:]([a-z])/g;function Vc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lc,Vc);Je[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lc,Vc);Je[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lc,Vc);Je[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uc(t,e,n,r){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(y0(e,n,s,r)&&(n=null),r||s===null?g0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ln=Bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,So=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),Bc=Symbol.for("react.strict_mode"),Tu=Symbol.for("react.profiler"),Wp=Symbol.for("react.provider"),$p=Symbol.for("react.context"),zc=Symbol.for("react.forward_ref"),Cu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),qp=Symbol.for("react.offscreen"),Id=Symbol.iterator;function Gs(t){return t===null||typeof t!="object"?null:(t=Id&&t[Id]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Bl;function ni(t){if(Bl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bl=e&&e[1]||""}return`
`+Bl+t}var zl=!1;function Wl(t,e){if(!t||zl)return"";zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ni(t):""}function _0(t){switch(t.tag){case 5:return ni(t.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return t=Wl(t.type,!1),t;case 11:return t=Wl(t.type.render,!1),t;case 1:return t=Wl(t.type,!0),t;default:return""}}function Nu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ts:return"Fragment";case es:return"Portal";case Tu:return"Profiler";case Bc:return"StrictMode";case Cu:return"Suspense";case ku:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $p:return(t.displayName||"Context")+".Consumer";case Wp:return(t._context.displayName||"Context")+".Provider";case zc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wc:return e=t.displayName||null,e!==null?e:Nu(t.type)||"Memo";case Hn:e=t._payload,t=t._init;try{return Nu(t(e))}catch{}}return null}function w0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nu(e);case 8:return e===Bc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S0(t){var e=Hp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xo(t){t._valueTracker||(t._valueTracker=S0(t))}function Gp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hp(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function oa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eu(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=cr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yp(t,e){e=e.checked,e!=null&&Uc(t,"checked",e,!1)}function Au(t,e){Yp(t,e);var n=cr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ou(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ou(t,e.type,cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Md(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ou(t,e,n){(e!=="number"||oa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ri=Array.isArray;function fs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+cr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ru(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(ri(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cr(n)}}function Xp(t,e){var n=cr(e.value),r=cr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function jd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var To,Kp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(To=To||document.createElement("div"),To.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=To.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x0=["Webkit","ms","Moz","O"];Object.keys(oi).forEach(function(t){x0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),oi[e]=oi[t]})});function Zp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||oi.hasOwnProperty(t)&&oi[t]?(""+e).trim():e+"px"}function Jp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Zp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var T0=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iu(t,e){if(e){if(T0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Du(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=null;function $c(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bu=null,ps=null,ms=null;function Fd(t){if(t=no(t)){if(typeof bu!="function")throw Error(M(280));var e=t.stateNode;e&&(e=il(e),bu(t.stateNode,t.type,e))}}function em(t){ps?ms?ms.push(t):ms=[t]:ps=t}function tm(){if(ps){var t=ps,e=ms;if(ms=ps=null,Fd(t),e)for(t=0;t<e.length;t++)Fd(e[t])}}function nm(t,e){return t(e)}function rm(){}var $l=!1;function sm(t,e,n){if($l)return t(e,n);$l=!0;try{return nm(t,e,n)}finally{$l=!1,(ps!==null||ms!==null)&&(rm(),tm())}}function _i(t,e){var n=t.stateNode;if(n===null)return null;var r=il(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var ju=!1;if(In)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){ju=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{ju=!1}function C0(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ai=!1,aa=null,la=!1,Fu=null,k0={onError:function(t){ai=!0,aa=t}};function N0(t,e,n,r,s,i,o,a,l){ai=!1,aa=null,C0.apply(k0,arguments)}function E0(t,e,n,r,s,i,o,a,l){if(N0.apply(this,arguments),ai){if(ai){var u=aa;ai=!1,aa=null}else throw Error(M(198));la||(la=!0,Fu=u)}}function qr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function im(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ld(t){if(qr(t)!==t)throw Error(M(188))}function A0(t){var e=t.alternate;if(!e){if(e=qr(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ld(s),t;if(i===r)return Ld(s),e;i=i.sibling}throw Error(M(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(M(189))}}if(n.alternate!==r)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function om(t){return t=A0(t),t!==null?am(t):null}function am(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=am(t);if(e!==null)return e;t=t.sibling}return null}var lm=Rt.unstable_scheduleCallback,Vd=Rt.unstable_cancelCallback,O0=Rt.unstable_shouldYield,R0=Rt.unstable_requestPaint,je=Rt.unstable_now,P0=Rt.unstable_getCurrentPriorityLevel,qc=Rt.unstable_ImmediatePriority,um=Rt.unstable_UserBlockingPriority,ua=Rt.unstable_NormalPriority,I0=Rt.unstable_LowPriority,cm=Rt.unstable_IdlePriority,tl=null,fn=null;function D0(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(tl,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:j0,M0=Math.log,b0=Math.LN2;function j0(t){return t>>>=0,t===0?32:31-(M0(t)/b0|0)|0}var Co=64,ko=4194304;function si(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ca(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=si(a):(i&=o,i!==0&&(r=si(i)))}else o=n&~s,o!==0?r=si(o):i!==0&&(r=si(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),s=1<<n,r|=t[n],e&=~s;return r}function F0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Jt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=F0(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Lu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hm(){var t=Co;return Co<<=1,!(Co&4194240)&&(Co=64),t}function ql(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function V0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Hc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var le=0;function dm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fm,Gc,pm,mm,gm,Vu=!1,No=[],er=null,tr=null,nr=null,wi=new Map,Si=new Map,Xn=[],U0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(t,e){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":wi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(e.pointerId)}}function Xs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=no(e),e!==null&&Gc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function B0(t,e,n,r,s){switch(e){case"focusin":return er=Xs(er,t,e,n,r,s),!0;case"dragenter":return tr=Xs(tr,t,e,n,r,s),!0;case"mouseover":return nr=Xs(nr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return wi.set(i,Xs(wi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Si.set(i,Xs(Si.get(i)||null,t,e,n,r,s)),!0}return!1}function vm(t){var e=kr(t.target);if(e!==null){var n=qr(e);if(n!==null){if(e=n.tag,e===13){if(e=im(n),e!==null){t.blockedOn=e,gm(t.priority,function(){pm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $o(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mu=r,n.target.dispatchEvent(r),Mu=null}else return e=no(n),e!==null&&Gc(e),t.blockedOn=n,!1;e.shift()}return!0}function Bd(t,e,n){$o(t)&&n.delete(e)}function z0(){Vu=!1,er!==null&&$o(er)&&(er=null),tr!==null&&$o(tr)&&(tr=null),nr!==null&&$o(nr)&&(nr=null),wi.forEach(Bd),Si.forEach(Bd)}function Qs(t,e){t.blockedOn===e&&(t.blockedOn=null,Vu||(Vu=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,z0)))}function xi(t){function e(s){return Qs(s,t)}if(0<No.length){Qs(No[0],t);for(var n=1;n<No.length;n++){var r=No[n];r.blockedOn===t&&(r.blockedOn=null)}}for(er!==null&&Qs(er,t),tr!==null&&Qs(tr,t),nr!==null&&Qs(nr,t),wi.forEach(e),Si.forEach(e),n=0;n<Xn.length;n++)r=Xn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)vm(n),n.blockedOn===null&&Xn.shift()}var gs=Ln.ReactCurrentBatchConfig,ha=!0;function W0(t,e,n,r){var s=le,i=gs.transition;gs.transition=null;try{le=1,Yc(t,e,n,r)}finally{le=s,gs.transition=i}}function $0(t,e,n,r){var s=le,i=gs.transition;gs.transition=null;try{le=4,Yc(t,e,n,r)}finally{le=s,gs.transition=i}}function Yc(t,e,n,r){if(ha){var s=Uu(t,e,n,r);if(s===null)tu(t,e,r,da,n),Ud(t,r);else if(B0(s,t,e,n,r))r.stopPropagation();else if(Ud(t,r),e&4&&-1<U0.indexOf(t)){for(;s!==null;){var i=no(s);if(i!==null&&fm(i),i=Uu(t,e,n,r),i===null&&tu(t,e,r,da,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else tu(t,e,r,null,n)}}var da=null;function Uu(t,e,n,r){if(da=null,t=$c(r),t=kr(t),t!==null)if(e=qr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=im(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return da=t,null}function ym(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P0()){case qc:return 1;case um:return 4;case ua:case I0:return 16;case cm:return 536870912;default:return 16}default:return 16}}var Kn=null,Xc=null,qo=null;function _m(){if(qo)return qo;var t,e=Xc,n=e.length,r,s="value"in Kn?Kn.value:Kn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qo=s.slice(t,1<r?1-r:void 0)}function Ho(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eo(){return!0}function zd(){return!1}function Dt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Eo:zd,this.isPropagationStopped=zd,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),e}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qc=Dt(Ms),to=Ee({},Ms,{view:0,detail:0}),q0=Dt(to),Hl,Gl,Ks,nl=Ee({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ks&&(Ks&&t.type==="mousemove"?(Hl=t.screenX-Ks.screenX,Gl=t.screenY-Ks.screenY):Gl=Hl=0,Ks=t),Hl)},movementY:function(t){return"movementY"in t?t.movementY:Gl}}),Wd=Dt(nl),H0=Ee({},nl,{dataTransfer:0}),G0=Dt(H0),Y0=Ee({},to,{relatedTarget:0}),Yl=Dt(Y0),X0=Ee({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=Dt(X0),K0=Ee({},Ms,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z0=Dt(K0),J0=Ee({},Ms,{data:0}),$d=Dt(J0),e_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n_[t])?!!e[t]:!1}function Kc(){return r_}var s_=Ee({},to,{key:function(t){if(t.key){var e=e_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ho(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kc,charCode:function(t){return t.type==="keypress"?Ho(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ho(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i_=Dt(s_),o_=Ee({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qd=Dt(o_),a_=Ee({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kc}),l_=Dt(a_),u_=Ee({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),c_=Dt(u_),h_=Ee({},nl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d_=Dt(h_),f_=[9,13,27,32],Zc=In&&"CompositionEvent"in window,li=null;In&&"documentMode"in document&&(li=document.documentMode);var p_=In&&"TextEvent"in window&&!li,wm=In&&(!Zc||li&&8<li&&11>=li),Hd=String.fromCharCode(32),Gd=!1;function Sm(t,e){switch(t){case"keyup":return f_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function m_(t,e){switch(t){case"compositionend":return xm(e);case"keypress":return e.which!==32?null:(Gd=!0,Hd);case"textInput":return t=e.data,t===Hd&&Gd?null:t;default:return null}}function g_(t,e){if(ns)return t==="compositionend"||!Zc&&Sm(t,e)?(t=_m(),qo=Xc=Kn=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wm&&e.locale!=="ko"?null:e.data;default:return null}}var v_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v_[t.type]:e==="textarea"}function Tm(t,e,n,r){em(r),e=fa(e,"onChange"),0<e.length&&(n=new Qc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ui=null,Ti=null;function y_(t){Mm(t,0)}function rl(t){var e=is(t);if(Gp(e))return t}function __(t,e){if(t==="change")return e}var Cm=!1;if(In){var Xl;if(In){var Ql="oninput"in document;if(!Ql){var Xd=document.createElement("div");Xd.setAttribute("oninput","return;"),Ql=typeof Xd.oninput=="function"}Xl=Ql}else Xl=!1;Cm=Xl&&(!document.documentMode||9<document.documentMode)}function Qd(){ui&&(ui.detachEvent("onpropertychange",km),Ti=ui=null)}function km(t){if(t.propertyName==="value"&&rl(Ti)){var e=[];Tm(e,Ti,t,$c(t)),sm(y_,e)}}function w_(t,e,n){t==="focusin"?(Qd(),ui=e,Ti=n,ui.attachEvent("onpropertychange",km)):t==="focusout"&&Qd()}function S_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rl(Ti)}function x_(t,e){if(t==="click")return rl(e)}function T_(t,e){if(t==="input"||t==="change")return rl(e)}function C_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nn=typeof Object.is=="function"?Object.is:C_;function Ci(t,e){if(nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xu.call(e,s)||!nn(t[s],e[s]))return!1}return!0}function Kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zd(t,e){var n=Kd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kd(n)}}function Nm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Em(){for(var t=window,e=oa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=oa(t.document)}return e}function Jc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k_(t){var e=Em(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nm(n.ownerDocument.documentElement,n)){if(r!==null&&Jc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Zd(n,i);var o=Zd(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N_=In&&"documentMode"in document&&11>=document.documentMode,rs=null,Bu=null,ci=null,zu=!1;function Jd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zu||rs==null||rs!==oa(r)||(r=rs,"selectionStart"in r&&Jc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ci&&Ci(ci,r)||(ci=r,r=fa(Bu,"onSelect"),0<r.length&&(e=new Qc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rs)))}function Ao(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ss={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionend:Ao("Transition","TransitionEnd")},Kl={},Am={};In&&(Am=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function sl(t){if(Kl[t])return Kl[t];if(!ss[t])return t;var e=ss[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Am)return Kl[t]=e[n];return t}var Om=sl("animationend"),Rm=sl("animationiteration"),Pm=sl("animationstart"),Im=sl("transitionend"),Dm=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(t,e){Dm.set(t,e),$r(e,[t])}for(var Zl=0;Zl<ef.length;Zl++){var Jl=ef[Zl],E_=Jl.toLowerCase(),A_=Jl[0].toUpperCase()+Jl.slice(1);pr(E_,"on"+A_)}pr(Om,"onAnimationEnd");pr(Rm,"onAnimationIteration");pr(Pm,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(Im,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$r("onBeforeInput",["compositionend","keypress","textInput","paste"]);$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ii));function tf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,E0(r,e,void 0,t),t.currentTarget=null}function Mm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;tf(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;tf(s,a,u),i=l}}}if(la)throw t=Fu,la=!1,Fu=null,t}function ve(t,e){var n=e[Gu];n===void 0&&(n=e[Gu]=new Set);var r=t+"__bubble";n.has(r)||(bm(e,t,2,!1),n.add(r))}function eu(t,e,n){var r=0;e&&(r|=4),bm(n,t,r,e)}var Oo="_reactListening"+Math.random().toString(36).slice(2);function ki(t){if(!t[Oo]){t[Oo]=!0,zp.forEach(function(n){n!=="selectionchange"&&(O_.has(n)||eu(n,!1,t),eu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oo]||(e[Oo]=!0,eu("selectionchange",!1,e))}}function bm(t,e,n,r){switch(ym(e)){case 1:var s=W0;break;case 4:s=$0;break;default:s=Yc}n=s.bind(null,e,n,t),s=void 0,!ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function tu(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=kr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}sm(function(){var u=i,c=$c(n),h=[];e:{var d=Dm.get(t);if(d!==void 0){var v=Qc,f=t;switch(t){case"keypress":if(Ho(n)===0)break e;case"keydown":case"keyup":v=i_;break;case"focusin":f="focus",v=Yl;break;case"focusout":f="blur",v=Yl;break;case"beforeblur":case"afterblur":v=Yl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=G0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=l_;break;case Om:case Rm:case Pm:v=Q0;break;case Im:v=c_;break;case"scroll":v=q0;break;case"wheel":v=d_;break;case"copy":case"cut":case"paste":v=Z0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=qd}var y=(e&4)!==0,w=!y&&t==="scroll",p=y?d!==null?d+"Capture":null:d;y=[];for(var g=u,_;g!==null;){_=g;var T=_.stateNode;if(_.tag===5&&T!==null&&(_=T,p!==null&&(T=_i(g,p),T!=null&&y.push(Ni(g,T,_)))),w)break;g=g.return}0<y.length&&(d=new v(d,f,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",d&&n!==Mu&&(f=n.relatedTarget||n.fromElement)&&(kr(f)||f[Dn]))break e;if((v||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,v?(f=n.relatedTarget||n.toElement,v=u,f=f?kr(f):null,f!==null&&(w=qr(f),f!==w||f.tag!==5&&f.tag!==6)&&(f=null)):(v=null,f=u),v!==f)){if(y=Wd,T="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=qd,T="onPointerLeave",p="onPointerEnter",g="pointer"),w=v==null?d:is(v),_=f==null?d:is(f),d=new y(T,g+"leave",v,n,c),d.target=w,d.relatedTarget=_,T=null,kr(c)===u&&(y=new y(p,g+"enter",f,n,c),y.target=_,y.relatedTarget=w,T=y),w=T,v&&f)t:{for(y=v,p=f,g=0,_=y;_;_=Zr(_))g++;for(_=0,T=p;T;T=Zr(T))_++;for(;0<g-_;)y=Zr(y),g--;for(;0<_-g;)p=Zr(p),_--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=Zr(y),p=Zr(p)}y=null}else y=null;v!==null&&nf(h,d,v,y,!1),f!==null&&w!==null&&nf(h,w,f,y,!0)}}e:{if(d=u?is(u):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var S=__;else if(Yd(d))if(Cm)S=T_;else{S=S_;var C=w_}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=x_);if(S&&(S=S(t,u))){Tm(h,S,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Ou(d,"number",d.value)}switch(C=u?is(u):window,t){case"focusin":(Yd(C)||C.contentEditable==="true")&&(rs=C,Bu=u,ci=null);break;case"focusout":ci=Bu=rs=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Jd(h,n,c);break;case"selectionchange":if(N_)break;case"keydown":case"keyup":Jd(h,n,c)}var k;if(Zc)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ns?Sm(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(wm&&n.locale!=="ko"&&(ns||x!=="onCompositionStart"?x==="onCompositionEnd"&&ns&&(k=_m()):(Kn=c,Xc="value"in Kn?Kn.value:Kn.textContent,ns=!0)),C=fa(u,x),0<C.length&&(x=new $d(x,t,null,n,c),h.push({event:x,listeners:C}),k?x.data=k:(k=xm(n),k!==null&&(x.data=k)))),(k=p_?m_(t,n):g_(t,n))&&(u=fa(u,"onBeforeInput"),0<u.length&&(c=new $d("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}Mm(h,e)})}function Ni(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fa(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_i(t,n),i!=null&&r.unshift(Ni(t,i,s)),i=_i(t,e),i!=null&&r.push(Ni(t,i,s))),t=t.return}return r}function Zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nf(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=_i(n,i),l!=null&&o.unshift(Ni(n,l,a))):s||(l=_i(n,i),l!=null&&o.push(Ni(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var R_=/\r\n?/g,P_=/\u0000|\uFFFD/g;function rf(t){return(typeof t=="string"?t:""+t).replace(R_,`
`).replace(P_,"")}function Ro(t,e,n){if(e=rf(e),rf(t)!==e&&n)throw Error(M(425))}function pa(){}var Wu=null,$u=null;function qu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hu=typeof setTimeout=="function"?setTimeout:void 0,I_=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,D_=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(t){return sf.resolve(null).then(t).catch(M_)}:Hu;function M_(t){setTimeout(function(){throw t})}function nu(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),xi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xi(e)}function rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function of(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bs=Math.random().toString(36).slice(2),hn="__reactFiber$"+bs,Ei="__reactProps$"+bs,Dn="__reactContainer$"+bs,Gu="__reactEvents$"+bs,b_="__reactListeners$"+bs,j_="__reactHandles$"+bs;function kr(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=of(t);t!==null;){if(n=t[hn])return n;t=of(t)}return e}t=n,n=t.parentNode}return null}function no(t){return t=t[hn]||t[Dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function il(t){return t[Ei]||null}var Yu=[],os=-1;function mr(t){return{current:t}}function ye(t){0>os||(t.current=Yu[os],Yu[os]=null,os--)}function pe(t,e){os++,Yu[os]=t.current,t.current=e}var hr={},st=mr(hr),wt=mr(!1),Ir=hr;function xs(t,e){var n=t.type.contextTypes;if(!n)return hr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function St(t){return t=t.childContextTypes,t!=null}function ma(){ye(wt),ye(st)}function af(t,e,n){if(st.current!==hr)throw Error(M(168));pe(st,e),pe(wt,n)}function jm(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(M(108,w0(t)||"Unknown",s));return Ee({},n,r)}function ga(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,Ir=st.current,pe(st,t),pe(wt,wt.current),!0}function lf(t,e,n){var r=t.stateNode;if(!r)throw Error(M(169));n?(t=jm(t,e,Ir),r.__reactInternalMemoizedMergedChildContext=t,ye(wt),ye(st),pe(st,t)):ye(wt),pe(wt,n)}var kn=null,ol=!1,ru=!1;function Fm(t){kn===null?kn=[t]:kn.push(t)}function F_(t){ol=!0,Fm(t)}function gr(){if(!ru&&kn!==null){ru=!0;var t=0,e=le;try{var n=kn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}kn=null,ol=!1}catch(s){throw kn!==null&&(kn=kn.slice(t+1)),lm(qc,gr),s}finally{le=e,ru=!1}}return null}var as=[],ls=0,va=null,ya=0,jt=[],Ft=0,Dr=null,En=1,An="";function Sr(t,e){as[ls++]=ya,as[ls++]=va,va=t,ya=e}function Lm(t,e,n){jt[Ft++]=En,jt[Ft++]=An,jt[Ft++]=Dr,Dr=t;var r=En;t=An;var s=32-Jt(r)-1;r&=~(1<<s),n+=1;var i=32-Jt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,En=1<<32-Jt(e)+s|n<<s|r,An=i+t}else En=1<<i|n<<s|r,An=t}function eh(t){t.return!==null&&(Sr(t,1),Lm(t,1,0))}function th(t){for(;t===va;)va=as[--ls],as[ls]=null,ya=as[--ls],as[ls]=null;for(;t===Dr;)Dr=jt[--Ft],jt[Ft]=null,An=jt[--Ft],jt[Ft]=null,En=jt[--Ft],jt[Ft]=null}var Ot=null,At=null,Ce=!1,Xt=null;function Vm(t,e){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ot=t,At=rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ot=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dr!==null?{id:En,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ot=t,At=null,!0):!1;default:return!1}}function Xu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qu(t){if(Ce){var e=At;if(e){var n=e;if(!uf(t,e)){if(Xu(t))throw Error(M(418));e=rr(n.nextSibling);var r=Ot;e&&uf(t,e)?Vm(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Ot=t)}}else{if(Xu(t))throw Error(M(418));t.flags=t.flags&-4097|2,Ce=!1,Ot=t}}}function cf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Po(t){if(t!==Ot)return!1;if(!Ce)return cf(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qu(t.type,t.memoizedProps)),e&&(e=At)){if(Xu(t))throw Um(),Error(M(418));for(;e;)Vm(t,e),e=rr(e.nextSibling)}if(cf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=rr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=Ot?rr(t.stateNode.nextSibling):null;return!0}function Um(){for(var t=At;t;)t=rr(t.nextSibling)}function Ts(){At=Ot=null,Ce=!1}function nh(t){Xt===null?Xt=[t]:Xt.push(t)}var L_=Ln.ReactCurrentBatchConfig;function Gt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _a=mr(null),wa=null,us=null,rh=null;function sh(){rh=us=wa=null}function ih(t){var e=_a.current;ye(_a),t._currentValue=e}function Ku(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vs(t,e){wa=t,rh=us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(rh!==t)if(t={context:t,memoizedValue:e,next:null},us===null){if(wa===null)throw Error(M(308));us=t,wa.dependencies={lanes:0,firstContext:t}}else us=us.next=t;return e}var Nr=null;function oh(t){Nr===null?Nr=[t]:Nr.push(t)}function Bm(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,oh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mn(t,r)}function Mn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gn=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function On(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Mn(t,n)}return s=r.interleaved,s===null?(e.next=e,oh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Mn(t,n)}function Go(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hc(t,n)}}function hf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sa(t,e,n,r){var s=t.updateQueue;Gn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,v=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=t,y=a;switch(d=e,v=n,y.tag){case 1:if(f=y.payload,typeof f=="function"){h=f.call(v,h,d);break e}h=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=y.payload,d=typeof f=="function"?f.call(v,h,d):f,d==null)break e;h=Ee({},h,d);break e;case 2:Gn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else v={eventTime:v,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);br|=o,t.lanes=o,t.memoizedState=h}}function df(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(M(191,s));s.call(r)}}}var Wm=new Bp.Component().refs;function Zu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var al={isMounted:function(t){return(t=t._reactInternals)?qr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ct(),s=or(t),i=On(r,s);i.payload=e,n!=null&&(i.callback=n),e=sr(t,i,s),e!==null&&(en(e,t,s,r),Go(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ct(),s=or(t),i=On(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=sr(t,i,s),e!==null&&(en(e,t,s,r),Go(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ct(),r=or(t),s=On(n,r);s.tag=2,e!=null&&(s.callback=e),e=sr(t,s,r),e!==null&&(en(e,t,r,n),Go(e,t,r))}};function ff(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ci(n,r)||!Ci(s,i):!0}function $m(t,e,n){var r=!1,s=hr,i=e.contextType;return typeof i=="object"&&i!==null?i=Wt(i):(s=St(e)?Ir:st.current,r=e.contextTypes,i=(r=r!=null)?xs(t,s):hr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=al,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&al.enqueueReplaceState(e,e.state,null)}function Ju(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Wm,ah(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Wt(i):(i=St(e)?Ir:st.current,s.context=xs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&al.enqueueReplaceState(s,s.state,null),Sa(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var r=n.stateNode}if(!r)throw Error(M(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===Wm&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function Io(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mf(t){var e=t._init;return e(t._payload)}function qm(t){function e(p,g){if(t){var _=p.deletions;_===null?(p.deletions=[g],p.flags|=16):_.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function s(p,g){return p=ar(p,g),p.index=0,p.sibling=null,p}function i(p,g,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<g?(p.flags|=2,g):_):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,g,_,T){return g===null||g.tag!==6?(g=cu(_,p.mode,T),g.return=p,g):(g=s(g,_),g.return=p,g)}function l(p,g,_,T){var S=_.type;return S===ts?c(p,g,_.props.children,T,_.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hn&&mf(S)===g.type)?(T=s(g,_.props),T.ref=Zs(p,g,_),T.return=p,T):(T=Jo(_.type,_.key,_.props,null,p.mode,T),T.ref=Zs(p,g,_),T.return=p,T)}function u(p,g,_,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=hu(_,p.mode,T),g.return=p,g):(g=s(g,_.children||[]),g.return=p,g)}function c(p,g,_,T,S){return g===null||g.tag!==7?(g=Or(_,p.mode,T,S),g.return=p,g):(g=s(g,_),g.return=p,g)}function h(p,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=cu(""+g,p.mode,_),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case So:return _=Jo(g.type,g.key,g.props,null,p.mode,_),_.ref=Zs(p,null,g),_.return=p,_;case es:return g=hu(g,p.mode,_),g.return=p,g;case Hn:var T=g._init;return h(p,T(g._payload),_)}if(ri(g)||Gs(g))return g=Or(g,p.mode,_,null),g.return=p,g;Io(p,g)}return null}function d(p,g,_,T){var S=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(p,g,""+_,T);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case So:return _.key===S?l(p,g,_,T):null;case es:return _.key===S?u(p,g,_,T):null;case Hn:return S=_._init,d(p,g,S(_._payload),T)}if(ri(_)||Gs(_))return S!==null?null:c(p,g,_,T,null);Io(p,_)}return null}function v(p,g,_,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return p=p.get(_)||null,a(g,p,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case So:return p=p.get(T.key===null?_:T.key)||null,l(g,p,T,S);case es:return p=p.get(T.key===null?_:T.key)||null,u(g,p,T,S);case Hn:var C=T._init;return v(p,g,_,C(T._payload),S)}if(ri(T)||Gs(T))return p=p.get(_)||null,c(g,p,T,S,null);Io(g,T)}return null}function f(p,g,_,T){for(var S=null,C=null,k=g,x=g=0,A=null;k!==null&&x<_.length;x++){k.index>x?(A=k,k=null):A=k.sibling;var E=d(p,k,_[x],T);if(E===null){k===null&&(k=A);break}t&&k&&E.alternate===null&&e(p,k),g=i(E,g,x),C===null?S=E:C.sibling=E,C=E,k=A}if(x===_.length)return n(p,k),Ce&&Sr(p,x),S;if(k===null){for(;x<_.length;x++)k=h(p,_[x],T),k!==null&&(g=i(k,g,x),C===null?S=k:C.sibling=k,C=k);return Ce&&Sr(p,x),S}for(k=r(p,k);x<_.length;x++)A=v(k,p,x,_[x],T),A!==null&&(t&&A.alternate!==null&&k.delete(A.key===null?x:A.key),g=i(A,g,x),C===null?S=A:C.sibling=A,C=A);return t&&k.forEach(function(R){return e(p,R)}),Ce&&Sr(p,x),S}function y(p,g,_,T){var S=Gs(_);if(typeof S!="function")throw Error(M(150));if(_=S.call(_),_==null)throw Error(M(151));for(var C=S=null,k=g,x=g=0,A=null,E=_.next();k!==null&&!E.done;x++,E=_.next()){k.index>x?(A=k,k=null):A=k.sibling;var R=d(p,k,E.value,T);if(R===null){k===null&&(k=A);break}t&&k&&R.alternate===null&&e(p,k),g=i(R,g,x),C===null?S=R:C.sibling=R,C=R,k=A}if(E.done)return n(p,k),Ce&&Sr(p,x),S;if(k===null){for(;!E.done;x++,E=_.next())E=h(p,E.value,T),E!==null&&(g=i(E,g,x),C===null?S=E:C.sibling=E,C=E);return Ce&&Sr(p,x),S}for(k=r(p,k);!E.done;x++,E=_.next())E=v(k,p,x,E.value,T),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?x:E.key),g=i(E,g,x),C===null?S=E:C.sibling=E,C=E);return t&&k.forEach(function(O){return e(p,O)}),Ce&&Sr(p,x),S}function w(p,g,_,T){if(typeof _=="object"&&_!==null&&_.type===ts&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case So:e:{for(var S=_.key,C=g;C!==null;){if(C.key===S){if(S=_.type,S===ts){if(C.tag===7){n(p,C.sibling),g=s(C,_.props.children),g.return=p,p=g;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Hn&&mf(S)===C.type){n(p,C.sibling),g=s(C,_.props),g.ref=Zs(p,C,_),g.return=p,p=g;break e}n(p,C);break}else e(p,C);C=C.sibling}_.type===ts?(g=Or(_.props.children,p.mode,T,_.key),g.return=p,p=g):(T=Jo(_.type,_.key,_.props,null,p.mode,T),T.ref=Zs(p,g,_),T.return=p,p=T)}return o(p);case es:e:{for(C=_.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(p,g.sibling),g=s(g,_.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=hu(_,p.mode,T),g.return=p,p=g}return o(p);case Hn:return C=_._init,w(p,g,C(_._payload),T)}if(ri(_))return f(p,g,_,T);if(Gs(_))return y(p,g,_,T);Io(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(p,g.sibling),g=s(g,_),g.return=p,p=g):(n(p,g),g=cu(_,p.mode,T),g.return=p,p=g),o(p)):n(p,g)}return w}var Cs=qm(!0),Hm=qm(!1),ro={},pn=mr(ro),Ai=mr(ro),Oi=mr(ro);function Er(t){if(t===ro)throw Error(M(174));return t}function lh(t,e){switch(pe(Oi,e),pe(Ai,t),pe(pn,ro),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pu(e,t)}ye(pn),pe(pn,e)}function ks(){ye(pn),ye(Ai),ye(Oi)}function Gm(t){Er(Oi.current);var e=Er(pn.current),n=Pu(e,t.type);e!==n&&(pe(Ai,t),pe(pn,n))}function uh(t){Ai.current===t&&(ye(pn),ye(Ai))}var ke=mr(0);function xa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var su=[];function ch(){for(var t=0;t<su.length;t++)su[t]._workInProgressVersionPrimary=null;su.length=0}var Yo=Ln.ReactCurrentDispatcher,iu=Ln.ReactCurrentBatchConfig,Mr=0,Ne=null,ze=null,Ye=null,Ta=!1,hi=!1,Ri=0,V_=0;function tt(){throw Error(M(321))}function hh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nn(t[n],e[n]))return!1;return!0}function dh(t,e,n,r,s,i){if(Mr=i,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yo.current=t===null||t.memoizedState===null?W_:$_,t=n(r,s),hi){i=0;do{if(hi=!1,Ri=0,25<=i)throw Error(M(301));i+=1,Ye=ze=null,e.updateQueue=null,Yo.current=q_,t=n(r,s)}while(hi)}if(Yo.current=Ca,e=ze!==null&&ze.next!==null,Mr=0,Ye=ze=Ne=null,Ta=!1,e)throw Error(M(300));return t}function fh(){var t=Ri!==0;return Ri=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ne.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function $t(){if(ze===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ye===null?Ne.memoizedState:Ye.next;if(e!==null)Ye=e,ze=t;else{if(t===null)throw Error(M(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ye===null?Ne.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function Pi(t,e){return typeof e=="function"?e(t):e}function ou(t){var e=$t(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Mr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ne.lanes|=c,br|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,nn(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ne.lanes|=i,br|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function au(t){var e=$t(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);nn(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ym(){}function Xm(t,e){var n=Ne,r=$t(),s=e(),i=!nn(r.memoizedState,s);if(i&&(r.memoizedState=s,_t=!0),r=r.queue,ph(Zm.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,Ii(9,Km.bind(null,n,r,s,e),void 0,null),Xe===null)throw Error(M(349));Mr&30||Qm(n,e,s)}return s}function Qm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Km(t,e,n,r){e.value=n,e.getSnapshot=r,Jm(e)&&eg(t)}function Zm(t,e,n){return n(function(){Jm(e)&&eg(t)})}function Jm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nn(t,n)}catch{return!0}}function eg(t){var e=Mn(t,1);e!==null&&en(e,t,1,-1)}function gf(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},e.queue=t,t=t.dispatch=z_.bind(null,Ne,t),[e.memoizedState,t]}function Ii(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tg(){return $t().memoizedState}function Xo(t,e,n,r){var s=cn();Ne.flags|=t,s.memoizedState=Ii(1|e,n,void 0,r===void 0?null:r)}function ll(t,e,n,r){var s=$t();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&hh(r,o.deps)){s.memoizedState=Ii(e,n,i,r);return}}Ne.flags|=t,s.memoizedState=Ii(1|e,n,i,r)}function vf(t,e){return Xo(8390656,8,t,e)}function ph(t,e){return ll(2048,8,t,e)}function ng(t,e){return ll(4,2,t,e)}function rg(t,e){return ll(4,4,t,e)}function sg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ig(t,e,n){return n=n!=null?n.concat([t]):null,ll(4,4,sg.bind(null,e,t),n)}function mh(){}function og(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ag(t,e){var n=$t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lg(t,e,n){return Mr&21?(nn(n,e)||(n=hm(),Ne.lanes|=n,br|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function U_(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=iu.transition;iu.transition={};try{t(!1),e()}finally{le=n,iu.transition=r}}function ug(){return $t().memoizedState}function B_(t,e,n){var r=or(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cg(t))hg(e,n);else if(n=Bm(t,e,n,r),n!==null){var s=ct();en(n,t,r,s),dg(n,e,r)}}function z_(t,e,n){var r=or(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cg(t))hg(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,nn(a,o)){var l=e.interleaved;l===null?(s.next=s,oh(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Bm(t,e,s,r),n!==null&&(s=ct(),en(n,t,r,s),dg(n,e,r))}}function cg(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function hg(t,e){hi=Ta=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dg(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hc(t,n)}}var Ca={readContext:Wt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},W_={readContext:Wt,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:vf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xo(4194308,4,sg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xo(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=B_.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:gf,useDebugValue:mh,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=gf(!1),e=t[0];return t=U_.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,s=cn();if(Ce){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),Xe===null)throw Error(M(349));Mr&30||Qm(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,vf(Zm.bind(null,r,i,t),[t]),r.flags|=2048,Ii(9,Km.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cn(),e=Xe.identifierPrefix;if(Ce){var n=An,r=En;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ri++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=V_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$_={readContext:Wt,useCallback:og,useContext:Wt,useEffect:ph,useImperativeHandle:ig,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:ou,useRef:tg,useState:function(){return ou(Pi)},useDebugValue:mh,useDeferredValue:function(t){var e=$t();return lg(e,ze.memoizedState,t)},useTransition:function(){var t=ou(Pi)[0],e=$t().memoizedState;return[t,e]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:ug,unstable_isNewReconciler:!1},q_={readContext:Wt,useCallback:og,useContext:Wt,useEffect:ph,useImperativeHandle:ig,useInsertionEffect:ng,useLayoutEffect:rg,useMemo:ag,useReducer:au,useRef:tg,useState:function(){return au(Pi)},useDebugValue:mh,useDeferredValue:function(t){var e=$t();return ze===null?e.memoizedState=t:lg(e,ze.memoizedState,t)},useTransition:function(){var t=au(Pi)[0],e=$t().memoizedState;return[t,e]},useMutableSource:Ym,useSyncExternalStore:Xm,useId:ug,unstable_isNewReconciler:!1};function Ns(t,e){try{var n="",r=e;do n+=_0(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function lu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ec(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var H_=typeof WeakMap=="function"?WeakMap:Map;function fg(t,e,n){n=On(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Na||(Na=!0,cc=r),ec(t,e)},n}function pg(t,e,n){n=On(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ec(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ec(t,e),typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=o1.bind(null,t,e,n),e.then(t,t))}function _f(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=On(-1,1),e.tag=2,sr(n,e,1))),n.lanes|=1),t)}var G_=Ln.ReactCurrentOwner,_t=!1;function ot(t,e,n,r){e.child=t===null?Hm(e,null,n,r):Cs(e,t.child,n,r)}function Sf(t,e,n,r,s){n=n.render;var i=e.ref;return vs(e,s),r=dh(t,e,n,r,i,s),n=fh(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bn(t,e,s)):(Ce&&n&&eh(e),e.flags|=1,ot(t,e,r,s),e.child)}function xf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Th(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,mg(t,e,i,r,s)):(t=Jo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ci,n(o,r)&&t.ref===e.ref)return bn(t,e,s)}return e.flags|=1,t=ar(i,r),t.ref=e.ref,t.return=e,e.child=t}function mg(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ci(i,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,bn(t,e,s)}return tc(t,e,n,r,s)}function gg(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(hs,Et),Et|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pe(hs,Et),Et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,pe(hs,Et),Et|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,pe(hs,Et),Et|=r;return ot(t,e,s,n),e.child}function vg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tc(t,e,n,r,s){var i=St(n)?Ir:st.current;return i=xs(e,i),vs(e,s),n=dh(t,e,n,r,i,s),r=fh(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bn(t,e,s)):(Ce&&r&&eh(e),e.flags|=1,ot(t,e,n,s),e.child)}function Tf(t,e,n,r,s){if(St(n)){var i=!0;ga(e)}else i=!1;if(vs(e,s),e.stateNode===null)Qo(t,e),$m(e,n,r),Ju(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wt(u):(u=St(n)?Ir:st.current,u=xs(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&pf(e,o,r,u),Gn=!1;var d=e.memoizedState;o.state=d,Sa(e,r,o,s),l=e.memoizedState,a!==r||d!==l||wt.current||Gn?(typeof c=="function"&&(Zu(e,n,c,r),l=e.memoizedState),(a=Gn||ff(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,zm(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Gt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wt(l):(l=St(n)?Ir:st.current,l=xs(e,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&pf(e,o,r,l),Gn=!1,d=e.memoizedState,o.state=d,Sa(e,r,o,s);var f=e.memoizedState;a!==h||d!==f||wt.current||Gn?(typeof v=="function"&&(Zu(e,n,v,r),f=e.memoizedState),(u=Gn||ff(e,n,u,r,d,f,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return nc(t,e,n,r,i,s)}function nc(t,e,n,r,s,i){vg(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&lf(e,n,!1),bn(t,e,i);r=e.stateNode,G_.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Cs(e,t.child,null,i),e.child=Cs(e,null,a,i)):ot(t,e,a,i),e.memoizedState=r.state,s&&lf(e,n,!0),e.child}function yg(t){var e=t.stateNode;e.pendingContext?af(t,e.pendingContext,e.pendingContext!==e.context):e.context&&af(t,e.context,!1),lh(t,e.containerInfo)}function Cf(t,e,n,r,s){return Ts(),nh(s),e.flags|=256,ot(t,e,n,r),e.child}var rc={dehydrated:null,treeContext:null,retryLane:0};function sc(t){return{baseLanes:t,cachePool:null,transitions:null}}function _g(t,e,n){var r=e.pendingProps,s=ke.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),pe(ke,s&1),t===null)return Qu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=hl(o,r,0,null),t=Or(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sc(n),e.memoizedState=rc,t):gh(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Y_(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ar(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ar(a,i):(i=Or(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?sc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=rc,r}return i=t.child,t=i.sibling,r=ar(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gh(t,e){return e=hl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Do(t,e,n,r){return r!==null&&nh(r),Cs(e,t.child,null,n),t=gh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Y_(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=lu(Error(M(422))),Do(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=hl({mode:"visible",children:r.children},s,0,null),i=Or(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Cs(e,t.child,null,o),e.child.memoizedState=sc(o),e.memoizedState=rc,i);if(!(e.mode&1))return Do(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(M(419)),r=lu(i,r,void 0),Do(t,e,o,r)}if(a=(o&t.childLanes)!==0,_t||a){if(r=Xe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Mn(t,s),en(r,t,s,-1))}return xh(),r=lu(Error(M(421))),Do(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=a1.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,At=rr(s.nextSibling),Ot=e,Ce=!0,Xt=null,t!==null&&(jt[Ft++]=En,jt[Ft++]=An,jt[Ft++]=Dr,En=t.id,An=t.overflow,Dr=e),e=gh(e,r.children),e.flags|=4096,e)}function kf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ku(t.return,e,n)}function uu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function wg(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ot(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kf(t,n,e);else if(t.tag===19)kf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pe(ke,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xa(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xa(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uu(e,!0,n,null,i);break;case"together":uu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),br|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function X_(t,e,n){switch(e.tag){case 3:yg(e),Ts();break;case 5:Gm(e);break;case 1:St(e.type)&&ga(e);break;case 4:lh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;pe(_a,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pe(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?_g(t,e,n):(pe(ke,ke.current&1),t=bn(t,e,n),t!==null?t.sibling:null);pe(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,gg(t,e,n)}return bn(t,e,n)}var Sg,ic,xg,Tg;Sg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ic=function(){};xg=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Er(pn.current);var i=null;switch(n){case"input":s=Eu(t,s),r=Eu(t,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Ru(t,s),r=Ru(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pa)}Iu(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Tg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Js(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Q_(t,e,n){var r=e.pendingProps;switch(th(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return St(e.type)&&ma(),nt(e),null;case 3:return r=e.stateNode,ks(),ye(wt),ye(st),ch(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Po(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(fc(Xt),Xt=null))),ic(t,e),nt(e),null;case 5:uh(e);var s=Er(Oi.current);if(n=e.type,t!==null&&e.stateNode!=null)xg(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(M(166));return nt(e),null}if(t=Er(pn.current),Po(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hn]=e,r[Ei]=i,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<ii.length;s++)ve(ii[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Dd(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":bd(r,i),ve("invalid",r)}Iu(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ro(r.textContent,a,t),s=["children",""+a]):vi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":xo(r),Md(r,i,!0);break;case"textarea":xo(r),jd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pa)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hn]=e,t[Ei]=r,Sg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Du(n,r),n){case"dialog":ve("cancel",t),ve("close",t),s=r;break;case"iframe":case"object":case"embed":ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<ii.length;s++)ve(ii[s],t);s=r;break;case"source":ve("error",t),s=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=r;break;case"details":ve("toggle",t),s=r;break;case"input":Dd(t,r),s=Eu(t,r),ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),ve("invalid",t);break;case"textarea":bd(t,r),s=Ru(t,r),ve("invalid",t);break;default:s=r}Iu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Jp(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kp(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&yi(t,l):typeof l=="number"&&yi(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vi.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ve("scroll",t):l!=null&&Uc(t,i,l,o))}switch(n){case"input":xo(t),Md(t,r,!1);break;case"textarea":xo(t),jd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+cr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fs(t,!!r.multiple,i,!1):r.defaultValue!=null&&fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nt(e),null;case 6:if(t&&e.stateNode!=null)Tg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(M(166));if(n=Er(Oi.current),Er(pn.current),Po(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(i=r.nodeValue!==n)&&(t=Ot,t!==null))switch(t.tag){case 3:Ro(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ro(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return nt(e),null;case 13:if(ye(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&At!==null&&e.mode&1&&!(e.flags&128))Um(),Ts(),e.flags|=98560,i=!1;else if(i=Po(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(M(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(M(317));i[hn]=e}else Ts(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),i=!1}else Xt!==null&&(fc(Xt),Xt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?We===0&&(We=3):xh())),e.updateQueue!==null&&(e.flags|=4),nt(e),null);case 4:return ks(),ic(t,e),t===null&&ki(e.stateNode.containerInfo),nt(e),null;case 10:return ih(e.type._context),nt(e),null;case 17:return St(e.type)&&ma(),nt(e),null;case 19:if(ye(ke),i=e.memoizedState,i===null)return nt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Js(i,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xa(t),o!==null){for(e.flags|=128,Js(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pe(ke,ke.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>Es&&(e.flags|=128,r=!0,Js(i,!1),e.lanes=4194304)}else{if(!r)if(t=xa(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Js(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ce)return nt(e),null}else 2*je()-i.renderingStartTime>Es&&n!==1073741824&&(e.flags|=128,r=!0,Js(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=ke.current,pe(ke,r?n&1|2:n&1),e):(nt(e),null);case 22:case 23:return Sh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Et&1073741824&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function K_(t,e){switch(th(e),e.tag){case 1:return St(e.type)&&ma(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ks(),ye(wt),ye(st),ch(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uh(e),null;case 13:if(ye(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Ts()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ye(ke),null;case 4:return ks(),null;case 10:return ih(e.type._context),null;case 22:case 23:return Sh(),null;case 24:return null;default:return null}}var Mo=!1,rt=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,q=null;function cs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function oc(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var Nf=!1;function J_(t,e){if(Wu=ha,t=Em(),Jc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)d=h,h=v;for(;;){if(h===t)break t;if(d===n&&++u===s&&(a=o),d===i&&++c===r&&(l=o),(v=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($u={focusedElem:t,selectionRange:n},ha=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var y=f.memoizedProps,w=f.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:Gt(e.type,y),w);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(T){Oe(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return f=Nf,Nf=!1,f}function di(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&oc(e,n,i)}s=s.next}while(s!==r)}}function ul(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ac(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cg(t){var e=t.alternate;e!==null&&(t.alternate=null,Cg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[Ei],delete e[Gu],delete e[b_],delete e[j_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kg(t){return t.tag===5||t.tag===3||t.tag===4}function Ef(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pa));else if(r!==4&&(t=t.child,t!==null))for(lc(t,e,n),t=t.sibling;t!==null;)lc(t,e,n),t=t.sibling}function uc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}var Ke=null,Yt=!1;function Wn(t,e,n){for(n=n.child;n!==null;)Ng(t,e,n),n=n.sibling}function Ng(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(tl,n)}catch{}switch(n.tag){case 5:rt||cs(n,e);case 6:var r=Ke,s=Yt;Ke=null,Wn(t,e,n),Ke=r,Yt=s,Ke!==null&&(Yt?(t=Ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(Yt?(t=Ke,n=n.stateNode,t.nodeType===8?nu(t.parentNode,n):t.nodeType===1&&nu(t,n),xi(t)):nu(Ke,n.stateNode));break;case 4:r=Ke,s=Yt,Ke=n.stateNode.containerInfo,Yt=!0,Wn(t,e,n),Ke=r,Yt=s;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&oc(n,e,o),s=s.next}while(s!==r)}Wn(t,e,n);break;case 1:if(!rt&&(cs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Oe(n,e,a)}Wn(t,e,n);break;case 21:Wn(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Wn(t,e,n),rt=r):Wn(t,e,n);break;default:Wn(t,e,n)}}function Af(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Z_),e.forEach(function(r){var s=l1.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,Yt=!1;break e;case 3:Ke=a.stateNode.containerInfo,Yt=!0;break e;case 4:Ke=a.stateNode.containerInfo,Yt=!0;break e}a=a.return}if(Ke===null)throw Error(M(160));Ng(i,o,s),Ke=null,Yt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Oe(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Eg(e,t),e=e.sibling}function Eg(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),un(t),r&4){try{di(3,t,t.return),ul(3,t)}catch(y){Oe(t,t.return,y)}try{di(5,t,t.return)}catch(y){Oe(t,t.return,y)}}break;case 1:qt(e,t),un(t),r&512&&n!==null&&cs(n,n.return);break;case 5:if(qt(e,t),un(t),r&512&&n!==null&&cs(n,n.return),t.flags&32){var s=t.stateNode;try{yi(s,"")}catch(y){Oe(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Yp(s,i),Du(a,o);var u=Du(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Jp(s,h):c==="dangerouslySetInnerHTML"?Kp(s,h):c==="children"?yi(s,h):Uc(s,c,h,u)}switch(a){case"input":Au(s,i);break;case"textarea":Xp(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?fs(s,!!i.multiple,v,!1):d!==!!i.multiple&&(i.defaultValue!=null?fs(s,!!i.multiple,i.defaultValue,!0):fs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ei]=i}catch(y){Oe(t,t.return,y)}}break;case 6:if(qt(e,t),un(t),r&4){if(t.stateNode===null)throw Error(M(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Oe(t,t.return,y)}}break;case 3:if(qt(e,t),un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xi(e.containerInfo)}catch(y){Oe(t,t.return,y)}break;case 4:qt(e,t),un(t);break;case 13:qt(e,t),un(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_h=je())),r&4&&Af(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(u=rt)||c,qt(e,t),rt=u):qt(e,t),un(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(q=t,c=t.child;c!==null;){for(h=q=c;q!==null;){switch(d=q,v=d.child,d.tag){case 0:case 11:case 14:case 15:di(4,d,d.return);break;case 1:cs(d,d.return);var f=d.stateNode;if(typeof f.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(y){Oe(r,n,y)}}break;case 5:cs(d,d.return);break;case 22:if(d.memoizedState!==null){Rf(h);continue}}v!==null?(v.return=d,q=v):Rf(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Zp("display",o))}catch(y){Oe(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Oe(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:qt(e,t),un(t),r&4&&Af(t);break;case 21:break;default:qt(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kg(n)){var r=n;break e}n=n.return}throw Error(M(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(yi(s,""),r.flags&=-33);var i=Ef(t);uc(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ef(t);lc(t,a,o);break;default:throw Error(M(161))}}catch(l){Oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e1(t,e,n){q=t,Ag(t)}function Ag(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Mo;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||rt;a=Mo;var u=rt;if(Mo=o,(rt=l)&&!u)for(q=s;q!==null;)o=q,l=o.child,o.tag===22&&o.memoizedState!==null?Pf(s):l!==null?(l.return=o,q=l):Pf(s);for(;i!==null;)q=i,Ag(i),i=i.sibling;q=s,Mo=a,rt=u}Of(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):Of(t)}}function Of(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||ul(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&df(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}df(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&xi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}rt||e.flags&512&&ac(e)}catch(d){Oe(e,e.return,d)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Rf(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Pf(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ul(4,e)}catch(l){Oe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Oe(e,s,l)}}var i=e.return;try{ac(e)}catch(l){Oe(e,i,l)}break;case 5:var o=e.return;try{ac(e)}catch(l){Oe(e,o,l)}}}catch(l){Oe(e,e.return,l)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var t1=Math.ceil,ka=Ln.ReactCurrentDispatcher,vh=Ln.ReactCurrentOwner,Ut=Ln.ReactCurrentBatchConfig,se=0,Xe=null,Ue=null,Ze=0,Et=0,hs=mr(0),We=0,Di=null,br=0,cl=0,yh=0,fi=null,vt=null,_h=0,Es=1/0,Tn=null,Na=!1,cc=null,ir=null,bo=!1,Zn=null,Ea=0,pi=0,hc=null,Ko=-1,Zo=0;function ct(){return se&6?je():Ko!==-1?Ko:Ko=je()}function or(t){return t.mode&1?se&2&&Ze!==0?Ze&-Ze:L_.transition!==null?(Zo===0&&(Zo=hm()),Zo):(t=le,t!==0||(t=window.event,t=t===void 0?16:ym(t.type)),t):1}function en(t,e,n,r){if(50<pi)throw pi=0,hc=null,Error(M(185));eo(t,n,r),(!(se&2)||t!==Xe)&&(t===Xe&&(!(se&2)&&(cl|=n),We===4&&Qn(t,Ze)),xt(t,r),n===1&&se===0&&!(e.mode&1)&&(Es=je()+500,ol&&gr()))}function xt(t,e){var n=t.callbackNode;L0(t,e);var r=ca(t,t===Xe?Ze:0);if(r===0)n!==null&&Vd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Vd(n),e===1)t.tag===0?F_(If.bind(null,t)):Fm(If.bind(null,t)),D_(function(){!(se&6)&&gr()}),n=null;else{switch(dm(r)){case 1:n=qc;break;case 4:n=um;break;case 16:n=ua;break;case 536870912:n=cm;break;default:n=ua}n=jg(n,Og.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Og(t,e){if(Ko=-1,Zo=0,se&6)throw Error(M(327));var n=t.callbackNode;if(ys()&&t.callbackNode!==n)return null;var r=ca(t,t===Xe?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Aa(t,r);else{e=r;var s=se;se|=2;var i=Pg();(Xe!==t||Ze!==e)&&(Tn=null,Es=je()+500,Ar(t,e));do try{s1();break}catch(a){Rg(t,a)}while(1);sh(),ka.current=i,se=s,Ue!==null?e=0:(Xe=null,Ze=0,e=We)}if(e!==0){if(e===2&&(s=Lu(t),s!==0&&(r=s,e=dc(t,s))),e===1)throw n=Di,Ar(t,0),Qn(t,r),xt(t,je()),n;if(e===6)Qn(t,r);else{if(s=t.current.alternate,!(r&30)&&!n1(s)&&(e=Aa(t,r),e===2&&(i=Lu(t),i!==0&&(r=i,e=dc(t,i))),e===1))throw n=Di,Ar(t,0),Qn(t,r),xt(t,je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(M(345));case 2:xr(t,vt,Tn);break;case 3:if(Qn(t,r),(r&130023424)===r&&(e=_h+500-je(),10<e)){if(ca(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ct(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Hu(xr.bind(null,t,vt,Tn),e);break}xr(t,vt,Tn);break;case 4:if(Qn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Jt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t1(r/1960))-r,10<r){t.timeoutHandle=Hu(xr.bind(null,t,vt,Tn),r);break}xr(t,vt,Tn);break;case 5:xr(t,vt,Tn);break;default:throw Error(M(329))}}}return xt(t,je()),t.callbackNode===n?Og.bind(null,t):null}function dc(t,e){var n=fi;return t.current.memoizedState.isDehydrated&&(Ar(t,e).flags|=256),t=Aa(t,e),t!==2&&(e=vt,vt=n,e!==null&&fc(e)),t}function fc(t){vt===null?vt=t:vt.push.apply(vt,t)}function n1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!nn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qn(t,e){for(e&=~yh,e&=~cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function If(t){if(se&6)throw Error(M(327));ys();var e=ca(t,0);if(!(e&1))return xt(t,je()),null;var n=Aa(t,e);if(t.tag!==0&&n===2){var r=Lu(t);r!==0&&(e=r,n=dc(t,r))}if(n===1)throw n=Di,Ar(t,0),Qn(t,e),xt(t,je()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xr(t,vt,Tn),xt(t,je()),null}function wh(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Es=je()+500,ol&&gr())}}function jr(t){Zn!==null&&Zn.tag===0&&!(se&6)&&ys();var e=se;se|=1;var n=Ut.transition,r=le;try{if(Ut.transition=null,le=1,t)return t()}finally{le=r,Ut.transition=n,se=e,!(se&6)&&gr()}}function Sh(){Et=hs.current,ye(hs)}function Ar(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,I_(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(th(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ma();break;case 3:ks(),ye(wt),ye(st),ch();break;case 5:uh(r);break;case 4:ks();break;case 13:ye(ke);break;case 19:ye(ke);break;case 10:ih(r.type._context);break;case 22:case 23:Sh()}n=n.return}if(Xe=t,Ue=t=ar(t.current,null),Ze=Et=e,We=0,Di=null,yh=cl=br=0,vt=fi=null,Nr!==null){for(e=0;e<Nr.length;e++)if(n=Nr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Nr=null}return t}function Rg(t,e){do{var n=Ue;try{if(sh(),Yo.current=Ca,Ta){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ta=!1}if(Mr=0,Ye=ze=Ne=null,hi=!1,Ri=0,vh.current=null,n===null||n.return===null){We=1,Di=e,Ue=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=_f(o);if(v!==null){v.flags&=-257,wf(v,o,a,i,e),v.mode&1&&yf(i,u,e),e=v,l=u;var f=e.updateQueue;if(f===null){var y=new Set;y.add(l),e.updateQueue=y}else f.add(l);break e}else{if(!(e&1)){yf(i,u,e),xh();break e}l=Error(M(426))}}else if(Ce&&a.mode&1){var w=_f(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),wf(w,o,a,i,e),nh(Ns(l,a));break e}}i=l=Ns(l,a),We!==4&&(We=2),fi===null?fi=[i]:fi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=fg(i,l,e);hf(i,p);break e;case 1:a=l;var g=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ir===null||!ir.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=pg(i,a,e);hf(i,T);break e}}i=i.return}while(i!==null)}Dg(n)}catch(S){e=S,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(1)}function Pg(){var t=ka.current;return ka.current=Ca,t===null?Ca:t}function xh(){(We===0||We===3||We===2)&&(We=4),Xe===null||!(br&268435455)&&!(cl&268435455)||Qn(Xe,Ze)}function Aa(t,e){var n=se;se|=2;var r=Pg();(Xe!==t||Ze!==e)&&(Tn=null,Ar(t,e));do try{r1();break}catch(s){Rg(t,s)}while(1);if(sh(),se=n,ka.current=r,Ue!==null)throw Error(M(261));return Xe=null,Ze=0,We}function r1(){for(;Ue!==null;)Ig(Ue)}function s1(){for(;Ue!==null&&!O0();)Ig(Ue)}function Ig(t){var e=bg(t.alternate,t,Et);t.memoizedProps=t.pendingProps,e===null?Dg(t):Ue=e,vh.current=null}function Dg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K_(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Ue=null;return}}else if(n=Q_(n,e,Et),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);We===0&&(We=5)}function xr(t,e,n){var r=le,s=Ut.transition;try{Ut.transition=null,le=1,i1(t,e,n,r)}finally{Ut.transition=s,le=r}return null}function i1(t,e,n,r){do ys();while(Zn!==null);if(se&6)throw Error(M(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(V0(t,i),t===Xe&&(Ue=Xe=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bo||(bo=!0,jg(ua,function(){return ys(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ut.transition,Ut.transition=null;var o=le;le=1;var a=se;se|=4,vh.current=null,J_(t,n),Eg(n,t),k_($u),ha=!!Wu,$u=Wu=null,t.current=n,e1(n),R0(),se=a,le=o,Ut.transition=i}else t.current=n;if(bo&&(bo=!1,Zn=t,Ea=s),i=t.pendingLanes,i===0&&(ir=null),D0(n.stateNode),xt(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Na)throw Na=!1,t=cc,cc=null,t;return Ea&1&&t.tag!==0&&ys(),i=t.pendingLanes,i&1?t===hc?pi++:(pi=0,hc=t):pi=0,gr(),null}function ys(){if(Zn!==null){var t=dm(Ea),e=Ut.transition,n=le;try{if(Ut.transition=null,le=16>t?16:t,Zn===null)var r=!1;else{if(t=Zn,Zn=null,Ea=0,se&6)throw Error(M(331));var s=se;for(se|=4,q=t.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(q=u;q!==null;){var c=q;switch(c.tag){case 0:case 11:case 15:di(8,c,i)}var h=c.child;if(h!==null)h.return=c,q=h;else for(;q!==null;){c=q;var d=c.sibling,v=c.return;if(Cg(c),c===u){q=null;break}if(d!==null){d.return=v,q=d;break}q=v}}}var f=i.alternate;if(f!==null){var y=f.child;if(y!==null){f.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:di(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,q=p;break e}q=i.return}}var g=t.current;for(q=g;q!==null;){o=q;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,q=_;else e:for(o=g;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ul(9,a)}}catch(S){Oe(a,a.return,S)}if(a===o){q=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,q=T;break e}q=a.return}}if(se=s,gr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(tl,t)}catch{}r=!0}return r}finally{le=n,Ut.transition=e}}return!1}function Df(t,e,n){e=Ns(n,e),e=fg(t,e,1),t=sr(t,e,1),e=ct(),t!==null&&(eo(t,1,e),xt(t,e))}function Oe(t,e,n){if(t.tag===3)Df(t,t,n);else for(;e!==null;){if(e.tag===3){Df(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r))){t=Ns(n,t),t=pg(e,t,1),e=sr(e,t,1),t=ct(),e!==null&&(eo(e,1,t),xt(e,t));break}}e=e.return}}function o1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ct(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(Ze&n)===n&&(We===4||We===3&&(Ze&130023424)===Ze&&500>je()-_h?Ar(t,0):yh|=n),xt(t,e)}function Mg(t,e){e===0&&(t.mode&1?(e=ko,ko<<=1,!(ko&130023424)&&(ko=4194304)):e=1);var n=ct();t=Mn(t,e),t!==null&&(eo(t,e,n),xt(t,n))}function a1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mg(t,n)}function l1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(M(314))}r!==null&&r.delete(e),Mg(t,n)}var bg;bg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,X_(t,e,n);_t=!!(t.flags&131072)}else _t=!1,Ce&&e.flags&1048576&&Lm(e,ya,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qo(t,e),t=e.pendingProps;var s=xs(e,st.current);vs(e,n),s=dh(null,e,r,t,s,n);var i=fh();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(r)?(i=!0,ga(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ah(e),s.updater=al,e.stateNode=s,s._reactInternals=e,Ju(e,r,t,n),e=nc(null,e,r,!0,i,n)):(e.tag=0,Ce&&i&&eh(e),ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=c1(r),t=Gt(r,t),s){case 0:e=tc(null,e,r,t,n);break e;case 1:e=Tf(null,e,r,t,n);break e;case 11:e=Sf(null,e,r,t,n);break e;case 14:e=xf(null,e,r,Gt(r.type,t),n);break e}throw Error(M(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gt(r,s),tc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gt(r,s),Tf(t,e,r,s,n);case 3:e:{if(yg(e),t===null)throw Error(M(387));r=e.pendingProps,i=e.memoizedState,s=i.element,zm(t,e),Sa(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ns(Error(M(423)),e),e=Cf(t,e,r,n,s);break e}else if(r!==s){s=Ns(Error(M(424)),e),e=Cf(t,e,r,n,s);break e}else for(At=rr(e.stateNode.containerInfo.firstChild),Ot=e,Ce=!0,Xt=null,n=Hm(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ts(),r===s){e=bn(t,e,n);break e}ot(t,e,r,n)}e=e.child}return e;case 5:return Gm(e),t===null&&Qu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qu(r,s)?o=null:i!==null&&qu(r,i)&&(e.flags|=32),vg(t,e),ot(t,e,o,n),e.child;case 6:return t===null&&Qu(e),null;case 13:return _g(t,e,n);case 4:return lh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cs(e,null,r,n):ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gt(r,s),Sf(t,e,r,s,n);case 7:return ot(t,e,e.pendingProps,n),e.child;case 8:return ot(t,e,e.pendingProps.children,n),e.child;case 12:return ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,pe(_a,r._currentValue),r._currentValue=o,i!==null)if(nn(i.value,o)){if(i.children===s.children&&!wt.current){e=bn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=On(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ku(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(M(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ku(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vs(e,n),s=Wt(s),r=r(s),e.flags|=1,ot(t,e,r,n),e.child;case 14:return r=e.type,s=Gt(r,e.pendingProps),s=Gt(r.type,s),xf(t,e,r,s,n);case 15:return mg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gt(r,s),Qo(t,e),e.tag=1,St(r)?(t=!0,ga(e)):t=!1,vs(e,n),$m(e,r,s),Ju(e,r,s,n),nc(null,e,r,!0,t,n);case 19:return wg(t,e,n);case 22:return gg(t,e,n)}throw Error(M(156,e.tag))};function jg(t,e){return lm(t,e)}function u1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,e,n,r){return new u1(t,e,n,r)}function Th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c1(t){if(typeof t=="function")return Th(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zc)return 11;if(t===Wc)return 14}return 2}function ar(t,e){var n=t.alternate;return n===null?(n=Lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jo(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Th(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ts:return Or(n.children,s,i,e);case Bc:o=8,s|=8;break;case Tu:return t=Lt(12,n,e,s|2),t.elementType=Tu,t.lanes=i,t;case Cu:return t=Lt(13,n,e,s),t.elementType=Cu,t.lanes=i,t;case ku:return t=Lt(19,n,e,s),t.elementType=ku,t.lanes=i,t;case qp:return hl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wp:o=10;break e;case $p:o=9;break e;case zc:o=11;break e;case Wc:o=14;break e;case Hn:o=16,r=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=Lt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Or(t,e,n,r){return t=Lt(7,t,r,e),t.lanes=n,t}function hl(t,e,n,r){return t=Lt(22,t,r,e),t.elementType=qp,t.lanes=n,t.stateNode={isHidden:!1},t}function cu(t,e,n){return t=Lt(6,t,null,e),t.lanes=n,t}function hu(t,e,n){return e=Lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function h1(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ql(0),this.expirationTimes=ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ql(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ch(t,e,n,r,s,i,o,a,l){return t=new h1(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(i),t}function d1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fg(t){if(!t)return hr;t=t._reactInternals;e:{if(qr(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(St(n))return jm(t,n,e)}return e}function Lg(t,e,n,r,s,i,o,a,l){return t=Ch(n,r,!0,t,s,i,o,a,l),t.context=Fg(null),n=t.current,r=ct(),s=or(n),i=On(r,s),i.callback=e??null,sr(n,i,s),t.current.lanes=s,eo(t,s,r),xt(t,r),t}function dl(t,e,n,r){var s=e.current,i=ct(),o=or(s);return n=Fg(n),e.context===null?e.context=n:e.pendingContext=n,e=On(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sr(s,e,o),t!==null&&(en(t,s,o,i),Go(t,s,o)),o}function Oa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kh(t,e){Mf(t,e),(t=t.alternate)&&Mf(t,e)}function f1(){return null}var Vg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nh(t){this._internalRoot=t}fl.prototype.render=Nh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));dl(t,e,null,null)};fl.prototype.unmount=Nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jr(function(){dl(null,t,null,null)}),e[Dn]=null}};function fl(t){this._internalRoot=t}fl.prototype.unstable_scheduleHydration=function(t){if(t){var e=mm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xn.length&&e!==0&&e<Xn[n].priority;n++);Xn.splice(n,0,t),n===0&&vm(t)}};function Eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bf(){}function p1(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Oa(o);i.call(u)}}var o=Lg(e,r,t,0,null,!1,!1,"",bf);return t._reactRootContainer=o,t[Dn]=o.current,ki(t.nodeType===8?t.parentNode:t),jr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Oa(l);a.call(u)}}var l=Ch(t,0,!1,null,null,!1,!1,"",bf);return t._reactRootContainer=l,t[Dn]=l.current,ki(t.nodeType===8?t.parentNode:t),jr(function(){dl(e,l,n,r)}),l}function ml(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Oa(o);a.call(l)}}dl(e,o,t,s)}else o=p1(n,e,t,s,r);return Oa(o)}fm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=si(e.pendingLanes);n!==0&&(Hc(e,n|1),xt(e,je()),!(se&6)&&(Es=je()+500,gr()))}break;case 13:jr(function(){var r=Mn(t,1);if(r!==null){var s=ct();en(r,t,1,s)}}),kh(t,1)}};Gc=function(t){if(t.tag===13){var e=Mn(t,134217728);if(e!==null){var n=ct();en(e,t,134217728,n)}kh(t,134217728)}};pm=function(t){if(t.tag===13){var e=or(t),n=Mn(t,e);if(n!==null){var r=ct();en(n,t,e,r)}kh(t,e)}};mm=function(){return le};gm=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};bu=function(t,e,n){switch(e){case"input":if(Au(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=il(r);if(!s)throw Error(M(90));Gp(r),Au(r,s)}}}break;case"textarea":Xp(t,n);break;case"select":e=n.value,e!=null&&fs(t,!!n.multiple,e,!1)}};nm=wh;rm=jr;var m1={usingClientEntryPoint:!1,Events:[no,is,il,em,tm,wh]},ei={findFiberByHostInstance:kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},g1={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=om(t),t===null?null:t.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||f1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{tl=jo.inject(g1),fn=jo}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m1;It.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eh(e))throw Error(M(200));return d1(t,e,null,n)};It.createRoot=function(t,e){if(!Eh(t))throw Error(M(299));var n=!1,r="",s=Vg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ch(t,1,!1,null,null,n,!1,r,s),t[Dn]=e.current,ki(t.nodeType===8?t.parentNode:t),new Nh(e)};It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=om(e),t=t===null?null:t.stateNode,t};It.flushSync=function(t){return jr(t)};It.hydrate=function(t,e,n){if(!pl(e))throw Error(M(200));return ml(null,t,e,!0,n)};It.hydrateRoot=function(t,e,n){if(!Eh(t))throw Error(M(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Lg(e,null,t,1,n??null,s,!1,i,o),t[Dn]=e.current,ki(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new fl(e)};It.render=function(t,e,n){if(!pl(e))throw Error(M(200));return ml(null,t,e,!1,n)};It.unmountComponentAtNode=function(t){if(!pl(t))throw Error(M(40));return t._reactRootContainer?(jr(function(){ml(null,null,t,!1,function(){t._reactRootContainer=null,t[Dn]=null})}),!0):!1};It.unstable_batchedUpdates=wh;It.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pl(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return ml(t,e,n,!1,r)};It.version="18.2.0-next-9e3b772b8-20220608";function Ug(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ug)}catch(t){console.error(t)}}Ug(),Lp.exports=It;var v1=Lp.exports,jf=v1;Su.createRoot=jf.createRoot,Su.hydrateRoot=jf.hydrateRoot;function pc(t){this.message=t}pc.prototype=new Error,pc.prototype.name="InvalidCharacterError";var Ff=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new pc("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,s=0,i=0,o="";r=e.charAt(i++);~r&&(n=s%4?64*n+r:r,s++%4)?o+=String.fromCharCode(255&n>>(-2*s&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function y1(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(Ff(n).replace(/(.)/g,function(r,s){var i=s.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}(e)}catch{return Ff(e)}}function Ra(t){this.message=t}function Lf(t,e){if(typeof t!="string")throw new Ra("Invalid token specified");var n=(e=e||{}).header===!0?0:1;try{return JSON.parse(y1(t.split(".")[n]))}catch(r){throw new Ra("Invalid token specified: "+r.message)}}Ra.prototype=new Error,Ra.prototype.name="InvalidTokenError";/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mi(){return Mi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mi.apply(this,arguments)}var Jn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jn||(Jn={}));const Vf="popstate";function _1(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return mc("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Pa(s)}return S1(e,n,null,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ah(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w1(){return Math.random().toString(36).substr(2,8)}function Uf(t,e){return{usr:t.state,key:t.key,idx:e}}function mc(t,e,n,r){return n===void 0&&(n=null),Mi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?js(e):e,{state:n,key:e&&e.key||r||w1()})}function Pa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function js(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function S1(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Jn.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Mi({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Jn.Pop;let w=c(),p=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:p})}function d(w,p){a=Jn.Push;let g=mc(y.location,w,p);n&&n(g,w),u=c()+1;let _=Uf(g,u),T=y.createHref(g);try{o.pushState(_,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(T)}i&&l&&l({action:a,location:y.location,delta:1})}function v(w,p){a=Jn.Replace;let g=mc(y.location,w,p);n&&n(g,w),u=c();let _=Uf(g,u),T=y.createHref(g);o.replaceState(_,"",T),i&&l&&l({action:a,location:y.location,delta:0})}function f(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof w=="string"?w:Pa(w);return Fe(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let y={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Vf,h),l=w,()=>{s.removeEventListener(Vf,h),l=null}},createHref(w){return e(s,w)},createURL:f,encodeLocation(w){let p=f(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:v,go(w){return o.go(w)}};return y}var Bf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bf||(Bf={}));function x1(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?js(e):e,s=Oh(r.pathname||"/",n);if(s==null)return null;let i=Bg(t);T1(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=I1(i[a],b1(s));return o}function Bg(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=lr([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Bg(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:R1(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of zg(i.path))s(i,o,l)}),e}function zg(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zg(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function T1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:P1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C1=/^:\w+$/,k1=3,N1=2,E1=1,A1=10,O1=-2,zf=t=>t==="*";function R1(t,e){let n=t.split("/"),r=n.length;return n.some(zf)&&(r+=O1),e&&(r+=N1),n.filter(s=>!zf(s)).reduce((s,i)=>s+(C1.test(i)?k1:i===""?E1:A1),r)}function P1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function I1(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=D1({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;i.push({params:r,pathname:lr([s,c.pathname]),pathnameBase:V1(lr([s,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(s=lr([s,c.pathnameBase]))}return i}function D1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M1(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let d=a[h]||"";o=i.slice(0,i.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=j1(a[h]||"",c),u},{}),pathname:i,pathnameBase:o,pattern:t}}function M1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ah(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function b1(t){try{return decodeURI(t)}catch(e){return Ah(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function j1(t,e){try{return decodeURIComponent(t)}catch(n){return Ah(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Oh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function F1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?js(t):t;return{pathname:n?n.startsWith("/")?n:L1(n,e):e,search:U1(r),hash:B1(s)}}function L1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function du(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ph(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=js(t):(s=Mi({},t),Fe(!s.pathname||!s.pathname.includes("?"),du("?","pathname","search",s)),Fe(!s.pathname||!s.pathname.includes("#"),du("#","pathname","hash",s)),Fe(!s.search||!s.search.includes("#"),du("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;s.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=F1(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const lr=t=>t.join("/").replace(/\/\/+/g,"/"),V1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,B1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function z1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wg=["post","put","patch","delete"];new Set(Wg);const W1=["get",...Wg];new Set(W1);/**
 * React Router v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ia.apply(this,arguments)}const $1="startTransition";var Wf=a0[$1];const Ih=N.createContext(null),$g=N.createContext(null),Hr=N.createContext(null),gl=N.createContext(null),Vn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),qg=N.createContext(null);function q1(t,e){let{relative:n}=e===void 0?{}:e;Fs()||Fe(!1);let{basename:r,navigator:s}=N.useContext(Hr),{hash:i,pathname:o,search:a}=Dh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:lr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Fs(){return N.useContext(gl)!=null}function Ls(){return Fs()||Fe(!1),N.useContext(gl).location}function Hg(t){N.useContext(Hr).static||N.useLayoutEffect(t)}function Gr(){let{isDataRoute:t}=N.useContext(Vn);return t?sw():H1()}function H1(){Fs()||Fe(!1);let t=N.useContext(Ih),{basename:e,navigator:n}=N.useContext(Hr),{matches:r}=N.useContext(Vn),{pathname:s}=Ls(),i=JSON.stringify(Rh(r).map(l=>l.pathnameBase)),o=N.useRef(!1);return Hg(()=>{o.current=!0}),N.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Ph(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:lr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,i,s,t])}function Yr(){let{matches:t}=N.useContext(Vn),e=t[t.length-1];return e?e.params:{}}function Dh(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=N.useContext(Vn),{pathname:s}=Ls(),i=JSON.stringify(Rh(r).map(o=>o.pathnameBase));return N.useMemo(()=>Ph(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function G1(t,e){return Y1(t,e)}function Y1(t,e,n){Fs()||Fe(!1);let{navigator:r}=N.useContext(Hr),{matches:s}=N.useContext(Vn),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Ls(),u;if(e){var c;let y=typeof e=="string"?js(e):e;a==="/"||(c=y.pathname)!=null&&c.startsWith(a)||Fe(!1),u=y}else u=l;let h=u.pathname||"/",d=a==="/"?h:h.slice(a.length)||"/",v=x1(t,{pathname:d}),f=J1(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},o,y.params),pathname:lr([a,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?a:lr([a,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n);return e&&f?N.createElement(gl.Provider,{value:{location:Ia({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Jn.Pop}},f):f}function X1(){let t=rw(),e=z1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,i)}const Q1=N.createElement(X1,null);class K1 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?N.createElement(Vn.Provider,{value:this.props.routeContext},N.createElement(qg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Z1(t){let{routeContext:e,match:n,children:r}=t,s=N.useContext(Ih);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Vn.Provider,{value:e},r)}function J1(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Fe(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||Q1);let d=e.concat(i.slice(0,u+1)),v=()=>{let f;return c?f=h:l.route.Component?f=N.createElement(l.route.Component,null):l.route.element?f=l.route.element:f=a,N.createElement(Z1,{match:l,routeContext:{outlet:a,matches:d,isDataRoute:n!=null},children:f})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?N.createElement(K1,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:v(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):v()},null)}var gc;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(gc||(gc={}));var bi;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(bi||(bi={}));function ew(t){let e=N.useContext(Ih);return e||Fe(!1),e}function tw(t){let e=N.useContext($g);return e||Fe(!1),e}function nw(t){let e=N.useContext(Vn);return e||Fe(!1),e}function Gg(t){let e=nw(),n=e.matches[e.matches.length-1];return n.route.id||Fe(!1),n.route.id}function rw(){var t;let e=N.useContext(qg),n=tw(bi.UseRouteError),r=Gg(bi.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function sw(){let{router:t}=ew(gc.UseNavigateStable),e=Gg(bi.UseNavigateStable),n=N.useRef(!1);return Hg(()=>{n.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ia({fromRouteId:e},i)))},[t,e])}function $f(t){let{to:e,replace:n,state:r,relative:s}=t;Fs()||Fe(!1);let{matches:i}=N.useContext(Vn),{pathname:o}=Ls(),a=Gr(),l=Ph(e,Rh(i).map(c=>c.pathnameBase),o,s==="path"),u=JSON.stringify(l);return N.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:s}),[a,u,s,n,r]),null}function Tr(t){Fe(!1)}function iw(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Jn.Pop,navigator:i,static:o=!1}=t;Fs()&&Fe(!1);let a=e.replace(/^\/*/,"/"),l=N.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=js(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:v="default"}=r,f=N.useMemo(()=>{let y=Oh(u,a);return y==null?null:{location:{pathname:y,search:c,hash:h,state:d,key:v},navigationType:s}},[a,u,c,h,d,v,s]);return f==null?null:N.createElement(Hr.Provider,{value:l},N.createElement(gl.Provider,{children:n,value:f}))}function ow(t){let{children:e,location:n}=t;return G1(vc(e),n)}var qf;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(qf||(qf={}));new Promise(()=>{});function vc(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let i=[...e,s];if(r.type===N.Fragment){n.push.apply(n,vc(r.props.children,i));return}r.type!==Tr&&Fe(!1),!r.props.index||!r.props.children||Fe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=vc(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Da.apply(this,arguments)}function Yg(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function aw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lw(t,e){return t.button===0&&(!e||e==="_self")&&!aw(t)}const uw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],cw=["aria-current","caseSensitive","className","end","style","to","children"];function hw(t){let{basename:e,children:n,future:r,window:s}=t,i=N.useRef();i.current==null&&(i.current=_1({window:s,v5Compat:!0}));let o=i.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=N.useCallback(h=>{u&&Wf?Wf(()=>l(h)):l(h)},[l,u]);return N.useLayoutEffect(()=>o.listen(c),[o,c]),N.createElement(iw,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,so=N.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=Yg(e,uw),{basename:d}=N.useContext(Hr),v,f=!1;if(typeof u=="string"&&fw.test(u)&&(v=u,dw))try{let g=new URL(window.location.href),_=u.startsWith("//")?new URL(g.protocol+u):new URL(u),T=Oh(_.pathname,d);_.origin===g.origin&&T!=null?u=T+_.search+_.hash:f=!0}catch{}let y=q1(u,{relative:s}),w=pw(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s});function p(g){r&&r(g),g.defaultPrevented||w(g)}return N.createElement("a",Da({},h,{href:v||y,onClick:f||i?r:p,ref:n,target:l}))}),fu=N.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:u}=e,c=Yg(e,cw),h=Dh(l,{relative:c.relative}),d=Ls(),v=N.useContext($g),{navigator:f}=N.useContext(Hr),y=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,w=d.pathname,p=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(w=w.toLowerCase(),p=p?p.toLowerCase():null,y=y.toLowerCase());let g=w===y||!o&&w.startsWith(y)&&w.charAt(y.length)==="/",_=p!=null&&(p===y||!o&&p.startsWith(y)&&p.charAt(y.length)==="/"),T=g?r:void 0,S;typeof i=="function"?S=i({isActive:g,isPending:_}):S=[i,g?"active":null,_?"pending":null].filter(Boolean).join(" ");let C=typeof a=="function"?a({isActive:g,isPending:_}):a;return N.createElement(so,Da({},c,{"aria-current":T,className:S,ref:n,style:C,to:l}),typeof u=="function"?u({isActive:g,isPending:_}):u)});var Hf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Hf||(Hf={}));var Gf;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gf||(Gf={}));function pw(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=Gr(),l=Ls(),u=Dh(t,{relative:o});return N.useCallback(c=>{if(lw(c,n)){c.preventDefault();let h=r!==void 0?r:Pa(l)===Pa(u);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,u,r,s,n,t,i,o])}function Xg(t,e){return function(){return t.apply(e,arguments)}}const{toString:mw}=Object.prototype,{getPrototypeOf:Mh}=Object,vl=(t=>e=>{const n=mw.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vn=t=>(t=t.toLowerCase(),e=>vl(e)===t),yl=t=>e=>typeof e===t,{isArray:Vs}=Array,ji=yl("undefined");function gw(t){return t!==null&&!ji(t)&&t.constructor!==null&&!ji(t.constructor)&&Bt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Qg=vn("ArrayBuffer");function vw(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Qg(t.buffer),e}const yw=yl("string"),Bt=yl("function"),Kg=yl("number"),_l=t=>t!==null&&typeof t=="object",_w=t=>t===!0||t===!1,ea=t=>{if(vl(t)!=="object")return!1;const e=Mh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ww=vn("Date"),Sw=vn("File"),xw=vn("Blob"),Tw=vn("FileList"),Cw=t=>_l(t)&&Bt(t.pipe),kw=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Bt(t.append)&&((e=vl(t))==="formdata"||e==="object"&&Bt(t.toString)&&t.toString()==="[object FormData]"))},Nw=vn("URLSearchParams"),Ew=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function io(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Vs(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Zg(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Jg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ev=t=>!ji(t)&&t!==Jg;function yc(){const{caseless:t}=ev(this)&&this||{},e={},n=(r,s)=>{const i=t&&Zg(e,s)||s;ea(e[i])&&ea(r)?e[i]=yc(e[i],r):ea(r)?e[i]=yc({},r):Vs(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&io(arguments[r],n);return e}const Aw=(t,e,n,{allOwnKeys:r}={})=>(io(e,(s,i)=>{n&&Bt(s)?t[i]=Xg(s,n):t[i]=s},{allOwnKeys:r}),t),Ow=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Rw=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Pw=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Mh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Iw=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Dw=t=>{if(!t)return null;if(Vs(t))return t;let e=t.length;if(!Kg(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Mw=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Mh(Uint8Array)),bw=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},jw=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Fw=vn("HTMLFormElement"),Lw=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Yf=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Vw=vn("RegExp"),tv=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};io(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},Uw=t=>{tv(t,(e,n)=>{if(Bt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Bt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Bw=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Vs(t)?r(t):r(String(t).split(e)),n},zw=()=>{},Ww=(t,e)=>(t=+t,Number.isFinite(t)?t:e),pu="abcdefghijklmnopqrstuvwxyz",Xf="0123456789",nv={DIGIT:Xf,ALPHA:pu,ALPHA_DIGIT:pu+pu.toUpperCase()+Xf},$w=(t=16,e=nv.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function qw(t){return!!(t&&Bt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Hw=t=>{const e=new Array(10),n=(r,s)=>{if(_l(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Vs(r)?[]:{};return io(r,(o,a)=>{const l=n(o,s+1);!ji(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},Gw=vn("AsyncFunction"),Yw=t=>t&&(_l(t)||Bt(t))&&Bt(t.then)&&Bt(t.catch),P={isArray:Vs,isArrayBuffer:Qg,isBuffer:gw,isFormData:kw,isArrayBufferView:vw,isString:yw,isNumber:Kg,isBoolean:_w,isObject:_l,isPlainObject:ea,isUndefined:ji,isDate:ww,isFile:Sw,isBlob:xw,isRegExp:Vw,isFunction:Bt,isStream:Cw,isURLSearchParams:Nw,isTypedArray:Mw,isFileList:Tw,forEach:io,merge:yc,extend:Aw,trim:Ew,stripBOM:Ow,inherits:Rw,toFlatObject:Pw,kindOf:vl,kindOfTest:vn,endsWith:Iw,toArray:Dw,forEachEntry:bw,matchAll:jw,isHTMLForm:Fw,hasOwnProperty:Yf,hasOwnProp:Yf,reduceDescriptors:tv,freezeMethods:Uw,toObjectSet:Bw,toCamelCase:Lw,noop:zw,toFiniteNumber:Ww,findKey:Zg,global:Jg,isContextDefined:ev,ALPHABET:nv,generateString:$w,isSpecCompliantForm:qw,toJSONObject:Hw,isAsyncFn:Gw,isThenable:Yw};function re(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}P.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const rv=re.prototype,sv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{sv[t]={value:t}});Object.defineProperties(re,sv);Object.defineProperty(rv,"isAxiosError",{value:!0});re.from=(t,e,n,r,s,i)=>{const o=Object.create(rv);return P.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),re.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Xw=null;function _c(t){return P.isPlainObject(t)||P.isArray(t)}function iv(t){return P.endsWith(t,"[]")?t.slice(0,-2):t}function Qf(t,e,n){return t?t.concat(e).map(function(s,i){return s=iv(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Qw(t){return P.isArray(t)&&!t.some(_c)}const Kw=P.toFlatObject(P,{},null,function(e){return/^is[A-Z]/.test(e)});function wl(t,e,n){if(!P.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!P.isUndefined(w[y])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(e);if(!P.isFunction(s))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(P.isDate(f))return f.toISOString();if(!l&&P.isBlob(f))throw new re("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(f)||P.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,y,w){let p=f;if(f&&!w&&typeof f=="object"){if(P.endsWith(y,"{}"))y=r?y:y.slice(0,-2),f=JSON.stringify(f);else if(P.isArray(f)&&Qw(f)||(P.isFileList(f)||P.endsWith(y,"[]"))&&(p=P.toArray(f)))return y=iv(y),p.forEach(function(_,T){!(P.isUndefined(_)||_===null)&&e.append(o===!0?Qf([y],T,i):o===null?y:y+"[]",u(_))}),!1}return _c(f)?!0:(e.append(Qf(w,y,i),u(f)),!1)}const h=[],d=Object.assign(Kw,{defaultVisitor:c,convertValue:u,isVisitable:_c});function v(f,y){if(!P.isUndefined(f)){if(h.indexOf(f)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(f),P.forEach(f,function(p,g){(!(P.isUndefined(p)||p===null)&&s.call(e,p,P.isString(g)?g.trim():g,y,d))===!0&&v(p,y?y.concat(g):[g])}),h.pop()}}if(!P.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Kf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function bh(t,e){this._pairs=[],t&&wl(t,this,e)}const ov=bh.prototype;ov.append=function(e,n){this._pairs.push([e,n])};ov.toString=function(e){const n=e?function(r){return e.call(this,r,Kf)}:Kf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Zw(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function av(t,e,n){if(!e)return t;const r=n&&n.encode||Zw,s=n&&n.serialize;let i;if(s?i=s(e,n):i=P.isURLSearchParams(e)?e.toString():new bh(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Jw{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){P.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Zf=Jw,lv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eS=typeof URLSearchParams<"u"?URLSearchParams:bh,tS=typeof FormData<"u"?FormData:null,nS=typeof Blob<"u"?Blob:null,rS=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),sS=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),dn={isBrowser:!0,classes:{URLSearchParams:eS,FormData:tS,Blob:nS},isStandardBrowserEnv:rS,isStandardBrowserWebWorkerEnv:sS,protocols:["http","https","file","blob","url","data"]};function iS(t,e){return wl(t,new dn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return dn.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function oS(t){return P.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function aS(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function uv(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&P.isArray(s)?s.length:o,l?(P.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!P.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&P.isArray(s[o])&&(s[o]=aS(s[o])),!a)}if(P.isFormData(t)&&P.isFunction(t.entries)){const n={};return P.forEachEntry(t,(r,s)=>{e(oS(r),s,n,0)}),n}return null}const lS={"Content-Type":void 0};function uS(t,e,n){if(P.isString(t))try{return(e||JSON.parse)(t),P.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Sl={transitional:lv,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=P.isObject(e);if(i&&P.isHTMLForm(e)&&(e=new FormData(e)),P.isFormData(e))return s&&s?JSON.stringify(uv(e)):e;if(P.isArrayBuffer(e)||P.isBuffer(e)||P.isStream(e)||P.isFile(e)||P.isBlob(e))return e;if(P.isArrayBufferView(e))return e.buffer;if(P.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return iS(e,this.formSerializer).toString();if((a=P.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return wl(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),uS(e)):e}],transformResponse:[function(e){const n=this.transitional||Sl.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&P.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?re.from(a,re.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dn.classes.FormData,Blob:dn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};P.forEach(["delete","get","head"],function(e){Sl.headers[e]={}});P.forEach(["post","put","patch"],function(e){Sl.headers[e]=P.merge(lS)});const jh=Sl,cS=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),hS=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&cS[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Jf=Symbol("internals");function ti(t){return t&&String(t).trim().toLowerCase()}function ta(t){return t===!1||t==null?t:P.isArray(t)?t.map(ta):String(t)}function dS(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const fS=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mu(t,e,n,r,s){if(P.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!P.isString(e)){if(P.isString(r))return e.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(e)}}function pS(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function mS(t,e){const n=P.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class xl{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const c=ti(l);if(!c)throw new Error("header name must be a non-empty string");const h=P.findKey(s,c);(!h||s[h]===void 0||u===!0||u===void 0&&s[h]!==!1)&&(s[h||l]=ta(a))}const o=(a,l)=>P.forEach(a,(u,c)=>i(u,c,l));return P.isPlainObject(e)||e instanceof this.constructor?o(e,n):P.isString(e)&&(e=e.trim())&&!fS(e)?o(hS(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=ti(e),e){const r=P.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return dS(s);if(P.isFunction(n))return n.call(this,s,r);if(P.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ti(e),e){const r=P.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||mu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=ti(o),o){const a=P.findKey(r,o);a&&(!n||mu(r,r[a],a,n))&&(delete r[a],s=!0)}}return P.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||mu(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return P.forEach(this,(s,i)=>{const o=P.findKey(r,i);if(o){n[o]=ta(s),delete n[i];return}const a=e?pS(i):String(i).trim();a!==i&&delete n[i],n[a]=ta(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return P.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Jf]=this[Jf]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=ti(o);r[a]||(mS(s,o),r[a]=!0)}return P.isArray(e)?e.forEach(i):i(e),this}}xl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.freezeMethods(xl.prototype);P.freezeMethods(xl);const Rn=xl;function gu(t,e){const n=this||jh,r=e||n,s=Rn.from(r.headers);let i=r.data;return P.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function cv(t){return!!(t&&t.__CANCEL__)}function oo(t,e,n){re.call(this,t??"canceled",re.ERR_CANCELED,e,n),this.name="CanceledError"}P.inherits(oo,re,{__CANCEL__:!0});function gS(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new re("Request failed with status code "+n.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const vS=dn.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),P.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),P.isString(i)&&l.push("path="+i),P.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function yS(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _S(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function hv(t,e){return t&&!yS(e)?_S(t,e):e}const wS=dn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=P.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function SS(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function xS(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[s]=l,r[s]=u;let h=i,d=0;for(;h!==s;)d+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const v=c&&u-c;return v?Math.round(d*1e3/v):void 0}}function ep(t,e){let n=0;const r=xS(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),u=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:s};c[e?"download":"upload"]=!0,t(c)}}const TS=typeof XMLHttpRequest<"u",CS=TS&&function(t){return new Promise(function(n,r){let s=t.data;const i=Rn.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}P.isFormData(s)&&(dn.isStandardBrowserEnv||dn.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(v+":"+f))}const c=hv(t.baseURL,t.url);u.open(t.method.toUpperCase(),av(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function h(){if(!u)return;const v=Rn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:v,config:t,request:u};gS(function(p){n(p),l()},function(p){r(p),l()},y),u=null}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){u&&(r(new re("Request aborted",re.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new re("Network Error",re.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let f=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||lv;t.timeoutErrorMessage&&(f=t.timeoutErrorMessage),r(new re(f,y.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,t,u)),u=null},dn.isStandardBrowserEnv){const v=(t.withCredentials||wS(c))&&t.xsrfCookieName&&vS.read(t.xsrfCookieName);v&&i.set(t.xsrfHeaderName,v)}s===void 0&&i.setContentType(null),"setRequestHeader"in u&&P.forEach(i.toJSON(),function(f,y){u.setRequestHeader(y,f)}),P.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",ep(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",ep(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=v=>{u&&(r(!v||v.type?new oo(null,t,u):v),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const d=SS(c);if(d&&dn.protocols.indexOf(d)===-1){r(new re("Unsupported protocol "+d+":",re.ERR_BAD_REQUEST,t));return}u.send(s||null)})},na={http:Xw,xhr:CS};P.forEach(na,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const kS={getAdapter:t=>{t=P.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=P.isString(n)?na[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new re(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(P.hasOwnProp(na,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!P.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:na};function vu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new oo(null,t)}function tp(t){return vu(t),t.headers=Rn.from(t.headers),t.data=gu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),kS.getAdapter(t.adapter||jh.adapter)(t).then(function(r){return vu(t),r.data=gu.call(t,t.transformResponse,r),r.headers=Rn.from(r.headers),r},function(r){return cv(r)||(vu(t),r&&r.response&&(r.response.data=gu.call(t,t.transformResponse,r.response),r.response.headers=Rn.from(r.response.headers))),Promise.reject(r)})}const np=t=>t instanceof Rn?t.toJSON():t;function As(t,e){e=e||{};const n={};function r(u,c,h){return P.isPlainObject(u)&&P.isPlainObject(c)?P.merge.call({caseless:h},u,c):P.isPlainObject(c)?P.merge({},c):P.isArray(c)?c.slice():c}function s(u,c,h){if(P.isUndefined(c)){if(!P.isUndefined(u))return r(void 0,u,h)}else return r(u,c,h)}function i(u,c){if(!P.isUndefined(c))return r(void 0,c)}function o(u,c){if(P.isUndefined(c)){if(!P.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>s(np(u),np(c),!0)};return P.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||s,d=h(t[c],e[c],c);P.isUndefined(d)&&h!==a||(n[c]=d)}),n}const dv="1.4.0",Fh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Fh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const rp={};Fh.transitional=function(e,n,r){function s(i,o){return"[Axios v"+dv+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new re(s(o," has been removed"+(n?" in "+n:"")),re.ERR_DEPRECATED);return n&&!rp[o]&&(rp[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function NS(t,e,n){if(typeof t!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new re("option "+i+" must be "+l,re.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new re("Unknown option "+i,re.ERR_BAD_OPTION)}}const wc={assertOptions:NS,validators:Fh},$n=wc.validators;class Ma{constructor(e){this.defaults=e,this.interceptors={request:new Zf,response:new Zf}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=As(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&wc.assertOptions(r,{silentJSONParsing:$n.transitional($n.boolean),forcedJSONParsing:$n.transitional($n.boolean),clarifyTimeoutError:$n.transitional($n.boolean)},!1),s!=null&&(P.isFunction(s)?n.paramsSerializer={serialize:s}:wc.assertOptions(s,{encode:$n.function,serialize:$n.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&P.merge(i.common,i[n.method]),o&&P.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),n.headers=Rn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,h=0,d;if(!l){const f=[tp.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),d=f.length,c=Promise.resolve(n);h<d;)c=c.then(f[h++],f[h++]);return c}d=a.length;let v=n;for(h=0;h<d;){const f=a[h++],y=a[h++];try{v=f(v)}catch(w){y.call(this,w);break}}try{c=tp.call(this,v)}catch(f){return Promise.reject(f)}for(h=0,d=u.length;h<d;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=As(this.defaults,e);const n=hv(e.baseURL,e.url);return av(n,e.params,e.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(e){Ma.prototype[e]=function(n,r){return this.request(As(r||{},{method:e,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(As(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ma.prototype[e]=n(),Ma.prototype[e+"Form"]=n(!0)});const ra=Ma;class Lh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new oo(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Lh(function(s){e=s}),cancel:e}}}const ES=Lh;function AS(t){return function(n){return t.apply(null,n)}}function OS(t){return P.isObject(t)&&t.isAxiosError===!0}const Sc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sc).forEach(([t,e])=>{Sc[e]=t});const RS=Sc;function fv(t){const e=new ra(t),n=Xg(ra.prototype.request,e);return P.extend(n,ra.prototype,e,{allOwnKeys:!0}),P.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return fv(As(t,s))},n}const $e=fv(jh);$e.Axios=ra;$e.CanceledError=oo;$e.CancelToken=ES;$e.isCancel=cv;$e.VERSION=dv;$e.toFormData=wl;$e.AxiosError=re;$e.Cancel=$e.CanceledError;$e.all=function(e){return Promise.all(e)};$e.spread=AS;$e.isAxiosError=OS;$e.mergeConfig=As;$e.AxiosHeaders=Rn;$e.formToJSON=t=>uv(P.isHTMLForm(t)?new FormData(t):t);$e.HttpStatusCode=RS;$e.default=$e;const PS=$e,sp="*EJi2&bqVvJ06QRSqV^*8@MpjN9#It5M1C2cu$cNypg7Qz9SJ3",yu="https://noteworthy-r799.onrender.com";class lt{static async request(e,n={},r=!1,s="get"){console.debug("API Call:",e,n,s);const i=`${yu}/${e}`,o=r?{userauth:`Bearer ${this.userToken}`,apiauth:`Bearer ${sp}`}:{apiauth:`Bearer ${sp}`},a=s==="get"?n:{};try{return(await PS({url:i,method:s,data:n,params:a,headers:o})).data}catch(l){if(console.error("API Error:",l.response),(l.response.status===401||l.response.status===400)&&(i===`${yu}/auth/token`||i===`${yu}/auth/register`))return l.response}}static async getSong(e){return await this.request(`songs/${e}`)}static async getAllSongs(e){return(await this.request("songs/",e)).songs}static async searchGenre(e){return(await this.request("songs/genre",e)).songs}static async registerUser(e){return await this.request("auth/register",e,!1,"post")}static async loginUser(e){return await this.request("auth/token",e,!1,"post")}static async updateUser(e){return(await this.request(`users/${e}`,data,!0,"patch")).user}static async getUser(e,n){return(await this.request(`users/${e}`,n,!0)).user}static async getAllTopScores(e){return(await this.request("scores/top",e)).scores}static async getSongTopScore(e){return(await this.request(`scores/${e}/top`)).score}static async getSongTopScores(e){return(await this.request(`scores/${e}/all-top`)).scores}static async getSongAllScores(e){return(await this.request(`scores/${e}/all`)).scores}static async getUserSongTopScore(e,n,r){return(await this.request(`scores/${e}/${n}/top`,r,!0)).score}static async getUserSongScores(e,n,r){return(await this.request(`scores/${e}/${n}/all-scores`,r,!0)).scores}static async getUserAllScores(e,n){return(await this.request(`scores/${e}/all-scores`,n,!0)).scores}static async getUserTopScores(e,n){return(await this.request(`scores/${e}/top-scores`,n,!0)).scores}static async getUserUndefeatedTopScores(e,n){return(await this.request(`scores/${e}/undefeated-scores`,n,!0)).scores}static async saveScore(e){return(await this.request("scores/new-score",e,!0,"post")).score}}Nd(lt,"userToken");const IS=""+new URL("underwater-ac0c970a.mp4",import.meta.url).href;const DS=""+new URL("search-e4aa3cc9.png",import.meta.url).href,Ge=gt.createContext(),MS=()=>{const{isAnimated:t,handleHeadingHover:e,setOnGamePage:n,getFormJSX:r,setShowLogin:s,setShowSignup:i}=N.useContext(Ge),[o,a]=N.useState(!1);N.useEffect(()=>{n(!1),s(!1),i(!1)},[]);const l=()=>{a(u=>!u)};return m.jsxs("div",{className:"Home-page",children:[m.jsx("video",{autoPlay:!0,muted:!0,loop:!0,id:"home-video",children:m.jsx("source",{src:IS,type:"video/mp4"})}),m.jsx("div",{className:"home-form-container",children:r()}),m.jsxs("div",{className:"home-content-container",children:[m.jsxs("div",{className:"home-text",children:[m.jsx("div",{className:`first-container ${t} share`,children:m.jsxs("h1",{className:"home-heading",onMouseEnter:e,children:["    ",m.jsx("span",{className:"home-span",id:"one",children:"N"}),m.jsx("span",{className:"home-span",children:"o"}),m.jsx("span",{className:"home-span",children:"t"}),m.jsx("span",{className:"home-span",children:"e"}),m.jsx("span",{className:"home-span",children:"W"}),m.jsx("span",{className:"home-span",children:"o"}),m.jsx("span",{className:"home-span",children:"r"}),m.jsx("span",{className:"home-span",children:"t"}),m.jsx("span",{className:"home-span",children:"h"}),m.jsx("span",{className:"home-span",children:"y"})]})}),m.jsx("p",{className:"home-tag",children:"Explore A Sea Of Melodies ~  Will You Sink or Swim?"}),o?m.jsx("p",{className:"home-about",children:'(This game is basically "GuitarHero" but for piano)'}):""]}),m.jsxs("div",{className:"home-search",onClick:l,children:[" ",m.jsx("img",{className:"home-search-image",src:DS})," "]})]})]})};function bS({searchFor:t}){console.debug("SearchForm","searchFor=",typeof t);const[e,n]=N.useState("");function r(i){i.preventDefault(),t(e.trim()||void 0),n(e.trim())}function s(i){n(i.target.value)}return m.jsx("div",{className:"wrap",children:m.jsxs("form",{id:"search-form",onSubmit:r,children:[m.jsx("input",{id:"song-search",name:"searchTerm",placeholder:"Search...",value:e,onChange:s}),m.jsx("button",{type:"submit",className:"searchButton",children:m.jsx("i",{className:"fa fa-search"})})]})})}function jS({mp3Id:t,title:e,dir:n,topScore:r,genre:s,cardNumber:i,order:o}){const[a,l]=N.useState(null),[u,c]=N.useState(null);N.useEffect(()=>{const v="60%",f="60%",y="70%",w="60%",p=(o*(360/i)+80)%360;l(`hsl(${p}, ${v}, ${f})`);const g=(p+180)%360;c(`hsl(${g}, ${y}, ${w})`)},[]);const h=()=>{switch(s){case"pop":return"pop";case"disco":return"disco";case"rock":return"rock";case"alt rock":return"alt-rock";case"hip hop":return"hip-hop";case"movie":return"movie";case"tv":return"tv";case"video game":return"video-game"}};return m.jsxs("div",{className:"vinyl-jacket",style:{backgroundColor:a,color:u},children:[m.jsx("div",{className:"card-header",children:m.jsxs("div",{className:"card-title",children:[e,m.jsxs("p",{children:[" ",n," "]})]})}),m.jsx("div",{children:r!==null?m.jsxs("p",{className:"card-score",children:[" Top Scorer: ",r.username]}):m.jsx("p",{className:"card-no-score",children:"No Top Score Yet "})}),m.jsx("div",{className:"vinyl-wrapper",children:m.jsx(so,{to:`/song/${t}`,style:{textDecoration:"none",color:"white"},children:m.jsx("div",{className:`vinyl ${h()}`})},t)})]})}const FS=({songs:t})=>m.jsx("div",{className:"song-card-list",children:t.map((e,n)=>m.jsx(jS,{mp3Id:e.mp3_id,title:e.title,dir:e.dir,topScore:e.topScore,genre:e.genre,order:n+1,cardNumber:t.length},e.mp3_id))});function jn(){return m.jsx("div",{className:"loader"})}function Vh(){return m.jsxs("div",{className:"falling-notes",children:[m.jsx("span",{children:""}),m.jsx("span",{children:""}),m.jsx("span",{children:""}),m.jsx("span",{children:""}),m.jsx("span",{children:""}),m.jsx("span",{children:""}),m.jsx("span",{children:""}),m.jsx("span",{children:""}),m.jsx("span",{children:""}),m.jsx("span",{children:""})]})}const LS=()=>{const[t,e]=N.useState();return N.useCallback(n=>{e(()=>{throw n})},[e])};const VS=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(null),[s,i]=N.useState(null),[o,a]=N.useState(!1),{getFormJSX:l,setOnGamePage:u,setShowLogin:c,setShowSignup:h}=N.useContext(Ge),d=LS();a(!0);const v=["pop","disco","rock","alt rock","hip hop","movie","tv","video game"];N.useEffect(function(){u(!1),c(!1),h(!1),f()},[]),N.useEffect(function(){if(t!==null)try{Promise.all(t.map(g=>w(g.mp3_id))).then(g=>{const _=t.map((T,S)=>({...T,topScore:g[S]}));r(_)}).catch(g=>{console.error("Error getting top scores:",g),r(t)})}finally{a(!1)}},[t]);async function f(p){try{let g=await lt.getAllSongs({title:p,dir:p});e(g)}catch{d(new Error("Async Error"))}}async function y(p){let g=await lt.searchGenre({genre:p});i(p),e(g)}async function w(p){return await lt.getSongTopScore(p)}return!n||!t?m.jsx(jn,{}):m.jsxs("div",{className:"songs-page common-background",children:[m.jsx("div",{className:"songs-decoration",children:m.jsx(Vh,{})}),m.jsxs("div",{className:"songs-content-container",children:[m.jsxs("div",{className:"songs-container",children:[m.jsxs("div",{className:"search-container",children:[m.jsx(bS,{searchFor:f}),m.jsx("div",{className:"genre-buttons",children:v.map(p=>m.jsx("button",{className:`genre-button ${s===p?"active":""}`,onClick:()=>y(p),children:p}))})]}),o?m.jsx(jn,{}):t.length?m.jsx(FS,{songs:n}):m.jsx("p",{className:"lead",children:"Sorry, no results were found!"})]}),m.jsx("div",{className:"form-container",children:l()})]})]})},Tl=gt.createContext();function US({navigateGame:t,song:e}){const{currentUser:n,toggleLoginForm:r}=N.useContext(Ge),s=()=>n?m.jsx("div",{className:"no-scores-div",children:"Be the first to set a score for this song! "}):m.jsxs("div",{className:"no-scores-div",children:[m.jsx("button",{className:"song-details-login-button",onClick:r,children:"Login"})," to set the first score for this song!"]});return m.jsxs("div",{className:"leaderboard-container",children:[m.jsxs("div",{className:"header-container",children:[m.jsxs("div",{className:"leaderboard-header",children:[m.jsxs("h1",{children:[e.title,","]}),m.jsx("h1",{children:e.dir})]}),m.jsx("button",{className:"play-button",onClick:t,children:m.jsx("div",{className:"record",children:m.jsx("div",{className:"inner"})})})]}),m.jsx("div",{className:"leaderboard",children:m.jsx("div",{className:"ribbon",children:s()})})]})}const BS=""+new URL("medal-ef62d828.png",import.meta.url).href;function zS({topScore:t,runnerUpScores:e,navigateGame:n,song:r}){const{userHasTop:s,userBestScore:i,currentUser:o,toggleLoginForm:a}=N.useContext(Ge),l=()=>{if(o){if(o&&!s&&!i)return m.jsx("div",{className:"leaderboard-message",children:" You haven't recorded a best score for this song yet  "});if(s)return m.jsx("div",{className:"leaderboard-message",children:" Your top score is undefeated! "});if(!s&&i)return m.jsx("div",{className:"leaderboard-message",children:" You're on the board! "})}else return m.jsxs("div",{className:"leaderboard-message",children:[m.jsx("button",{className:"song-details-login-button",onClick:a,children:"Login"})," to set a new top score!  "]})};return m.jsxs("div",{className:"leaderboard-container",children:[m.jsxs("div",{className:"header-container",children:[m.jsxs("div",{className:"leaderboard-header",children:[m.jsxs("h1",{children:[r.title,","]}),m.jsx("h1",{children:r.dir})]}),m.jsx("button",{className:"play-button",onClick:n,children:m.jsx("div",{className:"record",children:m.jsx("div",{className:"inner"})})})]}),l(),m.jsxs("div",{className:"leaderboard",children:[m.jsx("div",{className:"ribbon"}),m.jsx("table",{className:"leaderboard-table",children:m.jsxs("tbody",{children:[m.jsxs("tr",{className:"tr first-place",children:[m.jsx("td",{className:"td number",children:"1"}),s?m.jsxs("td",{className:"td name",children:["  ",m.jsxs(so,{style:{textDecoration:"none",color:"white"},to:"/profile",children:[" ",t.username," (You)"]})]}):m.jsx("td",{className:"td name",children:t.username}),m.jsx("td",{className:"td timestamp",children:t.scoreTimestamp}),m.jsxs("td",{className:"td points",children:[t.score," ",m.jsx("img",{className:"gold-medal",src:BS})]})]}),e.map((u,c)=>m.jsxs("tr",{className:"tr runner-ups",children:[m.jsx("td",{className:"td number",children:c+2}),i&&i.id===u.id?m.jsxs("td",{className:"td name",children:[" ",u.username," (You)"]}):m.jsxs("td",{className:"td name",children:[" ",u.username," "]}),m.jsx("td",{className:"td timestamp",children:u.scoreTimestamp}),m.jsxs("td",{className:"td points",children:[" ",u.score]})]}))]})})]})]})}const WS=({login:t,signup:e})=>{const{mp3Id:n}=Yr(),r=Gr(),{song:s,setSong:i,setNotes:o,setEncodedData:a,setHasRefreshedGame:l,hasRefreshedGame:u}=N.useContext(Tl),{userHasTop:c,getUserBestScore:h,getFormJSX:d,setOnGamePage:v,setUserHasTop:f,currentUser:y,userBestScore:w,setUserBestScore:p,topScore:g,setTopScore:_,setShowLogin:T,setShowSignup:S}=N.useContext(Ge),[C,k]=N.useState(null),x=()=>{u&&l(!1),r(`/game/${n}`)},A=()=>{if(g)return m.jsx(zS,{topScore:g,runnerUpScores:C,navigateGame:x,song:s});if(!g&&!C)return m.jsx(US,{song:s,navigateGame:x})};return N.useEffect(function(){v(!1),T(!1),S(!1);async function R(){const O=await lt.getSong(n);i(O.song),o(O.notes.notes),a(O.mp3Data.encodedSong)}R()},[n]),N.useEffect(function(){async function R(){const O=await lt.getSongTopScores(n);O.length===0?(_(!1),f(!1),p(!1),k(!1)):(y&&h(n,y.username,O[0]),_(O[0]),k(O.slice(1)))}R()},[y]),!s||!s||y&&w===null||C===null?m.jsx(jn,{}):m.jsxs("div",{className:"song-details-container common-background",children:[m.jsx(Vh,{}),A(),m.jsx("div",{className:"form-container",children:d()})]})},$S=""+new URL("games-0395fcf1.png",import.meta.url).href;function qS(t){const[e,n]=N.useState(null),[r,s]=N.useState(null),[i,o]=N.useState(null);return N.useEffect(()=>{const l="60%",u="60%",c="70%",h="60%",d=(t.order*(360/t.cardNumber)+150)%360;n(`hsl(${d}, ${l}, ${u})`);const v=(d+180)%360;s(`hsl(${v}, ${c}, ${h})`),o(`invert(90%) sepia(13%) saturate(3207%) hue-rotate(${v}deg) brightness(95%) contrast(80%)`)},[]),m.jsx("div",{className:"score-card",style:{backgroundColor:e},children:m.jsxs(so,{style:{textDecoration:"none",color:"white"},className:"score-card-link",to:`/song/${t.mp3Id}`,children:[m.jsxs("div",{className:"score-card-header",style:{color:r},children:[m.jsxs("div",{className:"score-card-title",children:[t.title," "]}),m.jsx("div",{className:"score-card-dir",children:t.dir}),m.jsxs("div",{class:"bar",children:[m.jsx("div",{class:"emptybar"}),m.jsx("div",{class:"filledbar"})]})]}),m.jsx("img",{className:"profile-card-image",src:$S,style:{filter:i}}),m.jsxs("div",{className:"score-card-score-container",children:[m.jsxs("p",{className:"score-card-score",children:["Score: ",t.score]}),m.jsxs("p",{children:["",t.scoreTimestamp]})]})]},t.mp3Id)})}function ip({scores:t,undefeated:e}){return!t||t===null?m.jsx(jn,{}):m.jsx("div",{className:"scores-list",children:t.map((n,r)=>m.jsx(qS,{mp3Id:n.mp3Id,username:n.username,score:n.score,title:n.songTitle,dir:n.songDir,scoreTimestamp:n.scoreTimestamp,order:r+1,cardNumber:t.length,undefeated:e},n.id))})}const HS=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(null),[s,i]=N.useState(null),[o,a]=N.useState(null),[l,u]=N.useState("top"),[c,h]=N.useState(!1),{setOnGamePage:d,currentUser:v,onHoldScore:f,addScore:y}=N.useContext(Ge);N.useEffect(function(){d(!1);async function C(){const k=await lt.getUserTopScores(v.username);console.log(k),k.length===0?e(!1):e(k);const x=await lt.getUserUndefeatedTopScores(v.username);console.log(x),x.length===0?a(!1):a(x)}C(),h(!0)},[v]),N.useEffect(()=>{function S(k,x){return k.map(E=>{const R=E.mp3Id,O=x.find(b=>b.mp3_id===R);return O&&(E.songTitle=O.title,E.songDir=O.dir),E})}async function C(){const k=await lt.getAllSongs(),x=S(t,k),A=S(o,k);r(x),i(A)}c&&C()},[t,o]);function w(){return m.jsx("div",{className:"profile-scores",children:t===!1?m.jsx("div",{className:"no-scores",children:" You have no scores yet "}):m.jsx(ip,{scores:n,undefeated:!1})})}function p(){return m.jsx("div",{className:"profile-scores",children:o===!1?m.jsx("div",{className:"no-scores",children:" You have no undefeated scores yet "}):m.jsx(ip,{scores:s,undefeated:!0})})}function g(){if(l==="top")return w();if(l==="undefeated")return p()}function _(){u("top")}function T(){u("undefeated")}return t===null||o===null?m.jsx(jn,{}):m.jsxs("div",{className:"profile-page common-background",children:[m.jsx(Vh,{}),m.jsx("h3",{className:"profile-heading",children:"Your Scores"}),m.jsxs("div",{className:"profile-buttons",children:[m.jsx("button",{className:`profile-button ${l==="top"?"active":""}`,onClick:()=>_(),children:"Personal Best"}),m.jsx("button",{className:`profile-button ${l==="undefeated"?"active":""}`,onClick:()=>T(),children:"Undefeated"})]}),g()]})};let Mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";const GS={encode:function(t){var e=[],n,r,s="",i,o,a,l="",u=0;do n=t.charCodeAt(u++),r=t.charCodeAt(u++),s=t.charCodeAt(u++),i=n>>2,o=(n&3)<<4|r>>4,a=(r&15)<<2|s>>6,l=s&63,isNaN(r)?a=l=64:isNaN(s)&&(l=64),e.push(Mt.charAt(i)+Mt.charAt(o)+Mt.charAt(a)+Mt.charAt(l)),n=r=s="",i=o=a=l="";while(u<t.length);return e.join("")},encodeFromByteArray:function(t){var e=[],n,r,s="",i,o,a,l="",u=0;do n=t[u++],r=t[u++],s=t[u++],i=n>>2,o=(n&3)<<4|r>>4,a=(r&15)<<2|s>>6,l=s&63,isNaN(r)?a=l=64:isNaN(s)&&(l=64),e.push(Mt.charAt(i)+Mt.charAt(o)+Mt.charAt(a)+Mt.charAt(l)),n=r=s="",i=o=a=l="";while(u<t.length);return e.join("")},decode:function(t){var e="",n,r,s="",i,o,a,l="",u=0,c=/[^A-Za-z0-9\+\/\=]/g;if(c.exec(t))throw new Error(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`);t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=Mt.indexOf(t.charAt(u++)),o=Mt.indexOf(t.charAt(u++)),a=Mt.indexOf(t.charAt(u++)),l=Mt.indexOf(t.charAt(u++)),n=i<<2|o>>4,r=(o&15)<<4|a>>2,s=(a&3)<<6|l,e=e+String.fromCharCode(n),a!=64&&(e=e+String.fromCharCode(r)),l!=64&&(e=e+String.fromCharCode(s)),n=r=s="",i=o=a=l="";while(u<t.length);return e}};var xc=new Map,Fo=new WeakMap,op=0,YS=void 0;function XS(t){return t?(Fo.has(t)||(op+=1,Fo.set(t,op.toString())),Fo.get(t)):"0"}function QS(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?XS(t.root):t[e]}`).toString()}function KS(t){let e=QS(t),n=xc.get(e);if(!n){const r=new Map;let s;const i=new IntersectionObserver(o=>{o.forEach(a=>{var u;const l=a.isIntersecting&&s.some(c=>a.intersectionRatio>=c);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=l),(u=r.get(a.target))==null||u.forEach(c=>{c(l,a)})})},t);s=i.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:i,elements:r},xc.set(e,n)}return n}function ZS(t,e,n={},r=YS){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:s,observer:i,elements:o}=KS(n);let a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),i.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),i.unobserve(t)),o.size===0&&(i.disconnect(),xc.delete(s))}}function JS({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:s,triggerOnce:i,skip:o,initialInView:a,fallbackInView:l,onChange:u}={}){var g;const[c,h]=N.useState(null),d=N.useRef(),[v,f]=N.useState({inView:!!a,entry:void 0});d.current=u,N.useEffect(()=>{if(o||!c)return;let _;return _=ZS(c,(T,S)=>{f({inView:T,entry:S}),d.current&&d.current(T,S),S.isIntersecting&&i&&_&&(_(),_=void 0)},{root:s,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{_&&_()}},[Array.isArray(t)?t.toString():t,c,s,r,i,o,n,l,e]);const y=(g=v.entry)==null?void 0:g.target,w=N.useRef();!c&&y&&!i&&!o&&w.current!==y&&(w.current=y,f({inView:!!a,entry:void 0}));const p=[h,v.inView,v.entry];return p.ref=p[0],p.inView=p[1],p.entry=p[2],p}const yn=gt.createContext(),ex=({idx:t,noteStart:e,noteEnd:n,pitch:r,songLength:s,bpm:i})=>{const{viewHeight:o,setInPlayKeys:a,accuracyAlert:l,checkKeyInPlay:u,checkKeyOutOfPlay:c}=N.useContext(yn),d=`${-(o-256)}px 0px 0px 0px`,{ref:v,inView:f}=JS({rootMargin:d,threshold:0}),y=s*(1e4/60),w=n-e,p=w/s*y,g=50,_=100,T=26,S={C:{width:_,keyboardKey:"A",leftPosition:0},"C#":{width:g,keyboardKey:"W",leftPosition:_-g/2},D:{width:_,keyboardKey:"S",leftPosition:_},"D#":{width:g,keyboardKey:"E",leftPosition:2*_-g/2},E:{width:_,keyboardKey:"D",leftPosition:2*_},F:{width:_,keyboardKey:"F",leftPosition:3*_},"F#":{width:g,keyboardKey:"T",leftPosition:4*_-g/2-3},G:{width:_,keyboardKey:"G",leftPosition:4*_},"G#":{width:g,keyboardKey:"Y",leftPosition:5*_-g/2-5},A:{width:_,keyboardKey:"H",leftPosition:5*_},"A#":{width:g,keyboardKey:"U",leftPosition:6*_-g/2-7},B:{width:_,keyboardKey:"J",leftPosition:6*_-10}},k=(F=>{const z=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],V=F%12;return`${z[V]}`})(r),x=S[k].width,A=S[k].keyboardKey,E=e/s*y,R=S[k].leftPosition,O={height:`${p}px`,width:`${x}px`,bottom:`${E}px`,left:`${R+T}px`};let b;return S[k].width===_?b="white-game-note":b="black-game-note",N.useEffect(()=>{if(f){const F=w*1e3,z=Date.now(),V=z+F;a(W=>({...W,[A]:{startTime:z,endTime:V}})),u(A,z,V),setTimeout(()=>{c(A)},F)}},[f,v]),m.jsx("div",{ref:v,className:`game-note 
            ${b}  
            ${f&&l.hasOwnProperty(A)&&l[A]==="Miss"?"inaccurate":""} 
            ${f&&l.hasOwnProperty(A)&&l[A]!=="Miss"?"accurate":""}   
     

  
      `,id:t,style:O,children:m.jsx("div",{className:"note-name",children:A})})},tx=({setGameOver:t,songLength:e,bpm:n,isAnimationStarted:r,isAnimationStopped:s})=>{const{notes:i}=N.useContext(Tl),{setTimer:o,songProgress:a}=N.useContext(yn);N.useContext(Ge);const[l,u]=N.useState(0),c=e*(1e4/60);return N.useEffect(()=>{let h;function d(w){return String(w).padStart(2,"0")}const v=()=>{const w=Math.floor(e-a*e),p=Math.floor(w/60),g=d(w-p*60);o(`${p}:${g}`);const _=a*c;u(_),a<1&&(h=requestAnimationFrame(v)),a===1&&t(!0)};return r?(()=>{h=requestAnimationFrame(v)})():s&&(()=>{cancelAnimationFrame(h),u(0)})(),()=>{cancelAnimationFrame(h)}},[r,s,a,c]),m.jsx("div",{className:"stream",style:{bottom:`calc(230px - ${l}px)`,height:`${c}px`},children:i.map((h,d)=>m.jsx(ex,{idx:d,noteStart:h.start,noteEnd:h.end,pitch:h.pitch,songLength:e,bpm:n},d))})},nx="modulepreload",rx=function(t,e){return new URL(t,e).href},ap={},sx=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=rx(i,r),i in ap)return;ap[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=s.length-1;c>=0;c--){const h=s[c];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":nx,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};function ba(){return ba=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ba.apply(this,arguments)}function ix(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ox(t){N.useEffect(t,[])}function ax(t,e){e===void 0&&(e={});var n=e,r=n.volume,s=r===void 0?1:r,i=n.playbackRate,o=i===void 0?1:i,a=n.soundEnabled,l=a===void 0?!0:a,u=n.interrupt,c=u===void 0?!1:u,h=n.onload,d=ix(n,["id","volume","playbackRate","soundEnabled","interrupt","onload"]),v=gt.useRef(null),f=gt.useRef(!1),y=gt.useState(null),w=y[0],p=y[1],g=gt.useState(null),_=g[0],T=g[1],S=function(){typeof h=="function"&&h.call(this),f.current&&p(this.duration()*1e3),T(this)};ox(function(){return sx(()=>import("./howler-6587558b.js").then(E=>E.h),[],import.meta.url).then(function(E){if(!f.current){var R;v.current=(R=E.Howl)!==null&&R!==void 0?R:E.default.Howl,f.current=!0,new v.current(ba({src:Array.isArray(t)?t:[t],volume:s,rate:o,onload:S},d))}}),function(){f.current=!1}}),gt.useEffect(function(){v.current&&_&&T(new v.current(ba({src:Array.isArray(t)?t:[t],volume:s,onload:S},d)))},[JSON.stringify(t)]),gt.useEffect(function(){_&&(_.volume(s),_.rate(o))},[s,o]);var C=gt.useCallback(function(E){typeof E>"u"&&(E={}),!(!_||!l&&!E.forceSoundEnabled)&&(c&&_.stop(),E.playbackRate&&_.rate(E.playbackRate),_.play(E.id))},[_,l,c]),k=gt.useCallback(function(E){_&&_.stop(E)},[_]),x=gt.useCallback(function(E){_&&_.pause(E)},[_]),A=[C,{sound:_,stop:k,pause:x,duration:w}];return A}function bt({note:t,id:e,className:n,children:r,letter:s}){const{noteScore:i,setActiveKeys:o,activeKeys:a,checkPressedKey:l,checkReleasedKey:u,accuracyAlert:c,setAccuracyAlert:h,gameOver:d}=N.useContext(yn),[v,{stop:f}]=ax(t),y=N.useRef(null),w=g=>{if(!y.current&&(g.key===s||g.key===s.toLowerCase())){g.preventDefault();const _=Date.now();o(T=>({...T,[s]:_})),y.current=!0}},p=g=>{(g.key===s||g.key===s.toLowerCase())&&(g.preventDefault(),o(_=>{const T={..._};return delete T[s],T}),y.current=!1)};return N.useEffect(()=>{a.hasOwnProperty(s)?v():f()},[a]),N.useEffect(()=>{if(y.current!==null){const g=Date.now();y.current?l(s,g):(h(_=>{const T={..._};return delete T[s],T}),u(s,g))}},[y.current]),N.useEffect(()=>(d||(document.addEventListener("keydown",w),document.addEventListener("keyup",p)),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",p)}),[d]),m.jsx("div",{children:m.jsxs("li",{id:e,className:`${n} piano-key
             ${a.hasOwnProperty(s)?"active":""} 
${c.hasOwnProperty(s)&&c[s]==="Miss"?"inaccurate":""} 
 ${c.hasOwnProperty(s)&&c[s]!=="Miss"?"accurate":""} `,children:[m.jsx("div",{className:"piano-note-name",children:r}),m.jsxs("div",{className:"piano-note-accuracy",children:[c.hasOwnProperty(s)?c[s]:"",m.jsx("br",{}),i.hasOwnProperty(s)?`+${i[s]}`:""]})]})})}const lx=""+new URL("note_C-7e333415.mp3",import.meta.url).href,ux=""+new URL("note_CS-708f2b19.mp3",import.meta.url).href,cx=""+new URL("note_D-4115ba32.mp3",import.meta.url).href,hx=""+new URL("note_DS-c5e46444.mp3",import.meta.url).href,dx=""+new URL("note_E-9fb71a2b.mp3",import.meta.url).href,fx=""+new URL("note_F-c0cdc9a2.mp3",import.meta.url).href,px=""+new URL("note_FS-5e0bdb9e.mp3",import.meta.url).href,mx=""+new URL("note_G-15886874.mp3",import.meta.url).href,gx=""+new URL("note_GS-882a1bb8.mp3",import.meta.url).href,vx=""+new URL("note_A-6603f1b7.mp3",import.meta.url).href,yx=""+new URL("note_AS-ebd865a7.mp3",import.meta.url).href,_x=""+new URL("note_B-c4f8b281.mp3",import.meta.url).href;function wx(){return m.jsx("div",{className:"piano-container",children:m.jsxs("ul",{id:"piano",children:[m.jsx(bt,{note:lx,id:"C",letter:"A",className:"key white",children:" A"}),m.jsx(bt,{note:ux,id:"CS",letter:"W",className:"key black",children:"W"}),m.jsx(bt,{note:cx,id:"D",letter:"S",className:"key white",children:"S"}),m.jsx(bt,{note:hx,id:"DS",letter:"E",className:"key black",children:"E"}),m.jsx(bt,{note:dx,id:"E",letter:"D",className:"key white",children:"D"}),m.jsx(bt,{note:fx,id:"F",letter:"F",className:"key white",children:"F"}),m.jsx(bt,{note:px,id:"FS",letter:"T",className:"key black",children:"T"}),m.jsx(bt,{note:mx,id:"G",letter:"G",className:"key white",children:"G"}),m.jsx(bt,{note:gx,id:"GS",letter:"Y",className:"key black",children:"Y"}),m.jsx(bt,{note:vx,id:"A",letter:"H",className:"key white",children:"H"}),m.jsx(bt,{note:yx,id:"AS",letter:"U",className:"key black",children:"U"}),m.jsx(bt,{note:_x,id:"B",letter:"J",className:"key white",children:"J"})]})})}const Sx=""+new URL("Video1-b4ec8575.mp4",import.meta.url).href,xx=""+new URL("Video2-cfbbc20b.mp4",import.meta.url).href,Tx=""+new URL("Video3-7e2e84b9.mp4",import.meta.url).href,Cx=""+new URL("Video4-d2048935.mp4",import.meta.url).href,kx=""+new URL("Video5-7ee5cd42.mp4",import.meta.url).href,Nx=()=>{const{viewHeight:t,setViewHeight:e}=N.useContext(yn),[n,r]=N.useState(null),[s,i]=N.useState(null),o=N.useRef(!1),{mp3Id:a}=Yr();N.useEffect(()=>{if(!o.current){if(Number(a)===1564)r(5);else{const u=[1,2,3,4],c=Math.floor(Math.random()*u.length);u[c]===1?r(1):u[c]===2?r(2):u[c]===3?r(3):u[c]===4&&r(4)}o.current=!0}},[a]),N.useEffect(()=>{const u=()=>{e(window.innerHeight)},c=()=>{i(window.innerHeight-220)};return u(),c(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]);const l=()=>{if(n===1)return m.jsx("source",{src:Sx,type:"video/mp4"});if(n===2)return m.jsx("source",{src:xx,type:"video/mp4"});if(n===3)return m.jsx("source",{src:Tx,type:"video/mp4"});if(n===4)return m.jsx("source",{src:Cx,type:"video/mp4"});if(n===5)return m.jsx("source",{src:kx,type:"video/mp4"})};return n===null?m.jsx(jn,{}):m.jsx("video",{autoPlay:!0,loop:!0,id:"bgvid",style:{height:s},children:l()})},Ex=()=>{const{isAnimationStarted:t,handleRestartPrompt:e,handleExitPrompt:n,gameOver:r}=N.useContext(yn),{userBestScore:s,currentUser:i}=N.useContext(Ge);Yr();const o=()=>{if(t)return m.jsx("button",{className:"game-restart-button game-play-button",onClick:e,children:"Restart Game"})},a=()=>{if(t&&!r)return m.jsx("button",{className:"game-play-button",onClick:n,children:"Exit Game"})};return i&&s===null?m.jsx(jn,{}):m.jsxs("div",{id:"game-play-buttons",children:[o(),a()]})},Ax=()=>{const{timer:t}=N.useContext(yn);return m.jsxs("div",{className:"game-left-stat-container",children:[m.jsxs("div",{id:"game-timer",children:[" ",t]}),m.jsx(Ex,{})]})},Ox=()=>{const{userBestScore:t,topScore:e,userHasTop:n,totalScore:r,userBeatTop:s,userBeatPersonalBest:i,currentUser:o}=N.useContext(Ge),{handleSaveEarlyPrompt:a}=N.useContext(yn),l=()=>t&&!i?`Your Best Score:${t.score} `:i?"You Beat Your Best Score!":s?"You've Beat The Top Score!":n?`You Hold the Top Record of ${e.score}`:"You Have No Saved Score",u=()=>{if(!e&&r>0||o&&r>t.score||r>0&&!t||o&&r>e.score)return m.jsx("button",{className:"game-play-button",onClick:a,children:"Save Score Now"})};return m.jsxs("div",{className:"game-right-stat-container",children:[m.jsxs("div",{className:"game-user-score",children:[" Score: ",r]}),m.jsx("div",{className:"game-score-message",children:l()}),u()]})},Rx=()=>{const{userBestScore:t,topScore:e,currentUser:n,totalScore:r,userBeatTop:s}=N.useContext(Ge),{getGameResults:i}=N.useContext(yn),[o,a]=N.useState(0);N.useEffect(()=>{const c=r/e.score*100;c<100?a(c):(a(100),i())},[r]);const l=()=>s?{width:"100%",backgroundColor:"blue"}:{width:`${o}%`,backgroundColor:"green"},u=()=>s?"You beat the top score!":`Top Score: ${e.score}`;return m.jsxs("div",{className:"score-bar",children:[m.jsx("div",{className:`score-fill ${s?"user-beat-top":""}`,style:l(),children:m.jsx("div",{className:"score-bar-score",children:r})}),u()]})};const Px=()=>m.jsxs("div",{id:"game-background-confetti-container",children:[m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"}),m.jsx("div",{className:"game-background-confetti"})]}),pv=()=>{const[t,e]=N.useState(!1),[n,r]=N.useState(!1);N.useState(!1);const s=Gr(),{isAnimationStarted:i,handleStop:o,handleRestartGame:a,handlePlay:l}=N.useContext(yn),{setShowLogin:u,currentUser:c,totalScore:h,userBeatTop:d,userBeatPersonalBest:v}=N.useContext(Ge),{mp3Id:f}=Yr();async function y(){await lt.saveScore({mp3Id:`${f}`,username:c.username,score:h})}function w(){y(),a(),s(`/song/${f}`)}const p=()=>{a(),s(`/song/${f}`)},g=()=>{o(),a(),e(!1),l()},_=()=>{r(!0),e(!1)},T=()=>{e(!0),r(!1)},S=()=>{u(!0),e(!1),r(!1)},C=()=>t?m.jsx("button",{className:"save-btn restart prompt",onClick:g,children:"Confirm Restart Without Saving"}):m.jsx("button",{className:"save-btn  restart",onClick:c&&v||d?T:g,children:"Restart Game"}),k=()=>n?m.jsx("button",{className:"save-btn  prompt",onClick:p,children:"Confirm Exit Without Saving?"}):m.jsx("button",{className:"save-btn  exit",onClick:c&&v||d?_:p,children:"Exit Game"}),x=()=>{if(c&&(v||d))return m.jsx("button",{className:"save-btn save",onClick:w,children:"Save Score"});if(!c)return m.jsx("button",{className:"save-btn save",onClick:S,children:"Login/Signup"})};return m.jsxs("div",{id:"save-game-buttons",children:[x(),C(),k()]})};function lp({isTop:t}){const{currentUser:e,totalScore:n,userBestScore:r,userHasTop:s}=N.useContext(Ge),i=()=>{if(!e)return m.jsx("div",{className:"result-text-box",children:m.jsx("p",{className:"paragraph",children:"Login to save your score!"})})};return m.jsxs("div",{className:"results-summary-container",children:[m.jsxs("div",{className:"confetti",children:[m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"}),m.jsx("div",{className:"confetti-piece"})]}),m.jsxs("div",{className:"results-summary-container__result",children:[m.jsx("div",{className:"heading-tertiary",children:t?"New Top Score!":"New Personal Best!"}),m.jsx("div",{className:"result-box",children:m.jsx("div",{className:"heading-primary",children:n})}),i(),m.jsx(pv,{})]})]})}function Ix(){const{userBestScore:t,currentUser:e,totalScore:n}=N.useContext(Ge);return e&&t===null?m.jsx(jn,{}):m.jsx("div",{className:"results-summary-container no-score",children:m.jsxs("div",{className:"results-summary-container__result",children:[m.jsx("div",{className:"heading-tertiary",children:"Your Score:"}),m.jsx("div",{className:"result-box",children:m.jsx("div",{className:"heading-primary",children:n})}),m.jsx("div",{className:"result-text-box",children:m.jsx("p",{className:"paragraph",children:e?`Your Best Score for this song is: ${t.score}`:"Login/Signup to save score"})}),m.jsx(pv,{})]})})}const _u=({message:t,handleYes:e,handleNo:n})=>m.jsx("div",{className:"pop-up-wrapper",id:"pop-up",children:m.jsxs("div",{className:"pop-up-body",children:[m.jsx("div",{className:"pop-up-header",children:m.jsx("h2",{className:"pop-up-heading",children:t})}),m.jsxs("div",{className:"switch",children:[m.jsx("button",{className:"pop-up-yes-button pop-up-button",onClick:e,children:"Yes"}),m.jsx("button",{className:"pop-up-no-button pop-up-button",onClick:n,children:"No"})]})]})}),Dx=""+new URL("keyboard-07f0b6b8.png",import.meta.url).href,Mx=({handleRemoveExplain:t})=>m.jsxs("div",{className:"game-explain-container",children:[m.jsxs("div",{className:"game-explain-text",children:["Welcome to the piano version of GuitarHero!",m.jsx("br",{}),"Play by pressing the corresponding key on your keyboard.",m.jsx("br",{}),"Time your keystrokes when the descending note reaches the piano.",m.jsx("br",{}),"Press too early or too late, and points will be missed!",m.jsx("button",{className:"game-explain-button",onClick:t,children:"Got it!"})]}),m.jsx("div",{className:"game-explain-right",children:m.jsx("img",{className:"keyboard-image",src:Dx})})]});const mv="14.7.77",up=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),cp=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Tc=(t,e)=>({startTime:e,type:"setValue",value:t}),gv=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),vv=(t,e,{startTime:n,target:r,timeConstant:s})=>r+(e-r)*Math.exp((n-t)/s),ds=t=>t.type==="exponentialRampToValue",ja=t=>t.type==="linearRampToValue",Yn=t=>ds(t)||ja(t),Uh=t=>t.type==="setValue",Cn=t=>t.type==="setValueCurve",Fa=(t,e,n,r)=>{const s=t[e];return s===void 0?r:Yn(s)||Uh(s)?s.value:Cn(s)?s.values[s.values.length-1]:vv(n,Fa(t,e-1,s.startTime,r),s)},hp=(t,e,n,r,s)=>n===void 0?[r.insertTime,s]:Yn(n)?[n.endTime,n.value]:Uh(n)?[n.startTime,n.value]:Cn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Fa(t,e-1,n.startTime,s)],Cc=t=>t.type==="cancelAndHold",kc=t=>t.type==="cancelScheduledValues",qn=t=>Cc(t)||kc(t)?t.cancelTime:ds(t)||ja(t)?t.endTime:t.startTime,dp=(t,e,n,{endTime:r,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(r-e)):0,fp=(t,e,n,{endTime:r,value:s})=>n+(t-e)/(r-e)*(s-n),bx=(t,e)=>{const n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]},jx=(t,{duration:e,startTime:n,values:r})=>{const s=(t-n)/e*(r.length-1);return bx(r,s)},Lo=t=>t.type==="setTarget";class Fx{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=qn(e);if(Cc(e)||kc(e)){const r=this._automationEvents.findIndex(i=>kc(e)&&Cn(i)?i.startTime+i.duration>=n:qn(i)>=n),s=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),Cc(e)){const i=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&Yn(s)){if(i!==void 0&&Lo(i))throw new Error("The internal list is malformed.");const o=i===void 0?s.insertTime:Cn(i)?i.startTime+i.duration:qn(i),a=i===void 0?this._defaultValue:Cn(i)?i.values[i.values.length-1]:i.value,l=ds(s)?dp(n,o,a,s):fp(n,o,a,s),u=ds(s)?up(l,n,this._currenTime):cp(l,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&Lo(i)&&this._automationEvents.push(Tc(this.getValue(n),n)),i!==void 0&&Cn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,c=i.values.slice(0,l);if(u<1)for(let h=1;h<l;h+=1){const d=u*h%1;c[h]=i.values[h-1]*(1-d)+i.values[h]*d}this._automationEvents[this._automationEvents.length-1]=gv(c,i.startTime,o)}}}else{const r=this._automationEvents.findIndex(o=>qn(o)>n),s=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(s!==void 0&&Cn(s)&&qn(s)+s.duration>n)return!1;const i=ds(e)?up(e.value,e.endTime,this._currenTime):ja(e)?cp(e.value,n,this._currenTime):e;if(r===-1)this._automationEvents.push(i);else{if(Cn(e)&&n+e.duration>qn(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(r=>qn(r)>e);if(n>1){const r=this._automationEvents.slice(n-1),s=r[0];Lo(s)&&r.unshift(Tc(Fa(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=r}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>qn(o)>e),r=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[s];if(i!==void 0&&Lo(i)&&(r===void 0||!Yn(r)||r.insertTime>e))return vv(e,Fa(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Uh(i)&&(r===void 0||!Yn(r)))return i.value;if(i!==void 0&&Cn(i)&&(r===void 0||!Yn(r)||i.startTime+i.duration>e))return e<i.startTime+i.duration?jx(e,i):i.values[i.values.length-1];if(i!==void 0&&Yn(i)&&(r===void 0||!Yn(r)))return i.value;if(r!==void 0&&ds(r)){const[o,a]=hp(this._automationEvents,s,i,r,this._defaultValue);return dp(e,o,a,r)}if(r!==void 0&&ja(r)){const[o,a]=hp(this._automationEvents,s,i,r,this._defaultValue);return fp(e,o,a,r)}return this._defaultValue}}const Lx=t=>({cancelTime:t,type:"cancelAndHold"}),Vx=t=>({cancelTime:t,type:"cancelScheduledValues"}),Ux=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),Bx=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),zx=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Wx=()=>new DOMException("","AbortError"),$x=t=>(e,n,[r,s,i],o)=>{t(e[s],[n,r,i],a=>a[0]===n&&a[1]===r,o)},qx=t=>(e,n,r)=>{const s=[];for(let i=0;i<r.numberOfInputs;i+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Hx=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},Os=new WeakSet,yv=new WeakMap,Bh=new WeakMap,_v=new WeakMap,zh=new WeakMap,Cl=new WeakMap,wv=new WeakMap,Nc=new WeakMap,Ec=new WeakMap,Ac=new WeakMap,Sv={construct(){return Sv}},Gx=t=>{try{const e=new Proxy(t,Sv);new e}catch{return!1}return!0},pp=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,mp=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),s=r.match(pp);for(;s!==null;){const i=s[1].slice(1,-1),o=s[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),r=r.slice(s[0].length).replace(/^[\s]+/,""),s=r.match(pp)}return[n.join(";"),r]},gp=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},vp=t=>{if(!Gx(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Yx=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>{let v=0;return(f,y,w={credentials:"omit"})=>{const p=c.get(f);if(p!==void 0&&p.has(y))return Promise.resolve();const g=u.get(f);if(g!==void 0){const S=g.get(y);if(S!==void 0)return S}const _=i(f),T=_.audioWorklet===void 0?s(y).then(([S,C])=>{const[k,x]=mp(S,C),A=`${k};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${x}
})})(window,'_AWGS')`;return n(A)}).then(()=>{const S=d._AWGS.pop();if(S===void 0)throw new SyntaxError;r(_.currentTime,_.sampleRate,()=>S(class{},void 0,(C,k)=>{if(C.trim()==="")throw e();const x=Ec.get(_);if(x!==void 0){if(x.has(C))throw e();vp(k),gp(k.parameterDescriptors),x.set(C,k)}else vp(k),gp(k.parameterDescriptors),Ec.set(_,new Map([[C,k]]))},_.sampleRate,void 0,void 0))}):Promise.all([s(y),Promise.resolve(t(h,h))]).then(([[S,C],k])=>{const x=v+1;v=x;const[A,E]=mp(S,C),F=`${A};((AudioWorkletProcessor,registerProcessor)=>{${E}
})(${k?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${k?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${k?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${x}',class extends AudioWorkletProcessor{process(){return !1}})`,z=new Blob([F],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(z);return _.audioWorklet.addModule(V,w).then(()=>{if(a(_))return _;const W=o(_);return W.audioWorklet.addModule(V,w).then(()=>W)}).then(W=>{if(l===null)throw new SyntaxError;try{new l(W,`__sac${x}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(V))});return g===void 0?u.set(f,new Map([[y,T]])):g.set(y,T),T.then(()=>{const S=c.get(f);S===void 0?c.set(f,new Set([y])):S.add(y)}).finally(()=>{const S=u.get(f);S!==void 0&&S.delete(y)}),T}},rn=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},kl=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return t.delete(r),r},xv=(t,e,n,r)=>{const s=rn(t,e),i=kl(s,o=>o[0]===n&&o[1]===r);return s.size===0&&t.delete(e),i},ao=t=>rn(wv,t),Rs=t=>{if(Os.has(t))throw new Error("The AudioNode is already stored.");Os.add(t),ao(t).forEach(e=>e(!0))},Tv=t=>"port"in t,lo=t=>{if(!Os.has(t))throw new Error("The AudioNode is not stored.");Os.delete(t),ao(t).forEach(e=>e(!1))},Oc=(t,e)=>{!Tv(t)&&e.every(n=>n.size===0)&&lo(t)},Xx=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>{const v=new WeakMap;return(f,y,w,p,g)=>{const{activeInputs:_,passiveInputs:T}=i(y),{outputs:S}=i(f),C=a(f),k=x=>{const A=l(y),E=l(f);if(x){const R=xv(T,f,w,p);t(_,f,R,!1),!g&&!h(f)&&n(E,A,w,p),d(y)&&Rs(y)}else{const R=r(_,f,w,p);e(T,p,R,!1),!g&&!h(f)&&s(E,A,w,p);const O=o(y);if(O===0)c(y)&&Oc(y,_);else{const b=v.get(y);b!==void 0&&clearTimeout(b),v.set(y,setTimeout(()=>{c(y)&&Oc(y,_)},O*1e3))}}};return u(S,[y,w,p],x=>x[0]===y&&x[1]===w&&x[2]===p,!0)?(C.add(k),c(f)?t(_,f,[w,p,k],!0):e(T,p,[f,w,k],!0),!0):!1}},Qx=t=>(e,n,[r,s,i],o)=>{const a=e.get(r);a===void 0?e.set(r,new Set([[s,n,i]])):t(a,[s,n,i],l=>l[0]===s&&l[1]===n,o)},Kx=t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(r),r.disconnect()};n.addEventListener("ended",s)},Zx=t=>(e,n)=>{t(e).add(n)},Jx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},eT=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...Jx,...l},h=r(u,c),d=i(u)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},it=(t,e)=>t.context===e,tT=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!it(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},La=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},_n=()=>new DOMException("","IndexSizeError"),Wh=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?_n():r}})(t.getChannelData)},nT={numberOfChannels:1},rT=(t,e,n,r,s,i,o,a)=>{let l=null;return class Cv{constructor(c){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:v}={...nT,...c};l===null&&(l=new s(1,1,44100));const f=r!==null&&e(i,i)?new r({length:h,numberOfChannels:d,sampleRate:v}):l.createBuffer(d,h,v);if(f.numberOfChannels===0)throw n();return typeof f.copyFromChannel!="function"?(o(f),Wh(f)):e(La,()=>La(f))||a(f),t.add(f),f}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===Cv.prototype||t.has(c)}}},yt=-34028234663852886e22,at=-yt,Pn=t=>Os.has(t),sT={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},iT=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...sT,...c},v=s(h,d),f=o(h),y=f?e():null;super(u,!1,v,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=n(this,f,v.playbackRate,at,yt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){Rs(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),Pn(this)&&lo(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},oT=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=it(h,c);if(!d){const v={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,v),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.playbackRate,h.playbackRate):await r(c,u.playbackRate,h.playbackRate),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},aT=t=>"playbackRate"in t,lT=t=>"frequency"in t&&"gain"in t,uT=t=>"offset"in t,cT=t=>!("frequency"in t)&&"gain"in t,hT=t=>"detune"in t&&"frequency"in t,dT=t=>"pan"in t,ut=t=>rn(yv,t),uo=t=>rn(_v,t),Rc=(t,e)=>{const{activeInputs:n}=ut(t);n.forEach(s=>s.forEach(([i])=>{e.includes(t)||Rc(i,[...e,t])}));const r=aT(t)?[t.playbackRate]:Tv(t)?Array.from(t.parameters.values()):lT(t)?[t.Q,t.detune,t.frequency,t.gain]:uT(t)?[t.offset]:cT(t)?[t.gain]:hT(t)?[t.detune,t.frequency]:dT(t)?[t.pan]:[];for(const s of r){const i=uo(s);i!==void 0&&i.activeInputs.forEach(([o])=>Rc(o,e))}Pn(t)&&lo(t)},kv=t=>{Rc(t.destination,[])},fT=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),pT=(t,e,n,r,s,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(f){throw f.code===12&&f.message==="sampleRate is not in range"?n():f}if(h===null)throw r();if(!fT(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:d}=c,{sampleRate:v}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/v:d==="interactive"||d===void 0?256/v:d==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(d*v/128)))*128/v,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const f=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",f)};h.addEventListener("statechange",f)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),kv(this)}))}createMediaElementSource(c){return new s(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},mT=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=o(h),v=s(h,c,d),f=d?e(a):null;super(u,!1,v,f),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},gT=t=>{const e=new WeakMap,n=async(r,s)=>{const i=s.destination;return e.set(s,i),await t(r,s,i),i};return{render(r,s){const i=e.get(s);return i!==void 0?Promise.resolve(i):n(r,s)}}},vT=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const S=new Float32Array(1),C=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),k=o(u);let x=!1,A=[0,0,-1,0,1,0],E=[0,0,0];const R=()=>{if(x)return;x=!0;const z=r(u,256,9,0);z.onaudioprocess=({inputBuffer:V})=>{const W=[i(V,S,0),i(V,S,1),i(V,S,2),i(V,S,3),i(V,S,4),i(V,S,5)];W.some((D,j)=>D!==A[j])&&(c.setOrientation(...W),A=W);const I=[i(V,S,6),i(V,S,7),i(V,S,8)];I.some((D,j)=>D!==E[j])&&(c.setPosition(...I),E=I)},C.connect(z)},O=z=>V=>{V!==A[z]&&(A[z]=V,c.setOrientation(...A))},b=z=>V=>{V!==E[z]&&(E[z]=V,c.setPosition(...E))},F=(z,V,W)=>{const I=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V});I.connect(C,0,z),I.start(),Object.defineProperty(I.offset,"defaultValue",{get(){return V}});const D=t({context:l},k,I.offset,at,yt);return a(D,"value",j=>()=>j.call(D),j=>L=>{try{j.call(D,L)}catch(G){if(G.code!==9)throw G}R(),k&&W(L)}),D.cancelAndHoldAtTime=(j=>k?()=>{throw s()}:(...L)=>{const G=j.apply(D,L);return R(),G})(D.cancelAndHoldAtTime),D.cancelScheduledValues=(j=>k?()=>{throw s()}:(...L)=>{const G=j.apply(D,L);return R(),G})(D.cancelScheduledValues),D.exponentialRampToValueAtTime=(j=>k?()=>{throw s()}:(...L)=>{const G=j.apply(D,L);return R(),G})(D.exponentialRampToValueAtTime),D.linearRampToValueAtTime=(j=>k?()=>{throw s()}:(...L)=>{const G=j.apply(D,L);return R(),G})(D.linearRampToValueAtTime),D.setTargetAtTime=(j=>k?()=>{throw s()}:(...L)=>{const G=j.apply(D,L);return R(),G})(D.setTargetAtTime),D.setValueAtTime=(j=>k?()=>{throw s()}:(...L)=>{const G=j.apply(D,L);return R(),G})(D.setValueAtTime),D.setValueCurveAtTime=(j=>k?()=>{throw s()}:(...L)=>{const G=j.apply(D,L);return R(),G})(D.setValueCurveAtTime),D};return{forwardX:F(0,0,O(0)),forwardY:F(1,0,O(1)),forwardZ:F(2,-1,O(2)),positionX:F(6,0,b(0)),positionY:F(7,0,b(1)),positionZ:F(8,0,b(2)),upX:F(3,0,O(3)),upY:F(4,1,O(4)),upZ:F(5,0,O(5))}},{forwardX:d,forwardY:v,forwardZ:f,positionX:y,positionY:w,positionZ:p,upX:g,upY:_,upZ:T}=c.forwardX===void 0?h():c;return{get forwardX(){return d},get forwardY(){return v},get forwardZ(){return f},get positionX(){return y},get positionY(){return w},get positionZ(){return p},get upX(){return g},get upY(){return _},get upZ(){return T}}},Va=t=>"context"in t,co=t=>Va(t[0]),Xr=(t,e,n,r)=>{for(const s of t)if(n(s)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},yp=(t,e,[n,r],s)=>{Xr(t,[e,n,r],i=>i[0]===e&&i[1]===n,s)},_p=(t,[e,n,r],s)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):Xr(i,[n,r],o=>o[0]===n,s)},Us=t=>"inputs"in t,Ua=(t,e,n,r)=>{if(Us(e)){const s=e.inputs[r];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,r),[e,n,r]},Nv=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},yT=(t,e,n)=>kl(t,r=>r[0]===e&&r[1]===n),Ev=(t,e)=>{if(!ao(t).delete(e))throw new Error("Missing the expected event listener.")},Av=(t,e,n)=>{const r=rn(t,e),s=kl(r,i=>i[0]===n);return r.size===0&&t.delete(e),s},Ba=(t,e,n,r)=>{Us(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},_e=t=>rn(Bh,t),Fi=t=>rn(zh,t),Fr=t=>Nc.has(t),sa=t=>!Os.has(t),wp=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const r=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(s),a.disconnect(s),r.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}}),wu=(t,e)=>{const n=new Map;for(const r of t)for(const s of r){const i=n.get(s);n.set(s,i===void 0?1:i+1)}n.forEach((r,s)=>e(s,r))},za=t=>"context"in t,_T=t=>{const e=new Map;t.connect=(n=>(r,s=0,i=0)=>{const o=za(r)?n(r,s,i):n(r,s),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:s}]):a.every(l=>l.input!==i||l.output!==s)&&a.push({input:i,output:s}),o})(t.connect.bind(t)),t.disconnect=(n=>(r,s,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==r);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(r))if(s===void 0)e.delete(r);else{const o=e.get(r);if(o!==void 0){const a=o.filter(l=>l.output!==s&&(l.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(const[o,a]of e)a.forEach(l=>{za(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},wT=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=uo(e),{outputs:o}=ut(t),a=ao(t),l=u=>{const c=_e(t),h=Fi(e);if(u){const d=Av(i,t,n);yp(s,t,d,!1),!r&&!Fr(t)&&c.connect(h,n)}else{const d=yT(s,t,n);_p(i,d,!1),!r&&!Fr(t)&&c.disconnect(h,n)}};return Xr(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),Pn(t)?yp(s,t,[n,l],!0):_p(i,[t,n,l],!0),!0):!1},ST=(t,e,n,r)=>{const{activeInputs:s,passiveInputs:i}=ut(e),o=Nv(s[r],t,n);return o===null?[xv(i,t,n,r)[2],!1]:[o[2],!0]},xT=(t,e,n)=>{const{activeInputs:r,passiveInputs:s}=uo(e),i=Nv(r,t,n);return i===null?[Av(s,t,n)[1],!1]:[i[2],!0]},$h=(t,e,n,r,s)=>{const[i,o]=ST(t,n,r,s);if(i!==null&&(Ev(t,i),o&&!e&&!Fr(t)&&Ba(_e(t),_e(n),r,s)),Pn(n)){const{activeInputs:a}=ut(n);Oc(n,a)}},qh=(t,e,n,r)=>{const[s,i]=xT(t,n,r);s!==null&&(Ev(t,s),i&&!e&&!Fr(t)&&_e(t).disconnect(Fi(n),r))},TT=(t,e)=>{const n=ut(t),r=[];for(const s of n.outputs)co(s)?$h(t,e,...s):qh(t,e,...s),r.push(s[0]);return n.outputs.clear(),r},CT=(t,e,n)=>{const r=ut(t),s=[];for(const i of r.outputs)i[1]===n&&(co(i)?$h(t,e,...i):qh(t,e,...i),s.push(i[0]),r.outputs.delete(i));return s},kT=(t,e,n,r,s)=>{const i=ut(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(r===void 0||o[1]===r)&&(s===void 0||o[2]===s)).map(o=>(co(o)?$h(t,e,...o):qh(t,e,...o),i.outputs.delete(o),o[0]))},NT=(t,e,n,r,s,i,o,a,l,u,c,h,d,v,f,y)=>class extends u{constructor(p,g,_,T){super(_),this._context=p,this._nativeAudioNode=_;const S=c(p);h(S)&&n(wp,()=>wp(S,y))!==!0&&_T(_),Bh.set(this,_),wv.set(this,new Set),p.state!=="closed"&&g&&Rs(this),t(this,T,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(p){this._nativeAudioNode.channelCount=p}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(p){this._nativeAudioNode.channelCountMode=p}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(p){this._nativeAudioNode.channelInterpretation=p}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(p,g=0,_=0){if(g<0||g>=this._nativeAudioNode.numberOfOutputs)throw s();const T=c(this._context),S=f(T);if(d(p)||v(p))throw i();if(Va(p)){const x=_e(p);try{const E=Ua(this._nativeAudioNode,x,g,_),R=sa(this);(S||R)&&this._nativeAudioNode.disconnect(...E),this.context.state!=="closed"&&!R&&sa(p)&&Rs(p)}catch(E){throw E.code===12?i():E}if(e(this,p,g,_,S)){const E=l([this],p);wu(E,r(S))}return p}const C=Fi(p);if(C.name==="playbackRate"&&C.maxValue===1024)throw o();try{this._nativeAudioNode.connect(C,g),(S||sa(this))&&this._nativeAudioNode.disconnect(C,g)}catch(x){throw x.code===12?i():x}if(wT(this,p,g,S)){const x=l([this],p);wu(x,r(S))}}disconnect(p,g,_){let T;const S=c(this._context),C=f(S);if(p===void 0)T=TT(this,C);else if(typeof p=="number"){if(p<0||p>=this.numberOfOutputs)throw s();T=CT(this,C,p)}else{if(g!==void 0&&(g<0||g>=this.numberOfOutputs)||Va(p)&&_!==void 0&&(_<0||_>=p.numberOfInputs))throw s();if(T=kT(this,C,p,g,_),T.length===0)throw i()}for(const k of T){const x=l([this],k);wu(x,a)}}},ET=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>(v,f,y,w=null,p=null)=>{const g=y.value,_=new Fx(g),T=f?r(_):null,S={get defaultValue(){return g},get maxValue(){return w===null?y.maxValue:w},get minValue(){return p===null?y.minValue:p},get value(){return y.value},set value(C){y.value=C,S.setValueAtTime(C,v.context.currentTime)},cancelAndHoldAtTime(C){if(typeof y.cancelAndHoldAtTime=="function")T===null&&_.flush(v.context.currentTime),_.add(s(C)),y.cancelAndHoldAtTime(C);else{const k=Array.from(_).pop();T===null&&_.flush(v.context.currentTime),_.add(s(C));const x=Array.from(_).pop();y.cancelScheduledValues(C),k!==x&&x!==void 0&&(x.type==="exponentialRampToValue"?y.exponentialRampToValueAtTime(x.value,x.endTime):x.type==="linearRampToValue"?y.linearRampToValueAtTime(x.value,x.endTime):x.type==="setValue"?y.setValueAtTime(x.value,x.startTime):x.type==="setValueCurve"&&y.setValueCurveAtTime(x.values,x.startTime,x.duration))}return S},cancelScheduledValues(C){return T===null&&_.flush(v.context.currentTime),_.add(i(C)),y.cancelScheduledValues(C),S},exponentialRampToValueAtTime(C,k){if(C===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;const x=v.context.currentTime;return T===null&&_.flush(x),Array.from(_).length===0&&(_.add(u(g,x)),y.setValueAtTime(g,x)),_.add(o(C,k)),y.exponentialRampToValueAtTime(C,k),S},linearRampToValueAtTime(C,k){const x=v.context.currentTime;return T===null&&_.flush(x),Array.from(_).length===0&&(_.add(u(g,x)),y.setValueAtTime(g,x)),_.add(a(C,k)),y.linearRampToValueAtTime(C,k),S},setTargetAtTime(C,k,x){return T===null&&_.flush(v.context.currentTime),_.add(l(C,k,x)),y.setTargetAtTime(C,k,x),S},setValueAtTime(C,k){return T===null&&_.flush(v.context.currentTime),_.add(u(C,k)),y.setValueAtTime(C,k),S},setValueCurveAtTime(C,k,x){const A=C instanceof Float32Array?C:new Float32Array(C);if(h!==null&&h.name==="webkitAudioContext"){const E=k+x,R=v.context.sampleRate,O=Math.ceil(k*R),b=Math.floor(E*R),F=b-O,z=new Float32Array(F);for(let W=0;W<F;W+=1){const I=(A.length-1)/x*((O+W)/R-k),D=Math.floor(I),j=Math.ceil(I);z[W]=D===j?A[D]:(1-(I-D))*A[D]+(1-(j-I))*A[j]}T===null&&_.flush(v.context.currentTime),_.add(c(z,k,x)),y.setValueCurveAtTime(z,k,x);const V=b/R;V<E&&d(S,z[z.length-1],V),d(S,A[A.length-1],E)}else T===null&&_.flush(v.context.currentTime),_.add(c(A,k,x)),y.setValueCurveAtTime(A,k,x);return S}};return n.set(S,y),e.set(S,v),t(S,T),S},AT=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:r,value:s}=n;e.exponentialRampToValueAtTime(s,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:s}=n;e.linearRampToValueAtTime(s,r)}else if(n.type==="setTarget"){const{startTime:r,target:s,timeConstant:i}=n;e.setTargetAtTime(s,r,i)}else if(n.type==="setValue"){const{startTime:r,value:s}=n;e.setValueAtTime(s,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,r)}else throw new Error("Can't apply an unknown automation.")}});class Ov{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,s)=>e.call(n,r,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const OT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},RT=(t,e,n,r,s,i,o,a,l,u,c,h,d,v)=>class extends e{constructor(y,w,p){var g;const _=a(y),T=l(_),S=c({...OT,...p});d(S);const C=Ec.get(_),k=C==null?void 0:C.get(w),x=T||_.state!=="closed"?_:(g=o(_))!==null&&g!==void 0?g:_,A=s(x,T?null:y.baseLatency,u,w,k,S),E=T?r(w,S,k):null;super(y,!0,A,E);const R=[];A.parameters.forEach((b,F)=>{const z=n(this,T,b);R.push([F,z])}),this._nativeAudioWorkletNode=A,this._onprocessorerror=null,this._parameters=new Ov(R),T&&t(_,this);const{activeInputs:O}=i(this);h(A,O)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(y){const w=typeof y=="function"?v(this,y):null;this._nativeAudioWorkletNode.onprocessorerror=w;const p=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=p!==null&&p===w?y:p}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Wa(t,e,n,r,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,s);else{const i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(s,s+128);else{const o=new Float32Array(i.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const Rv=(t,e,n,r,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,s):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],s)},$a=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const s=[],i=typeof e=="number"?e:e[r];for(let o=0;o<i;o+=1)s.push(new Float32Array(128));n.push(s)}return n},PT=(t,e)=>{const n=rn(Ac,t),r=_e(e);return rn(n,r)},IT=async(t,e,n,r,s,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=r.channelCount*r.numberOfInputs,u=s.reduce((w,p)=>w+p,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=ut(t),d=await PT(n,t),v=$a(r.numberOfInputs,r.channelCount),f=$a(r.numberOfOutputs,s),y=Array.from(t.parameters.keys()).reduce((w,p)=>({...w,[p]:new Float32Array(128)}),{});for(let w=0;w<a;w+=128){if(r.numberOfInputs>0&&e!==null)for(let p=0;p<r.numberOfInputs;p+=1)for(let g=0;g<r.channelCount;g+=1)Wa(e,v[p],g,g,w);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:p},g)=>{Wa(e,y,p,l+g,w)});for(let p=0;p<r.numberOfInputs;p+=1)for(let g=0;g<s[p];g+=1)f[p][g].byteLength===0&&(f[p][g]=new Float32Array(128));try{const p=v.map((_,T)=>h.activeInputs[T].size===0?[]:_),g=o(w/n.sampleRate,n.sampleRate,()=>d.process(p,f,y));if(c!==null)for(let _=0,T=0;_<r.numberOfOutputs;_+=1){for(let S=0;S<s[_];S+=1)Rv(c,f[_],S,T+S,w);T+=s[_]}if(!g)break}catch(p){t.dispatchEvent(new ErrorEvent("processorerror",{colno:p.colno,filename:p.filename,lineno:p.lineno,message:p.message}));break}}return c},DT=(t,e,n,r,s,i,o,a,l,u,c,h,d,v,f,y)=>(w,p,g)=>{const _=new WeakMap;let T=null;const S=async(C,k)=>{let x=c(C),A=null;const E=it(x,k),R=Array.isArray(p.outputChannelCount)?p.outputChannelCount:Array.from(p.outputChannelCount);if(h===null){const O=R.reduce((V,W)=>V+W,0),b=s(k,{channelCount:Math.max(1,O),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,O)}),F=[];for(let V=0;V<C.numberOfOutputs;V+=1)F.push(r(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:R[V]}));const z=o(k,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1});z.connect=e.bind(null,F),z.disconnect=l.bind(null,F),A=[b,F,z]}else E||(x=new h(k,w));if(_.set(k,A===null?x:A[2]),A!==null){if(T===null){if(g===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const W=C.channelCount*C.numberOfInputs,I=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length,D=W+I;T=IT(C,D===0?null:await(async()=>{const L=new d(D,Math.ceil(C.context.length/128)*128,k.sampleRate),G=[],we=[];for(let K=0;K<p.numberOfInputs;K+=1)G.push(o(L,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1})),we.push(s(L,{channelCount:p.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:p.channelCount}));const ue=await Promise.all(Array.from(C.parameters.values()).map(async K=>{const ge=i(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:K.value});return await v(L,K,ge.offset),ge})),X=r(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,W+I)});for(let K=0;K<p.numberOfInputs;K+=1){G[K].connect(we[K]);for(let ge=0;ge<p.channelCount;ge+=1)we[K].connect(X,ge,K*p.channelCount+ge)}for(const[K,ge]of ue.entries())ge.connect(X,0,W+K),ge.start(0);return X.connect(L.destination),await Promise.all(G.map(K=>f(C,L,K))),y(L)})(),k,p,R,g,u)}const O=await T,b=n(k,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[F,z,V]=A;O!==null&&(b.buffer=O,b.start(0)),b.connect(F);for(let W=0,I=0;W<C.numberOfOutputs;W+=1){const D=z[W];for(let j=0;j<R[W];j+=1)F.connect(D,I+j,j);I+=R[W]}return V}if(E)for(const[O,b]of C.parameters.entries())await t(k,b,x.parameters.get(O));else for(const[O,b]of C.parameters.entries())await v(k,b,x.parameters.get(O));return await f(C,k,x),x};return{render(C,k){a(k,C);const x=_.get(k);return x!==void 0?Promise.resolve(x):S(C,k)}}},MT=(t,e,n,r,s,i,o,a,l,u,c,h,d,v,f,y,w,p,g,_)=>class extends f{constructor(S,C){super(S,C),this._nativeContext=S,this._audioWorklet=t===void 0?void 0:{addModule:(k,x)=>t(this,k,x)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(S,C,k){return new n({length:C,numberOfChannels:S,sampleRate:k})}createBufferSource(){return new r(this)}createChannelMerger(S=6){return new i(this,{numberOfInputs:S})}createChannelSplitter(S=6){return new o(this,{numberOfOutputs:S})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(S=1){return new c(this,{maxDelayTime:S})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(S,C){return new v(this,{feedback:C,feedforward:S})}createOscillator(){return new y(this)}createPanner(){return new w(this)}createPeriodicWave(S,C,k={disableNormalization:!1}){return new p(this,{...k,imag:C,real:S})}createStereoPanner(){return new g(this)}createWaveShaper(){return new _(this)}decodeAudioData(S,C,k){return u(this._nativeContext,S).then(x=>(typeof C=="function"&&C(x),x),x=>{throw typeof k=="function"&&k(x),x})}},bT={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},jT=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...bT,...c},v=s(h,d),f=o(h),y=f?n():null;super(u,!1,v,y),this._Q=e(this,f,v.Q,at,yt),this._detune=e(this,f,v.detune,1200*Math.log2(at),-1200*Math.log2(at)),this._frequency=e(this,f,v.frequency,u.sampleRate/2,0),this._gain=e(this,f,v.gain,40*Math.log10(at),yt),this._nativeBiquadFilterNode=v,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(d){throw d.code===11?r():d}if(u.length!==c.length||c.length!==h.length)throw r()}},FT=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=it(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await r(l,a.Q,u.Q),await r(l,a.detune,u.detune),await r(l,a.frequency,u.frequency),await r(l,a.gain,u.gain)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},LT=(t,e)=>(n,r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t.get(n);if(i!==void 0)return i;try{const o=r();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},VT={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},UT=(t,e,n,r,s)=>class extends t{constructor(o,a){const l=r(o),u={...VT,...a},c=n(l,u),h=s(l)?e():null;super(o,!1,c,h)}},BT=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!it(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},zT={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},WT=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=i({...zT,...l}),h=n(u,c),d=s(u)?e():null;super(a,!1,h,d)}},$T=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!it(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return r.set(o,a),await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},qT=t=>(e,n,r)=>t(n,e,r),HT=t=>(e,n,r=0,s=0)=>{const i=e[r];if(i===void 0)throw t();return za(n)?i.connect(n,0,s):i.connect(n,0)},GT=t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return r.buffer=s,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}},YT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},XT=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...YT,...u},d=r(c,h),v=i(c),f=v?n():null;super(l,!1,d,f),this._constantSourceNodeRenderer=f,this._nativeConstantSourceNode=d,this._offset=e(this,v,d.offset,at,yt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){Rs(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Pn(this)&&lo(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},QT=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=it(h,c);if(!d){const v={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,v),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.offset,h.offset):await r(c,u.offset,h.offset),await s(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},KT=t=>e=>(t[0]=e,t[0]),ZT={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},JT=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c={...ZT,...l},h=n(u,c),v=s(u)?e():null;super(a,!1,h,v),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},eC=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!it(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return r.set(o,a),Us(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},tC=(t,e)=>(n,r,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,s)}catch(i){throw i.name==="SyntaxError"?t():i}},nC=()=>new DOMException("","DataCloneError"),Sp=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{const s=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},rC=(t,e,n,r,s,i,o,a,l,u,c)=>(h,d)=>{const v=o(h)?h:i(h);if(s.has(d)){const f=n();return Promise.reject(f)}try{s.add(d)}catch{}return e(l,()=>l(v))?v.decodeAudioData(d).then(f=>(Sp(d).catch(()=>{}),e(a,()=>a(f))||c(f),t.add(f),f)):new Promise((f,y)=>{const w=async()=>{try{await Sp(d)}catch{}},p=g=>{y(g),w()};try{v.decodeAudioData(d,g=>{typeof g.copyFromChannel!="function"&&(u(g),Wh(g)),t.add(g),w().then(()=>f(g))},g=>{p(g===null?r():g)})}catch(g){p(g)}})},sC=(t,e,n,r,s,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const v=r(l),{outputs:f}=n(l);for(const y of f)if(co(y)){const w=r(y[0]);t(v,w,y[1],y[2])}else{const w=s(y[0]);v.connect(w,y[1])}}}else e.set(l,c-u)},iC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},oC=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...iC,...u},d=r(c,h),v=i(c),f=v?n(h.maxDelayTime):null;super(l,!1,d,f),this._delayTime=e(this,v,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},aC=(t,e,n,r,s)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=it(c,u);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,d)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await r(u,l.delayTime,c.delayTime),await s(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},lC=t=>(e,n,r,s)=>t(e[s],i=>i[0]===n&&i[1]===r),uC=t=>(e,n)=>{t(e).delete(n)},cC=t=>"delayTime"in t,hC=(t,e,n)=>function r(s,i){const o=Va(i)?i:n(t,i);if(cC(o))return[];if(s[0]===o)return[s];if(s.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>r([...s,o],l[0])).reduce((l,u)=>l.concat(u),[])},Vo=(t,e,n)=>{const r=e[n];if(r===void 0)throw t();return r},dC=t=>(e,n=void 0,r=void 0,s=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?Vo(t,e,n).disconnect():za(n)?r===void 0?e.forEach(i=>i.disconnect(n)):s===void 0?Vo(t,e,r).disconnect(n,0):Vo(t,e,r).disconnect(n,0,s):r===void 0?e.forEach(i=>i.disconnect(n)):Vo(t,e,r).disconnect(n,0),fC={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},pC=(t,e,n,r,s,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...fC,...c},v=r(h,d),f=o(h),y=f?n():null;super(u,!1,v,y),this._attack=e(this,f,v.attack),this._knee=e(this,f,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=e(this,f,v.ratio),this._release=e(this,f,v.release),this._threshold=e(this,f,v.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},mC=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=it(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await r(l,a.attack,u.attack),await r(l,a.knee,u.knee),await r(l,a.ratio,u.ratio),await r(l,a.release,u.release),await r(l,a.threshold,u.threshold)),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},gC=()=>new DOMException("","EncodingError"),vC=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}const s=t.document.head;if(s===null)r(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,d,v,f)=>{if(h===a||h===t.location.href&&d===1&&v===1)return u(),r(f),!1;if(l!==null)return l(c,h,d,v,f)},i.onerror=()=>{u(),r(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",s.appendChild(i)}}),yC=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,s){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,s){const i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,s)}},_C=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},wC=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},SC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},xC=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...SC,...l},h=r(u,c),d=i(u),v=d?n():null;super(a,!1,h,v),this._gain=e(this,d,h.gain,at,yt)}get gain(){return this._gain}},TC=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=it(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await r(l,a.gain,u.gain),await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},CC=(t,e)=>n=>e(t,n),kC=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},NC=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},EC=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},AC=t=>e=>t.get(e),Qe=()=>new DOMException("","InvalidStateError"),OC=t=>e=>{const n=t.get(e);if(n===void 0)throw Qe();return n},RC=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r},PC=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Nl=()=>new DOMException("","InvalidAccessError"),IC=t=>{t.getFrequencyResponse=(e=>(n,r,s)=>{if(n.length!==r.length||r.length!==s.length)throw Nl();return e.call(t,n,r,s)})(t.getFrequencyResponse)},DC={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},MC=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=r(a),c=s(u),h={...DC,...l},d=e(u,c?null:a.baseLatency,h),v=c?n(h.feedback,h.feedforward):null;super(a,!1,d,v),IC(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},Pv=(t,e,n,r,s,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let v=0;v<h;v+=1){let f=n[0]*u[v];for(let y=1;y<s;y+=1){const w=d-y&l-1;f+=n[y]*i[w],f-=t[y]*o[w]}for(let y=s;y<r;y+=1)f+=n[y]*i[d-y&l-1];for(let y=s;y<e;y+=1)f-=t[y]*o[d-y&l-1];i[d]=u[v],o[d]=f,d=d+1&l-1,c[v]=f}return d},bC=(t,e,n,r)=>{const s=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),o=s.length,a=i.length,l=Math.min(o,a);if(s[0]!==1){for(let f=0;f<o;f+=1)i[f]/=s[0];for(let f=1;f<a;f+=1)s[f]/=s[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),v=t.numberOfChannels;for(let f=0;f<v;f+=1){const y=t.getChannelData(f),w=d.getChannelData(f);c.fill(0),h.fill(0),Pv(s,o,i,a,l,c,h,0,u,y,w)}return d},jC=(t,e,n,r,s)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let d=null,v=e(c);const f=it(v,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(v=h.createIIRFilter(o,i)),a.set(h,d===null?v:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const w=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await r(c,w,w.destination);const p=await s(w);return bC(p,h,i,o)})()}const y=await l;return d.buffer=y,d.start(0),d}return await r(c,h,v),v};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},FC=(t,e,n,r,s,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=r(a),{outputs:h}=n(a);for(const d of h)if(co(d)){const v=r(d[0]);e(c,v,d[1],d[2])}else{const v=s(d[0]);c.disconnect(v,d[1])}}t.set(a,l)}else t.set(a,u+l)},LC=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},VC=(t,e)=>n=>t.has(n)||e(n),UC=(t,e)=>n=>t.has(n)||e(n),BC=(t,e)=>n=>{const r=t.get(n);return e(r)||e(n)},zC=t=>e=>t!==null&&e instanceof t,WC=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,$C=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,qC=(t,e)=>n=>t(n)||e(n),HC=t=>e=>t!==null&&e instanceof t,GC=t=>t!==null&&t.isSecureContext,YC=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},XC={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},QC=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i);if(r(a))throw new TypeError;const l={...XC,...o},u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},KC=(t,e,n,r)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(r(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},ZC=(t,e,n)=>class extends t{constructor(s,i){const o=n(s),a=e(o,i);super(s,!0,a,null)}},JC=(t,e,n,r,s,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,Cl.set(this,a),r(a)&&s.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Li=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},ek=(t,e)=>(n,r,s)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&r(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&r()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const d of i)d[0]===a&&(l===void 0||d[1]===l)&&(u===void 0||d[2]===u)&&i.delete(d)}const h=i.size===0;c&&h&&s()})(n.disconnect),n},Te=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)},qe=(t,e)=>{Te(t,e,"channelCount"),Te(t,e,"channelCountMode"),Te(t,e,"channelInterpretation")},xp=t=>typeof t.getFloatTimeDomainData=="function",tk=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let s=0;s<r;s+=1)e[s]=(n[s]-128)*.0078125;return e}},nk=(t,e)=>(n,r)=>{const s=n.createAnalyser();if(qe(s,r),!(r.maxDecibels>r.minDecibels))throw e();return Te(s,r,"fftSize"),Te(s,r,"maxDecibels"),Te(s,r,"minDecibels"),Te(s,r,"smoothingTimeConstant"),t(xp,()=>xp(s))||tk(s),s},rk=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Re=(t,e,n)=>{const r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)},sk=t=>{t.start=(e=>{let n=!1;return(r=0,s=0,i)=>{if(n)throw Qe();e.call(t,r,s,i),n=!0}})(t.start)},Hh=t=>{t.start=(e=>(n=0,r=0,s)=>{if(typeof s=="number"&&s<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,s)})(t.start)},Gh=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},ik=(t,e,n,r,s,i,o,a,l,u,c)=>(h,d)=>{const v=h.createBufferSource();return qe(v,d),Re(v,d,"playbackRate"),Te(v,d,"buffer"),Te(v,d,"loop"),Te(v,d,"loopEnd"),Te(v,d,"loopStart"),e(n,()=>n(h))||sk(v),e(r,()=>r(h))||l(v),e(s,()=>s(h))||u(v,h),e(i,()=>i(h))||Hh(v),e(o,()=>o(h))||c(v,h),e(a,()=>a(h))||Gh(v),t(h,v),v},ok=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,ak=(t,e)=>(n,r,s)=>{const i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}s&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},lk=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,uk=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},ck=(t,e,n,r,s)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),d=new Map;let v=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>v,set:f=>{typeof v=="function"&&h.removeEventListener("processorerror",v),v=typeof f=="function"?f:null,typeof v=="function"&&h.addEventListener("processorerror",v)}}}),h.addEventListener=(f=>(...y)=>{if(y[0]==="processorerror"){const w=typeof y[1]=="function"?y[1]:typeof y[1]=="object"&&y[1]!==null&&typeof y[1].handleEvent=="function"?y[1].handleEvent:null;if(w!==null){const p=d.get(y[1]);p!==void 0?y[1]=p:(y[1]=g=>{g.type==="error"?(Object.defineProperties(g,{type:{value:"processorerror"}}),w(g)):w(new ErrorEvent(y[0],{...g}))},d.set(w,y[1]))}}return f.call(h,"error",y[1],y[2]),f.call(h,...y)})(h.addEventListener),h.removeEventListener=(f=>(...y)=>{if(y[0]==="processorerror"){const w=d.get(y[1]);w!==void 0&&(d.delete(y[1]),y[1]=w)}return f.call(h,"error",y[1],y[2]),f.call(h,y[0],y[1],y[2])})(h.removeEventListener),c.numberOfOutputs!==0){const f=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(f).connect(i.destination),s(h,()=>f.disconnect(),()=>f.connect(i.destination))}return h}catch(h){throw h.code===11?r():h}if(u===void 0)throw r();return uk(c),e(i,o,u,c)},Iv=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),hk=t=>new Promise((e,n)=>{const{port1:r,port2:s}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),s.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),s.close(),n(i)},s.postMessage(t)}),dk=async(t,e)=>{const n=await hk(e);return new t(n)},fk=(t,e,n,r)=>{let s=Ac.get(t);s===void 0&&(s=new WeakMap,Ac.set(t,s));const i=dk(n,r);return s.set(e,i),i},pk=(t,e,n,r,s,i,o,a,l,u,c,h,d)=>(v,f,y,w)=>{if(w.numberOfInputs===0&&w.numberOfOutputs===0)throw l();const p=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(p.some(B=>B<1))throw l();if(p.length!==w.numberOfOutputs)throw e();if(w.channelCountMode!=="explicit")throw l();const g=w.channelCount*w.numberOfInputs,_=p.reduce((B,Y)=>B+Y,0),T=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length;if(g+T>6||_>6)throw l();const S=new MessageChannel,C=[],k=[];for(let B=0;B<w.numberOfInputs;B+=1)C.push(o(v,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),k.push(s(v,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const x=[];if(y.parameterDescriptors!==void 0)for(const{defaultValue:B,maxValue:Y,minValue:De,name:de}of y.parameterDescriptors){const ee=i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w.parameterData[de]!==void 0?w.parameterData[de]:B===void 0?0:B});Object.defineProperties(ee.offset,{defaultValue:{get:()=>B===void 0?0:B},maxValue:{get:()=>Y===void 0?at:Y},minValue:{get:()=>De===void 0?yt:De}}),x.push(ee)}const A=r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,g+T)}),E=Iv(f,v.sampleRate),R=a(v,E,g+T,Math.max(1,_)),O=s(v,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),b=[];for(let B=0;B<w.numberOfOutputs;B+=1)b.push(r(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:p[B]}));for(let B=0;B<w.numberOfInputs;B+=1){C[B].connect(k[B]);for(let Y=0;Y<w.channelCount;Y+=1)k[B].connect(A,Y,B*w.channelCount+Y)}const F=new Ov(y.parameterDescriptors===void 0?[]:y.parameterDescriptors.map(({name:B},Y)=>{const De=x[Y];return De.connect(A,0,g+Y),De.start(0),[B,De.offset]}));A.connect(R);let z=w.channelInterpretation,V=null;const W=w.numberOfOutputs===0?[R]:b,I={get bufferSize(){return E},get channelCount(){return w.channelCount},set channelCount(B){throw n()},get channelCountMode(){return w.channelCountMode},set channelCountMode(B){throw n()},get channelInterpretation(){return z},set channelInterpretation(B){for(const Y of C)Y.channelInterpretation=B;z=B},get context(){return R.context},get inputs(){return C},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get onprocessorerror(){return V},set onprocessorerror(B){typeof V=="function"&&I.removeEventListener("processorerror",V),V=typeof B=="function"?B:null,typeof V=="function"&&I.addEventListener("processorerror",V)},get parameters(){return F},get port(){return S.port2},addEventListener(...B){return R.addEventListener(B[0],B[1],B[2])},connect:t.bind(null,W),disconnect:u.bind(null,W),dispatchEvent(...B){return R.dispatchEvent(B[0])},removeEventListener(...B){return R.removeEventListener(B[0],B[1],B[2])}},D=new Map;S.port1.addEventListener=(B=>(...Y)=>{if(Y[0]==="message"){const De=typeof Y[1]=="function"?Y[1]:typeof Y[1]=="object"&&Y[1]!==null&&typeof Y[1].handleEvent=="function"?Y[1].handleEvent:null;if(De!==null){const de=D.get(Y[1]);de!==void 0?Y[1]=de:(Y[1]=ee=>{c(v.currentTime,v.sampleRate,()=>De(ee))},D.set(De,Y[1]))}}return B.call(S.port1,Y[0],Y[1],Y[2])})(S.port1.addEventListener),S.port1.removeEventListener=(B=>(...Y)=>{if(Y[0]==="message"){const De=D.get(Y[1]);De!==void 0&&(D.delete(Y[1]),Y[1]=De)}return B.call(S.port1,Y[0],Y[1],Y[2])})(S.port1.removeEventListener);let j=null;Object.defineProperty(S.port1,"onmessage",{get:()=>j,set:B=>{typeof j=="function"&&S.port1.removeEventListener("message",j),j=typeof B=="function"?B:null,typeof j=="function"&&(S.port1.addEventListener("message",j),S.port1.start())}}),y.prototype.port=S.port1;let L=null;fk(v,I,y,w).then(B=>L=B);const we=$a(w.numberOfInputs,w.channelCount),ue=$a(w.numberOfOutputs,p),X=y.parameterDescriptors===void 0?[]:y.parameterDescriptors.reduce((B,{name:Y})=>({...B,[Y]:new Float32Array(128)}),{});let K=!0;const ge=()=>{w.numberOfOutputs>0&&R.disconnect(O);for(let B=0,Y=0;B<w.numberOfOutputs;B+=1){const De=b[B];for(let de=0;de<p[B];de+=1)O.disconnect(De,Y+de,de);Y+=p[B]}},H=new Map;R.onaudioprocess=({inputBuffer:B,outputBuffer:Y})=>{if(L!==null){const De=h(I);for(let de=0;de<E;de+=128){for(let ee=0;ee<w.numberOfInputs;ee+=1)for(let oe=0;oe<w.channelCount;oe+=1)Wa(B,we[ee],oe,oe,de);y.parameterDescriptors!==void 0&&y.parameterDescriptors.forEach(({name:ee},oe)=>{Wa(B,X,ee,g+oe,de)});for(let ee=0;ee<w.numberOfInputs;ee+=1)for(let oe=0;oe<p[ee];oe+=1)ue[ee][oe].byteLength===0&&(ue[ee][oe]=new Float32Array(128));try{const ee=we.map((Ve,kt)=>{if(De[kt].size>0)return H.set(kt,E/128),Ve;const wr=H.get(kt);return wr===void 0?[]:(Ve.every(Ml=>Ml.every(yo=>yo===0))&&(wr===1?H.delete(kt):H.set(kt,wr-1)),Ve)});K=c(v.currentTime+de/v.sampleRate,v.sampleRate,()=>L.process(ee,ue,X));for(let Ve=0,kt=0;Ve<w.numberOfOutputs;Ve+=1){for(let _r=0;_r<p[Ve];_r+=1)Rv(Y,ue[Ve],_r,kt+_r,de);kt+=p[Ve]}}catch(ee){K=!1,I.dispatchEvent(new ErrorEvent("processorerror",{colno:ee.colno,filename:ee.filename,lineno:ee.lineno,message:ee.message}))}if(!K){for(let ee=0;ee<w.numberOfInputs;ee+=1){C[ee].disconnect(k[ee]);for(let oe=0;oe<w.channelCount;oe+=1)k[de].disconnect(A,oe,ee*w.channelCount+oe)}if(y.parameterDescriptors!==void 0){const ee=y.parameterDescriptors.length;for(let oe=0;oe<ee;oe+=1){const Ve=x[oe];Ve.disconnect(A,0,g+oe),Ve.stop()}}A.disconnect(R),R.onaudioprocess=null,Ie?ge():ae();break}}}};let Ie=!1;const Se=o(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ae=()=>R.connect(Se).connect(v.destination),ae=()=>{R.disconnect(Se),Se.disconnect()},ln=()=>{if(K){ae(),w.numberOfOutputs>0&&R.connect(O);for(let B=0,Y=0;B<w.numberOfOutputs;B+=1){const De=b[B];for(let de=0;de<p[B];de+=1)O.connect(De,Y+de,de);Y+=p[B]}}Ie=!0},Hs=()=>{K&&(Ae(),ge()),Ie=!1};return Ae(),d(I,ln,Hs)},Dv=(t,e)=>{const n=t.createBiquadFilter();return qe(n,e),Re(n,e,"Q"),Re(n,e,"detune"),Re(n,e,"frequency"),Re(n,e,"gain"),Te(n,e,"type"),n},mk=(t,e)=>(n,r)=>{const s=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),qe(s,r),s},gk=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Qe()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Qe()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Qe()}})},ho=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return qe(n,e),gk(n),n},vk=(t,e,n,r,s)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return qe(a,o),Re(a,o,"offset"),e(r,()=>r(i))||Hh(a),e(s,()=>s(i))||Gh(a),t(i,a),a},Bs=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),yk=(t,e,n,r)=>(s,{offset:i,...o})=>{const a=s.createBuffer(1,2,44100),l=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(s,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(f){u.channelCount=f},get channelCountMode(){return u.channelCountMode},set channelCountMode(f){u.channelCountMode=f},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(f){u.channelInterpretation=f},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(f){l.onended=f},addEventListener(...f){return l.addEventListener(f[0],f[1],f[2])},dispatchEvent(...f){return l.dispatchEvent(f[0])},removeEventListener(...f){return l.removeEventListener(f[0],f[1],f[2])},start(f=0){l.start.call(l,f)},stop(f=0){l.stop.call(l,f)}},d=()=>l.connect(u),v=()=>l.disconnect(u);return t(s,l),r(Bs(h,u),d,v)},_k=(t,e)=>(n,r)=>{const s=n.createConvolver();if(qe(s,r),r.disableNormalization===s.normalize&&(s.normalize=!r.disableNormalization),Te(s,r,"buffer"),r.channelCount>2||(e(s,"channelCount",i=>()=>i.call(s),i=>o=>{if(o>2)throw t();return i.call(s,o)}),r.channelCountMode==="max"))throw t();return e(s,"channelCountMode",i=>()=>i.call(s),i=>o=>{if(o==="max")throw t();return i.call(s,o)}),s},Mv=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return qe(n,e),Re(n,e,"delayTime"),n},wk=t=>(e,n)=>{const r=e.createDynamicsCompressor();if(qe(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Re(r,n,"attack"),Re(r,n,"knee"),Re(r,n,"ratio"),Re(r,n,"release"),Re(r,n,"threshold"),r},Ct=(t,e)=>{const n=t.createGain();return qe(n,e),Re(n,e,"gain"),n},Sk=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);const s=e.createIIRFilter(r.feedforward,r.feedback);return qe(s,r),s};function xk(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Tk(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Tp(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=Tk(n,e),n[0]+=t[r];return n}const Ck=(t,e,n,r)=>(s,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=Iv(i,s.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),v=c instanceof Float64Array?c:new Float64Array(c),f=d.length,y=v.length,w=Math.min(f,y);if(f===0||f>20)throw r();if(d[0]===0)throw e();if(y===0||y>20)throw r();if(v[0]===0)throw e();if(d[0]!==1){for(let x=0;x<y;x+=1)v[x]/=d[0];for(let x=1;x<f;x+=1)d[x]/=d[0]}const p=n(s,h,o,o);p.channelCount=o,p.channelCountMode=a,p.channelInterpretation=l;const g=32,_=[],T=[],S=[];for(let x=0;x<o;x+=1){_.push(0);const A=new Float32Array(g),E=new Float32Array(g);A.fill(0),E.fill(0),T.push(A),S.push(E)}p.onaudioprocess=x=>{const A=x.inputBuffer,E=x.outputBuffer,R=A.numberOfChannels;for(let O=0;O<R;O+=1){const b=A.getChannelData(O),F=E.getChannelData(O);_[O]=Pv(d,f,v,y,w,T[O],S[O],_[O],g,b,F)}};const C=s.sampleRate/2;return Bs({get bufferSize(){return h},get channelCount(){return p.channelCount},set channelCount(x){p.channelCount=x},get channelCountMode(){return p.channelCountMode},set channelCountMode(x){p.channelCountMode=x},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(x){p.channelInterpretation=x},get context(){return p.context},get inputs(){return[p]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},addEventListener(...x){return p.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return p.dispatchEvent(x[0])},getFrequencyResponse(x,A,E){if(x.length!==A.length||A.length!==E.length)throw t();const R=x.length;for(let O=0;O<R;O+=1){const b=-Math.PI*(x[O]/C),F=[Math.cos(b),Math.sin(b)],z=Tp(v,F),V=Tp(d,F),W=xk(z,V);A[O]=Math.sqrt(W[0]*W[0]+W[1]*W[1]),E[O]=Math.atan2(W[1],W[0])}},removeEventListener(...x){return p.removeEventListener(x[0],x[1],x[2])}},p)},kk=(t,e)=>t.createMediaElementSource(e.mediaElement),Nk=(t,e)=>{const n=t.createMediaStreamDestination();return qe(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},Ek=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const r=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(s,"mediaStream",{value:e}),s},Ak=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);const s=new MediaStream([r]),i=n.createMediaStreamSource(s);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},Ok=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,Rk=(t,e,n,r,s,i)=>(o,a)=>{const l=o.createOscillator();return qe(l,a),Re(l,a,"detune"),Re(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):Te(l,a,"type"),e(n,()=>n(o))||Hh(l),e(r,()=>r(o))||i(l,o),e(s,()=>s(o))||Gh(l),t(o,l),l},Pk=t=>(e,n)=>{const r=e.createPanner();return r.orientationX===void 0?t(e,n):(qe(r,n),Re(r,n,"orientationX"),Re(r,n,"orientationY"),Re(r,n,"orientationZ"),Re(r,n,"positionX"),Re(r,n,"positionY"),Re(r,n,"positionZ"),Te(r,n,"coneInnerAngle"),Te(r,n,"coneOuterAngle"),Te(r,n,"coneOuterGain"),Te(r,n,"distanceModel"),Te(r,n,"maxDistance"),Te(r,n,"panningModel"),Te(r,n,"refDistance"),Te(r,n,"rolloffFactor"),r)},Ik=(t,e,n,r,s,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:v,distanceModel:f,maxDistance:y,orientationX:w,orientationY:p,orientationZ:g,panningModel:_,positionX:T,positionY:S,positionZ:C,refDistance:k,rolloffFactor:x,...A})=>{const E=c.createPanner();if(A.channelCount>2||A.channelCountMode==="max")throw o();qe(E,A);const R={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},O=n(c,{...R,channelInterpretation:"speakers",numberOfInputs:6}),b=r(c,{...A,gain:1}),F=r(c,{...R,gain:1}),z=r(c,{...R,gain:0}),V=r(c,{...R,gain:0}),W=r(c,{...R,gain:0}),I=r(c,{...R,gain:0}),D=r(c,{...R,gain:0}),j=s(c,256,6,1),L=i(c,{...R,curve:new Float32Array([1,1]),oversample:"none"});let G=[w,p,g],we=[T,S,C];const ue=new Float32Array(1);j.onaudioprocess=({inputBuffer:H})=>{const Ie=[l(H,ue,0),l(H,ue,1),l(H,ue,2)];Ie.some((Ae,ae)=>Ae!==G[ae])&&(E.setOrientation(...Ie),G=Ie);const Se=[l(H,ue,3),l(H,ue,4),l(H,ue,5)];Se.some((Ae,ae)=>Ae!==we[ae])&&(E.setPosition(...Se),we=Se)},Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0});const X={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(H){if(H>2)throw o();b.channelCount=H,E.channelCount=H},get channelCountMode(){return E.channelCountMode},set channelCountMode(H){if(H==="max")throw o();b.channelCountMode=H,E.channelCountMode=H},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(H){b.channelInterpretation=H,E.channelInterpretation=H},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(H){E.coneInnerAngle=H},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(H){E.coneOuterAngle=H},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(H){if(H<0||H>1)throw e();E.coneOuterGain=H},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(H){E.distanceModel=H},get inputs(){return[b]},get maxDistance(){return E.maxDistance},set maxDistance(H){if(H<0)throw new RangeError;E.maxDistance=H},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return F.gain},get orientationY(){return z.gain},get orientationZ(){return V.gain},get panningModel(){return E.panningModel},set panningModel(H){E.panningModel=H},get positionX(){return W.gain},get positionY(){return I.gain},get positionZ(){return D.gain},get refDistance(){return E.refDistance},set refDistance(H){if(H<0)throw new RangeError;E.refDistance=H},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(H){if(H<0)throw new RangeError;E.rolloffFactor=H},addEventListener(...H){return b.addEventListener(H[0],H[1],H[2])},dispatchEvent(...H){return b.dispatchEvent(H[0])},removeEventListener(...H){return b.removeEventListener(H[0],H[1],H[2])}};h!==X.coneInnerAngle&&(X.coneInnerAngle=h),d!==X.coneOuterAngle&&(X.coneOuterAngle=d),v!==X.coneOuterGain&&(X.coneOuterGain=v),f!==X.distanceModel&&(X.distanceModel=f),y!==X.maxDistance&&(X.maxDistance=y),w!==X.orientationX.value&&(X.orientationX.value=w),p!==X.orientationY.value&&(X.orientationY.value=p),g!==X.orientationZ.value&&(X.orientationZ.value=g),_!==X.panningModel&&(X.panningModel=_),T!==X.positionX.value&&(X.positionX.value=T),S!==X.positionY.value&&(X.positionY.value=S),C!==X.positionZ.value&&(X.positionZ.value=C),k!==X.refDistance&&(X.refDistance=k),x!==X.rolloffFactor&&(X.rolloffFactor=x),(G[0]!==1||G[1]!==0||G[2]!==0)&&E.setOrientation(...G),(we[0]!==0||we[1]!==0||we[2]!==0)&&E.setPosition(...we);const K=()=>{b.connect(E),t(b,L,0,0),L.connect(F).connect(O,0,0),L.connect(z).connect(O,0,1),L.connect(V).connect(O,0,2),L.connect(W).connect(O,0,3),L.connect(I).connect(O,0,4),L.connect(D).connect(O,0,5),O.connect(j).connect(c.destination)},ge=()=>{b.disconnect(E),a(b,L,0,0),L.disconnect(F),F.disconnect(O),L.disconnect(z),z.disconnect(O),L.disconnect(V),V.disconnect(O),L.disconnect(W),W.disconnect(O),L.disconnect(I),I.disconnect(O),L.disconnect(D),D.disconnect(O),O.disconnect(j),j.disconnect(c.destination)};return u(Bs(X,E),K,ge)},Dk=t=>(e,{disableNormalization:n,imag:r,real:s})=>{const i=r instanceof Float32Array?r:new Float32Array(r),o=s instanceof Float32Array?s:new Float32Array(s),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a},fo=(t,e,n,r)=>t.createScriptProcessor(e,n,r),Mk=(t,e)=>(n,r)=>{const s=r.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);const i=n.createStereoPanner();return qe(i,r),Re(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>s,set:o=>{if(o!==s)throw e()}}),i},bk=(t,e,n,r,s,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(f,y,w,p)=>{const g=new Float32Array(16385),_=new Float32Array(16385);for(let A=0;A<16385;A+=1){const E=A/16384*l;g[A]=Math.cos(E),_[A]=Math.sin(E)}const T=n(f,{...u,gain:0}),S=r(f,{...c,curve:g}),C=r(f,{...c,curve:a}),k=n(f,{...u,gain:0}),x=r(f,{...c,curve:_});return{connectGraph(){y.connect(T),y.connect(C.inputs===void 0?C:C.inputs[0]),y.connect(k),C.connect(w),w.connect(S.inputs===void 0?S:S.inputs[0]),w.connect(x.inputs===void 0?x:x.inputs[0]),S.connect(T.gain),x.connect(k.gain),T.connect(p,0,0),k.connect(p,0,1)},disconnectGraph(){y.disconnect(T),y.disconnect(C.inputs===void 0?C:C.inputs[0]),y.disconnect(k),C.disconnect(w),w.disconnect(S.inputs===void 0?S:S.inputs[0]),w.disconnect(x.inputs===void 0?x:x.inputs[0]),S.disconnect(T.gain),x.disconnect(k.gain),T.disconnect(p,0,0),k.disconnect(p,0,1)}}},d=(f,y,w,p)=>{const g=new Float32Array(16385),_=new Float32Array(16385),T=new Float32Array(16385),S=new Float32Array(16385),C=Math.floor(16385/2);for(let W=0;W<16385;W+=1)if(W>C){const I=(W-C)/(16384-C)*l;g[W]=Math.cos(I),_[W]=Math.sin(I),T[W]=0,S[W]=1}else{const I=W/(16384-C)*l;g[W]=1,_[W]=0,T[W]=Math.cos(I),S[W]=Math.sin(I)}const k=e(f,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),x=n(f,{...u,gain:0}),A=r(f,{...c,curve:g}),E=n(f,{...u,gain:0}),R=r(f,{...c,curve:_}),O=r(f,{...c,curve:a}),b=n(f,{...u,gain:0}),F=r(f,{...c,curve:T}),z=n(f,{...u,gain:0}),V=r(f,{...c,curve:S});return{connectGraph(){y.connect(k),y.connect(O.inputs===void 0?O:O.inputs[0]),k.connect(x,0),k.connect(E,0),k.connect(b,1),k.connect(z,1),O.connect(w),w.connect(A.inputs===void 0?A:A.inputs[0]),w.connect(R.inputs===void 0?R:R.inputs[0]),w.connect(F.inputs===void 0?F:F.inputs[0]),w.connect(V.inputs===void 0?V:V.inputs[0]),A.connect(x.gain),R.connect(E.gain),F.connect(b.gain),V.connect(z.gain),x.connect(p,0,0),b.connect(p,0,0),E.connect(p,0,1),z.connect(p,0,1)},disconnectGraph(){y.disconnect(k),y.disconnect(O.inputs===void 0?O:O.inputs[0]),k.disconnect(x,0),k.disconnect(E,0),k.disconnect(b,1),k.disconnect(z,1),O.disconnect(w),w.disconnect(A.inputs===void 0?A:A.inputs[0]),w.disconnect(R.inputs===void 0?R:R.inputs[0]),w.disconnect(F.inputs===void 0?F:F.inputs[0]),w.disconnect(V.inputs===void 0?V:V.inputs[0]),A.disconnect(x.gain),R.disconnect(E.gain),F.disconnect(b.gain),V.disconnect(z.gain),x.disconnect(p,0,0),b.disconnect(p,0,0),E.disconnect(p,0,1),z.disconnect(p,0,1)}}},v=(f,y,w,p,g)=>{if(y===1)return h(f,w,p,g);if(y===2)return d(f,w,p,g);throw s()};return(f,{channelCount:y,channelCountMode:w,pan:p,...g})=>{if(w==="max")throw s();const _=t(f,{...g,channelCount:1,channelCountMode:w,numberOfInputs:2}),T=n(f,{...g,channelCount:y,channelCountMode:w,gain:1}),S=n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:p});let{connectGraph:C,disconnectGraph:k}=v(f,y,T,S,_);Object.defineProperty(S.gain,"defaultValue",{get:()=>0}),Object.defineProperty(S.gain,"maxValue",{get:()=>1}),Object.defineProperty(S.gain,"minValue",{get:()=>-1});const x={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(O){T.channelCount!==O&&(A&&k(),{connectGraph:C,disconnectGraph:k}=v(f,O,T,S,_),A&&C()),T.channelCount=O},get channelCountMode(){return T.channelCountMode},set channelCountMode(O){if(O==="clamped-max"||O==="max")throw s();T.channelCountMode=O},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(O){T.channelInterpretation=O},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get pan(){return S.gain},addEventListener(...O){return T.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return T.dispatchEvent(O[0])},removeEventListener(...O){return T.removeEventListener(O[0],O[1],O[2])}};let A=!1;const E=()=>{C(),A=!0},R=()=>{k(),A=!1};return i(Bs(x,_),E,R)}},jk=(t,e,n,r,s,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);qe(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();Te(u,{curve:c},"curve"),Te(u,l,"oversample");let h=null,d=!1;return o(u,"curve",y=>()=>y.call(u),y=>w=>(y.call(u,w),d&&(r(w)&&h===null?h=t(a,u):!r(w)&&h!==null&&(h(),h=null)),w)),s(u,()=>{d=!0,r(u.curve)&&(h=t(a,u))},()=>{d=!1,h!==null&&(h(),h=null)})},Fk=(t,e,n,r,s)=>(i,{curve:o,oversample:a,...l})=>{const u=i.createWaveShaper(),c=i.createWaveShaper();qe(u,l),qe(c,l);const h=n(i,{...l,gain:1}),d=n(i,{...l,gain:-1}),v=n(i,{...l,gain:1}),f=n(i,{...l,gain:-1});let y=null,w=!1,p=null;const g={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(S){h.channelCount=S,d.channelCount=S,u.channelCount=S,v.channelCount=S,c.channelCount=S,f.channelCount=S},get channelCountMode(){return u.channelCountMode},set channelCountMode(S){h.channelCountMode=S,d.channelCountMode=S,u.channelCountMode=S,v.channelCountMode=S,c.channelCountMode=S,f.channelCountMode=S},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(S){h.channelInterpretation=S,d.channelInterpretation=S,u.channelInterpretation=S,v.channelInterpretation=S,c.channelInterpretation=S,f.channelInterpretation=S},get context(){return u.context},get curve(){return p},set curve(S){if(S!==null&&S.length<2)throw e();if(S===null)u.curve=S,c.curve=S;else{const C=S.length,k=new Float32Array(C+2-C%2),x=new Float32Array(C+2-C%2);k[0]=S[0],x[0]=-S[C-1];const A=Math.ceil((C+1)/2),E=(C+1)/2-1;for(let R=1;R<A;R+=1){const O=R/A*E,b=Math.floor(O),F=Math.ceil(O);k[R]=b===F?S[b]:(1-(O-b))*S[b]+(1-(F-O))*S[F],x[R]=b===F?-S[C-1-b]:-((1-(O-b))*S[C-1-b])-(1-(F-O))*S[C-1-F]}k[A]=C%2===1?S[A-1]:(S[A-2]+S[A-1])/2,u.curve=k,c.curve=x}p=S,w&&(r(p)&&y===null?y=t(i,h):y!==null&&(y(),y=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(S){u.oversample=S,c.oversample=S},addEventListener(...S){return h.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return h.dispatchEvent(S[0])},removeEventListener(...S){return h.removeEventListener(S[0],S[1],S[2])}};o!==null&&(g.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==g.oversample&&(g.oversample=a);const _=()=>{h.connect(u).connect(v),h.connect(d).connect(c).connect(f).connect(v),w=!0,r(p)&&(y=t(i,h))},T=()=>{h.disconnect(u),u.disconnect(v),h.disconnect(d),d.disconnect(c),c.disconnect(f),f.disconnect(v),w=!1,y!==null&&(y(),y=null)};return s(Bs(g,v),_,T)},pt=()=>new DOMException("","NotSupportedError"),Lk={numberOfChannels:1},Vk=(t,e,n,r,s)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:d}={...Lk,...u},v=r(h,c,d);e(Li,()=>Li(v))||v.addEventListener("statechange",(()=>{let f=0;const y=w=>{this._state==="running"&&(f>0?(v.removeEventListener("statechange",y),w.stopImmediatePropagation(),this._waitForThePromiseToSettle(w)):f+=1)};return y})()),super(v,h),this._length=c,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,kv(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},Uk={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Bk=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...Uk,...u},d=n(c,h),v=i(c),f=v?r():null,y=l.sampleRate/2;super(l,!1,d,f),this._detune=e(this,v,d.detune,153600,-153600),this._frequency=e(this,v,d.frequency,y,-y),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=f,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){Rs(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Pn(this)&&lo(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},zk=(t,e,n,r,s)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let d=n(c);const v=it(d,h);if(!v){const f={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,f),a!==null&&d.start(a),l!==null&&d.stop(l)}return i.set(h,d),v?(await t(h,c.detune,d.detune),await t(h,c.frequency,d.frequency)):(await r(h,c.detune,d.detune),await r(h,c.frequency,d.frequency)),await s(c,h,d),d};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},Wk={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},$k=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...Wk,...u},d=n(c,h),v=i(c),f=v?r():null;super(l,!1,d,f),this._nativePannerNode=d,this._orientationX=e(this,v,d.orientationX,at,yt),this._orientationY=e(this,v,d.orientationY,at,yt),this._orientationZ=e(this,v,d.orientationZ,at,yt),this._positionX=e(this,v,d.positionX,at,yt),this._positionY=e(this,v,d.positionY,at,yt),this._positionZ=e(this,v,d.positionZ,at,yt),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},qk=(t,e,n,r,s,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const d=async(v,f)=>{let y=null,w=i(v);const p={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation},g={...p,coneInnerAngle:w.coneInnerAngle,coneOuterAngle:w.coneOuterAngle,coneOuterGain:w.coneOuterGain,distanceModel:w.distanceModel,maxDistance:w.maxDistance,panningModel:w.panningModel,refDistance:w.refDistance,rolloffFactor:w.rolloffFactor},_=it(w,f);if("bufferSize"in w)y=r(f,{...p,gain:1});else if(!_){const T={...g,orientationX:w.orientationX.value,orientationY:w.orientationY.value,orientationZ:w.orientationZ.value,positionX:w.positionX.value,positionY:w.positionY.value,positionZ:w.positionZ.value};w=s(f,T)}if(c.set(f,y===null?w:y),y!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const R=new o(6,v.context.length,f.sampleRate),O=e(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});O.connect(R.destination),h=(async()=>{const b=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async(F,z)=>{const V=n(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:z===0?1:0});return await a(R,F,V.offset),V}));for(let F=0;F<6;F+=1)b[F].connect(O,0,F),b[F].start(0);return u(R)})()}const T=await h,S=r(f,{...p,gain:1});await l(v,f,S);const C=[];for(let R=0;R<T.numberOfChannels;R+=1)C.push(T.getChannelData(R));let k=[C[0][0],C[1][0],C[2][0]],x=[C[3][0],C[4][0],C[5][0]],A=r(f,{...p,gain:1}),E=s(f,{...g,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:x[0],positionY:x[1],positionZ:x[2]});S.connect(A).connect(E.inputs[0]),E.connect(y);for(let R=128;R<T.length;R+=128){const O=[C[0][R],C[1][R],C[2][R]],b=[C[3][R],C[4][R],C[5][R]];if(O.some((F,z)=>F!==k[z])||b.some((F,z)=>F!==x[z])){k=O,x=b;const F=R/f.sampleRate;A.gain.setValueAtTime(0,F),A=r(f,{...p,gain:0}),E=s(f,{...g,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:x[0],positionY:x[1],positionZ:x[2]}),A.gain.setValueAtTime(1,F),S.connect(A).connect(E.inputs[0]),E.connect(y)}}return y}return _?(await t(f,v.orientationX,w.orientationX),await t(f,v.orientationY,w.orientationY),await t(f,v.orientationZ,w.orientationZ),await t(f,v.positionX,w.positionX),await t(f,v.positionY,w.positionY),await t(f,v.positionZ,w.positionZ)):(await a(f,v.orientationX,w.orientationX),await a(f,v.orientationY,w.orientationY),await a(f,v.orientationZ,w.orientationZ),await a(f,v.positionX,w.positionX),await a(f,v.positionY,w.positionY),await a(f,v.positionZ,w.positionZ)),Us(w)?await l(v,f,w.inputs[0]):await l(v,f,w),w};return{render(v,f){const y=c.get(f);return y!==void 0?Promise.resolve(y):d(v,f)}}},Hk={disableNormalization:!1},Gk=(t,e,n,r)=>class bv{constructor(i,o){const a=e(i),l=r({...Hk,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===bv.prototype||n.has(i)}},Yk=(t,e)=>(n,r,s)=>(t(r).replay(s),e(r,n,s)),Xk=(t,e,n)=>async(r,s,i)=>{const o=t(r);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const d=await e(u).render(u,s),v=r.context.destination;!n(u)&&(r!==v||!n(r))&&d.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},Qk=(t,e,n)=>async(r,s,i)=>{const o=e(r);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,s);n(a)||c.connect(i,l)}))},Kk=(t,e,n,r)=>s=>t(Li,()=>Li(s))?Promise.resolve(t(r,r)).then(i=>{if(!i){const o=n(s,512,0,1);s.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>s.currentTime,o.connect(s.destination)}return s.startRendering()}):new Promise(i=>{const o=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(s.destination),s.startRendering()}),Zk=t=>(e,n)=>{t.set(e,n)},Jk=t=>(e,n)=>t.set(e,n),eN=(t,e,n,r,s,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(r(u)).map(c=>n(c).render(c,u)))).then(()=>s(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),Wh(c)):e(i,()=>i(c))||a(c),t.add(c),c)),tN={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},nN=(t,e,n,r,s,i)=>class extends t{constructor(a,l){const u=s(a),c={...tN,...l},h=n(u,c),d=i(u),v=d?r():null;super(a,!1,h,v),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},rN=(t,e,n,r,s)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=it(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await r(l,a.pan,u.pan),Us(u)?await s(a,l,u.inputs[0]):await s(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},sN=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},iN=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),s=URL.createObjectURL(n);let i=!1,o=!1;try{await r.audioWorklet.addModule(s);const a=new t(r,"a",{numberOfOutputs:0}),l=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await r.startRendering()}catch{}finally{URL.revokeObjectURL(s)}return i&&!o},oN=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{r.disconnect(),s(n.currentTime!==0)},n.startRendering()})},aN=()=>new DOMException("","UnknownError"),lN={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},uN=(t,e,n,r,s,i,o)=>class extends t{constructor(l,u){const c=s(l),h={...lN,...u},d=n(c,h),f=i(c)?r():null;super(l,!0,d,f),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},cN=(t,e,n)=>()=>{const r=new WeakMap,s=async(i,o)=>{let a=e(i);if(!it(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return r.set(o,a),Us(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=r.get(o);return a!==void 0?Promise.resolve(a):s(i,o)}}},hN=()=>typeof window>"u"?null:window,dN=(t,e)=>n=>{n.copyFromChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)r[h]=u[h+o]},n.copyToChannel=(r,s,i=0)=>{const o=t(i),a=t(s);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=r.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=r[h]}},fN=t=>e=>{e.copyFromChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,s,i=0)=>{const o=t(i),a=t(s);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)},pN=t=>(e,n)=>{const r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",s=>()=>{const i=s.call(e);return i===r?null:i},s=>i=>s.call(e,i===null?r:i))},mN=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(r,()=>{const a=r.numberOfInputs;for(let l=0;l<a;l+=1)s.connect(r,0,l)},()=>s.disconnect(r))},jv=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Fv=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},po=(t,e,n,r)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:i,set:o}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(i),set:r(o)})},gN=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),vN=t=>({...t,channelCount:t.numberOfOutputs}),yN=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Lv=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;Lv(t,e,n+1e-7)}},_N=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},wN=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},SN=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Yh=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Vv=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Xh=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},xN=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},TN=t=>{t.start=(e=>(n=0,r=0,s)=>{const i=t.buffer,o=i===null?r:Math.min(i.duration,r);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,s)})(t.start)},Uv=(t,e)=>{const n=e.createGain();t.connect(n);const r=(s=>()=>{s.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),Bs(t,n),t.stop=(s=>{let i=!1;return(o=0)=>{if(i)try{s.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else s.call(t,o),i=!0}})(t.stop)},zs=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},CN=$x(Xr),kN=Qx(Xr),NN=lC(kl),Bv=new WeakMap,EN=NC(Bv),sn=LT(new Map,new WeakMap),mn=hN(),zv=nk(sn,_n),Qh=kC(ut),et=Xk(ut,Qh,Fr),AN=tT(zv,_e,et),me=OC(Cl),Un=Ok(mn),ce=HC(Un),Wv=new WeakMap,$v=yC(zs),mo=ok(mn),Kh=zC(mo),Zh=WC(mn),qv=$C(mn),Vi=lk(mn),Le=NT(qx(yv),Xx(CN,kN,Ua,NN,Ba,ut,EN,ao,_e,Xr,Pn,Fr,sa),sn,FC(Nc,Ba,ut,_e,Fi,Pn),_n,Nl,pt,sC(Ua,Nc,ut,_e,Fi,me,Pn,ce),hC(Wv,ut,rn),$v,me,Kh,Zh,qv,ce,Vi),ON=eT(Le,AN,_n,zv,me,ce),Jh=new WeakSet,Cp=rk(mn),Hv=KT(new Uint32Array(1)),ed=dN(Hv,_n),td=fN(Hv),RN=rT(Jh,sn,pt,Cp,Un,sN(Cp),ed,td),El=Kx(Ct),Gv=Qk(Qh,uo,Fr),wn=qT(Gv),Ws=ik(El,sn,_N,wN,SN,Yh,Vv,Xh,TN,pN(po),Uv),Sn=Yk(EC(uo),Gv),PN=oT(wn,Ws,_e,Sn,et),on=ET(Hx(_v),Wv,zh,AT,Lx,Vx,Ux,Bx,zx,Tc,gv,mo,Lv),IN=iT(Le,PN,on,Qe,Ws,me,ce,zs),DN=mT(Le,gT,_n,Qe,ak(Ct,po),me,ce,et),MN=FT(wn,Dv,_e,Sn,et),Qr=Jk(Bv),bN=jT(Le,on,MN,Nl,Dv,me,ce,Qr),vr=ek(Xr,Zh),jN=mN(Qe,vr),yr=mk(mo,jN),FN=BT(yr,_e,et),LN=UT(Le,FN,yr,me,ce),VN=$T(ho,_e,et),UN=WT(Le,VN,ho,me,ce,vN),BN=yk(El,Ws,Ct,vr),$s=vk(El,sn,BN,Yh,Xh),zN=QT(wn,$s,_e,Sn,et),WN=XT(Le,on,zN,$s,me,ce,zs),Yv=_k(pt,po),$N=eC(Yv,_e,et),qN=JT(Le,$N,Yv,me,ce,Qr),HN=aC(wn,Mv,_e,Sn,et),GN=oC(Le,on,HN,Mv,me,ce,Qr),Xv=wk(pt),YN=mC(wn,Xv,_e,Sn,et),XN=pC(Le,on,YN,Xv,pt,me,ce,Qr),QN=TC(wn,Ct,_e,Sn,et),KN=xC(Le,on,QN,Ct,me,ce),ZN=Ck(Nl,Qe,fo,pt),Al=Kk(sn,Ct,fo,oN(Ct,Un)),JN=jC(Ws,_e,Un,et,Al),eE=Sk(ZN),tE=MC(Le,eE,JN,me,ce,Qr),nE=vT(on,yr,$s,fo,pt,jv,ce,po),Qv=new WeakMap,rE=JC(DN,nE,$v,ce,Qv,zs),Kv=Rk(El,sn,Yh,Vv,Xh,Uv),sE=zk(wn,Kv,_e,Sn,et),iE=Bk(Le,on,Kv,sE,me,ce,zs),Zv=GT(Ws),oE=Fk(Zv,Qe,Ct,Fv,vr),Ol=jk(Zv,Qe,oE,Fv,vr,mo,po),aE=Ik(Ua,Qe,yr,Ct,fo,Ol,pt,Ba,jv,vr),Jv=Pk(aE),lE=qk(wn,yr,$s,Ct,Jv,_e,Un,Sn,et,Al),uE=$k(Le,on,Jv,lE,me,ce,Qr),cE=Dk(_n),hE=Gk(cE,me,new WeakSet,yN),dE=bk(yr,ho,Ct,Ol,pt,vr),ey=Mk(dE,pt),fE=rN(wn,ey,_e,Sn,et),pE=nN(Le,on,ey,fE,me,ce),mE=cN(Ol,_e,et),gE=uN(Le,Qe,Ol,mE,me,ce,Qr),ty=GC(mn),nd=_C(mn),ny=new WeakMap,vE=RC(ny,Un),yE=ty?Yx(sn,pt,vC(mn),nd,wC(Wx),me,vE,ce,Vi,new WeakMap,new WeakMap,iN(Vi,Un),mn):void 0,_E=qC(Kh,ce),wE=rC(Jh,sn,nC,gC,new WeakSet,me,_E,La,Li,ed,td),ry=MT(yE,ON,RN,IN,bN,LN,UN,WN,qN,wE,GN,XN,KN,tE,rE,iE,uE,hE,pE,gE),SE=YC(Le,kk,me,ce),xE=QC(Le,Nk,me,ce),TE=KC(Le,Ek,me,ce),CE=Ak(Qe,ce),kE=ZC(Le,CE,me),NE=pT(ry,Qe,pt,aN,SE,xE,TE,kE,mo),rd=PC(Qv),EE=Zx(rd),sy=HT(_n),AE=uC(rd),iy=dC(_n),oy=new WeakMap,OE=CC(oy,rn),RE=pk(sy,_n,Qe,yr,ho,$s,Ct,fo,pt,iy,nd,OE,vr),PE=ck(Qe,RE,Ct,pt,vr),IE=DT(wn,sy,Ws,yr,ho,$s,Ct,AE,iy,nd,_e,Vi,Un,Sn,et,Al),DE=AC(ny),ME=Zk(oy),kp=ty?RT(EE,Le,on,IE,PE,ut,DE,me,ce,Vi,gN,ME,xN,zs):void 0,bE=tC(pt,Un),jE=eN(Jh,sn,Qh,rd,Al,La,ed,td),FE=Vk(ry,sn,Qe,bE,jE),LE=LC(Cl,Kh),VE=VC(Bh,Zh),UE=UC(zh,qv),BE=BC(Cl,ce);function Q(t,e){if(!t)throw new Error(e)}function dr(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function ay(t){!t.isOffline&&t.state!=="running"&&uy('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let ly=console;function zE(...t){ly.log(...t)}function uy(...t){ly.warn(...t)}function zt(t){return typeof t>"u"}function te(t){return!zt(t)}function WE(t){return typeof t=="function"}function Lr(t){return typeof t=="number"}function Rr(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function $E(t){return typeof t=="boolean"}function tn(t){return Array.isArray(t)}function gn(t){return typeof t=="string"}function Uo(t){return gn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function qE(t){return new NE(t)}function HE(t,e,n){return new FE(t,e,n)}const Pr=typeof self=="object"?self:null,GE=Pr&&(Pr.hasOwnProperty("AudioContext")||Pr.hasOwnProperty("webkitAudioContext"));function YE(t,e,n){return Q(te(kp),"This node only works in a secure context (https or localhost)"),new kp(t,e,n)}function an(t,e,n,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,n,i):o(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Be(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}class XE{constructor(e,n,r){this._callback=e,this._type=n,this._updateInterval=r,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(e*1e3,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Vr(t){return UE(t)}function ur(t){return VE(t)}function ia(t){return BE(t)}function Jr(t){return LE(t)}function cy(t){return t instanceof AudioBuffer}function QE(t,e){return t==="value"||Vr(e)||ur(e)||cy(e)}function _s(t,...e){if(!e.length)return t;const n=e.shift();if(Rr(t)&&Rr(n))for(const r in n)QE(r,n[r])?t[r]=n[r]:Rr(n[r])?(t[r]||Object.assign(t,{[r]:{}}),_s(t[r],n[r])):Object.assign(t,{[r]:n[r]});return _s(t,...e)}function KE(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function U(t,e,n=[],r){const s={},i=Array.from(e);if(Rr(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(_s(s,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&Rr(i[0]))_s(s,i[0]);else for(let o=0;o<n.length;o++)te(i[o])&&(s[n[o]]=i[o]);return _s(t,s)}function ZE(t){return t.constructor.getDefaults()}function ws(t,e){return zt(t)?e:t}function Np(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Bn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Pr&&this.toString()===Pr.TONE_DEBUG_CLASS)&&zE(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Bn.version=mv;const sd=1e-6;function qa(t,e){return t>e+sd}function Pc(t,e){return qa(t,e)||Qt(t,e)}function hy(t,e){return t+sd<e}function Qt(t,e){return Math.abs(t-e)<sd}function JE(t,e,n){return Math.max(Math.min(t,n),e)}class xn extends Bn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=U(xn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Q(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];Q(Pc(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Qt(this._timeline[n].time,e)){for(let r=n;r>=0&&Qt(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Pc(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;r<i;){let o=Math.floor(r+(i-r)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Qt(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(Qt(c[n],e))o=u;else break}return o}else{if(hy(a[n],e)&&qa(l[n],e))return o;qa(a[n],e)?i=o:r=o+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){const r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let s=this._search(e),i=this._search(n);return s!==-1&&i!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,s,i)):s===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){const r=this._search(e);if(r!==-1&&Qt(this._timeline[r].time,e)){let s=r;for(let i=r;i>=0&&Qt(this._timeline[i].time,e);i--)s=i;this._iterate(i=>{n(i)},s,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const dy=[];function Rl(t){dy.push(t)}function eA(t){dy.forEach(e=>e(t))}const fy=[];function Pl(t){fy.push(t)}function tA(t){fy.forEach(e=>e(t))}class go extends Bn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{zt(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const r=(...s)=>{n(...s),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(zt(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(zt(n))this._events[e]=[];else{const i=this._events[e];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const r=this._events[e].slice(0);for(let s=0,i=r.length;s<i;s++)r[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const r=Object.getOwnPropertyDescriptor(go.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}}class py extends go{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class vo extends py{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new xn,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=U(vo.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=qE({latencyHint:e.latencyHint}),this._ticker=new XE(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(eA(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Q(Jr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Q(Jr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Q(Jr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Q(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Q(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Q(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Q(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return YE(this.rawContext,e,n)}addAudioWorkletModule(e,n){return Be(this,void 0,void 0,function*(){Q(te(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(n)})}workletsAreReady(){return Be(this,void 0,void 0,function*(){const e=[];this._workletModules.forEach(n=>e.push(n)),yield Promise.all(e)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let n=0;if(this._latencyHint=e,gn(e))switch(e){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Jr(this._context)?this._context.resume():Promise.resolve()}close(){return Be(this,void 0,void 0,function*(){Jr(this._context)&&(yield this._context.close()),this._initialized&&tA(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const r=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:r,time:i+n})};return s(),r}}class nA extends py{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e,n){return Be(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Pe(t,e){tn(e)?e.forEach(n=>Pe(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function my(t,e){tn(e)?e.forEach(n=>my(t,n)):Object.defineProperty(t,e,{writable:!0})}const he=()=>{};class fe extends Bn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=he;const e=U(fe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&cy(e.url)||e.url instanceof fe?this.set(e.url):gn(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:he,onload:he,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Kt().sampleRate}set(e){return e instanceof fe?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Be(this,void 0,void 0,function*(){const n=fe.load(e).then(r=>{this.set(r),this.onload(this)});fe.downloads.push(n);try{yield n}finally{const r=fe.downloads.indexOf(n);fe.downloads.splice(r,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=tn(e)&&e[0].length>0,r=n?e.length:1,s=n?e[0].length:e.length,i=Kt(),o=i.createBuffer(r,s,i.sampleRate),a=!n&&r===1?[e]:e;for(let l=0;l<r;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(Lr(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const r=this.numberOfChannels;for(let s=0;s<r;s++){const i=this.toArray(s);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(s=>s/r),this.fromArray(n)}return this}toArray(e){if(Lr(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let r=0;r<this.numberOfChannels;r++)n[r]=this.getChannelData(r);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){const r=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);Q(r<s,"The start time must be less than the end time");const i=s-r,o=Kt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(r,s),a);return new fe(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new fe().fromArray(e)}static fromUrl(e){return Be(this,void 0,void 0,function*(){return yield new fe().load(e)})}static load(e){return Be(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const a=n[1].split("|");let l=a[0];for(const u of a)if(fe.supportsType(u)){l=u;break}e=e.replace(n[0],l)}const r=fe.baseUrl===""||fe.baseUrl.endsWith("/")?fe.baseUrl:fe.baseUrl+"/",s=yield fetch(r+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const i=yield s.arrayBuffer();return yield Kt().decodeAudioData(i)})}static supportsType(e){const n=e.split("."),r=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+r)!==""}static loaded(){return Be(this,void 0,void 0,function*(){for(yield Promise.resolve();fe.downloads.length;)yield fe.downloads[0]})}}fe.baseUrl="";fe.downloads=[];class id extends vo{constructor(){super({clockSource:"offline",context:ia(arguments[0])?arguments[0]:HE(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ia(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ia(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Be(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(e=!0){return Be(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new fe(n)})}close(){return Promise.resolve()}}const gy=new nA;let mi=gy;function Kt(){return mi===gy&&GE&&rA(new vo),mi}function rA(t){Jr(t)?mi=new vo(t):ia(t)?mi=new id(t):mi=t}if(Pr&&!Pr.TONE_SILENCE_LOGGING){const e=` * Tone.js v${mv} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function sA(t){return Math.pow(10,t/20)}function iA(t){return 20*(Math.log(t)/Math.LN10)}function vy(t){return Math.pow(2,t/12)}let Il=440;function oA(){return Il}function aA(t){Il=t}function Ic(t){return Math.round(yy(t))}function yy(t){return 69+12*Math.log2(t/Il)}function lA(t){return Il*Math.pow(2,(t-69)/12)}class od extends Bn{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const r=parseInt(e,10),s=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/r)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s+=this._beatsToUnits(parseFloat(r)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof od&&this.fromType(this._val),zt(this._val))return this._noArg();if(gn(this._val)&&zt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Rr(this._val)){let e=0;for(const n in this._val)if(te(this._val[n])){const r=this._val[n],s=new this.constructor(this.context,n).valueOf()*r;e+=s}return e}if(te(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return gn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Zt extends od{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Zt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const r=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),a=Math.round(s/r)*r-s;return s+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let r=n[0],s=new Zt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new Zt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(s-e)&&(r=i,s=o)}),r}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const r=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[r,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Ic(this.toFrequency())}_now(){return this.context.now()}}class Vt extends Zt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return oA()}static set A4(e){aA(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:Vt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,n){const s=uA[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:Vt.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(s*=this._beatsToUnits(parseFloat(r)/4)),s}}})}transpose(e){return new Vt(this.context,this.valueOf()*vy(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Ic(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/Vt.A4);let r=Math.round(12*n)+57;const s=Math.floor(r/12);return s<0&&(r+=-12*s),cA[r%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return lA(e)}static ftom(e){return Ic(e)}}const uA={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},cA=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class gi extends Zt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Tt extends Bn{constructor(){super();const e=U(Tt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Kt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Zt(this.context,e).toSeconds()}toFrequency(e){return new Vt(this.context,e).toFrequency()}toTicks(e){return new gi(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(r=>{zt(e[r])&&delete n[r]}),n}get(){const e=ZE(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const r=this[n];te(r)&&te(r.value)&&te(r.setValueAtTime)?e[n]=r.value:r instanceof Tt?e[n]=r._getPartialProperties(e[n]):tn(r)||Lr(r)||gn(r)||$E(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&te(this[n])&&(this[n]&&te(this[n].value)&&te(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Tt?this[n].set(e[n]):this[n]=e[n])}),this}}class ad extends xn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return dr(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){const r=this._search(n);for(let s=r;s>=0;s--){const i=this._timeline[s];if(i.state===e)return i}}getNextState(e,n){const r=this._search(n);if(r!==-1)for(let s=r;s<this._timeline.length;s++){const i=this._timeline[s];if(i.state===e)return i}}}class xe extends Tt{constructor(){super(U(xe.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=U(xe.getDefaults(),arguments,["param","units","convert"]);for(Q(te(e.param)&&(Vr(e.param)||e.param instanceof xe),"param must be an AudioParam");!Vr(e.param);)e.param=e.param._param;this._swappable=te(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new xn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,te(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Tt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return te(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return te(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return te(this.maxValue)&&te(this.minValue)&&dr(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?sA(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?iA(e):e}setValueAtTime(e,n){const r=this.toSeconds(n),s=this._fromType(e);return Q(isFinite(s)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,r),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),s=this._events.get(n);let i=this._initialValue;if(s===null)i=this._initialValue;else if(s.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){const o=this._events.getBefore(s.time);let a;o===null?a=this._initialValue:a=o.value,s.type==="setTargetAtTime"&&(i=this._exponentialApproach(s.time,a,s.value,s.constant,n))}else if(r===null)i=s.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let o=s.value;if(s.type==="setTargetAtTime"){const a=this._events.getBefore(s.time);a===null?o=this._initialValue:o=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(s.time,o,r.time,r.value,n):i=this._exponentialInterpolate(s.time,o,r.time,r.value,n)}else i=s.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const r=this._fromType(e),s=this.toSeconds(n);return Q(isFinite(r)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:s,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(r,s),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=Qt(r,0)?this._minOutput:r,this._assertRange(r);const s=this.toSeconds(n);return Q(isFinite(r)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(r,s),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);const s=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){const s=this._fromType(e);Q(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(s),Q(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(s,i,r),this}setValueCurveAtTime(e,n,r,s=1){r=this.toSeconds(r),n=this.toSeconds(n);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),n);const o=r/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*s;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Q(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));Q(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);const s=this._events.get(n),i=this._events.getAfter(n);return s&&Qt(s.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){const s=this._events.getAfter(r.time),i=s?s.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){Q(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,s,i){return r+(n-r)*Math.exp(-(i-e)/s)}_linearInterpolate(e,n,r,s,i){return n+(s-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,s,i){return n*Math.pow(s/n,(i-e)/(r-e))}}class J extends Tt{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return te(this.input)?Vr(this.input)||this.input instanceof xe?1:this.input.numberOfInputs:0}get numberOfOutputs(){return te(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return te(e)&&(e instanceof J||ur(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Q(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return qs(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return uy("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return hA(this,e,n,r),this}chain(...e){return Dc(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),te(this.input)&&(this.input instanceof J?this.input.dispose():ur(this.input)&&this.input.disconnect()),te(this.output)&&(this.output instanceof J?this.output.dispose():ur(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Dc(...t){const e=t.shift();t.reduce((n,r)=>(n instanceof J?n.connect(r):ur(n)&&qs(n,r),r),e)}function qs(t,e,n=0,r=0){for(Q(te(t),"Cannot connect from undefined node"),Q(te(e),"Cannot connect to undefined node"),(e instanceof J||ur(e))&&Q(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Q(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof J||e instanceof xe;)te(e.input)&&(e=e.input);for(;t instanceof J;)te(t.output)&&(t=t.output);Vr(e)?t.connect(e,n):t.connect(e,n,r)}function hA(t,e,n=0,r=0){if(te(e))for(;e instanceof J;)e=e.input;for(;!ur(t);)te(t.output)&&(t=t.output);Vr(e)?t.disconnect(e,n):ur(e)?t.disconnect(e,n,r):t.disconnect()}class ht extends J{constructor(){super(U(ht.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=U(ht.getDefaults(),arguments,["gain","units"]);this.gain=new xe({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Pe(this,"gain")}static getDefaults(){return Object.assign(J.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Ps extends J{constructor(e){super(e),this.onended=he,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ht({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(J.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:he})}_startGain(e,n=1){Q(this._startTime===-1,"Source cannot be started more than once");const r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Q(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==he&&(this.onended(this),this.onended=he,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Q(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Ha extends Ps{constructor(){super(U(Ha.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=U(Ha.getDefaults(),arguments,["offset"]);qs(this._source,this._gainNode),this.offset=new xe({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Ps.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class He extends J{constructor(){super(U(He.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=U(He.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Ha({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(J.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return ld(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,s){return this._param.setValueCurveAtTime(e,n,r,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function ld(t,e,n,r){(e instanceof xe||Vr(e)||e instanceof He&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof He&&(e.overridden=!0)),qs(t,e,n,r)}class Ga extends xe{constructor(){super(U(Ga.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new xn(1/0),this._multiplier=1;const e=U(Ga.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(xe.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/r,1));for(let a=0;a<=o;a++){const l=r*a+n,u=this._exponentialApproach(i.time,i.value,s,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const r=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(r),i=this._events.previousEvent(s),o=this._getTicksUntilEvent(i,r);return s.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const r=this._fromType(e),s=this._events.get(n),i=Math.round(Math.max((n-s.time)*10,1)),o=(n-s.time)/i;for(let a=0;a<=i;a++){const l=o*a+s.time,u=this._exponentialInterpolate(s.time,s.value,n,r,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(zt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const r=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-r}getTimeOfTick(e){const n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){const s=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(r.time))-s)/(r.time-n.time),a=Math.sqrt(Math.pow(s,2)-2*o*(n.ticks-e)),l=(-s+a)/o,u=(-s-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const r=this.toSeconds(n),s=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+s)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Ya extends He{constructor(){super(U(Ya.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=U(Ya.getDefaults(),arguments,["value"]);this.input=this._param=new Ga({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(He.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Xa extends Tt{constructor(){super(U(Xa.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new ad,this._tickOffset=new xn;const e=U(Xa.getDefaults(),arguments,["frequency"]);this.frequency=new Ya({context:this.context,units:e.units,value:e.frequency}),Pe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Tt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),te(n)&&this.setTicksAtTime(n,r)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),r=this._state.getLastState("stopped",n),s={state:"paused",time:n};this._state.add(s);let i=r,o=0;return this._state.forEachBetween(r.time,n+this.sampleTime,a=>{let l=i.time;const u=this._tickOffset.get(a.time);u&&u.time>=i.time&&(o=u.ticks,l=u.time),i.state==="started"&&a.state!=="started"&&(o+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(l)),i=a}),this._state.remove(s),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let s=n,i=0;return this._state.forEachBetween(n.time,e+this.sampleTime,o=>{let a=s.time;const l=this._tickOffset.get(o.time);l&&l.time>=s.time&&(i=l.seconds,a=l.time),s.state==="started"&&o.state!=="started"&&(i+=o.time-a),s=o}),this._state.remove(r),i}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const r=this._tickOffset.get(n),s=this._state.get(n),i=Math.max(r.time,s.time),o=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,r){let s=this._state.get(e);this._state.forEachBetween(e,n,o=>{s&&s.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),o.time-this.sampleTime,r),s=o});let i=null;if(s&&s.state==="started"){const o=Math.max(s.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(s.time),u=a-l;let c=Math.ceil(u)-u;c=Qt(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{r(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Ui extends Tt{constructor(){super(U(Ui.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=he,this._lastUpdate=0,this._state=new ad("stopped"),this._boundLoop=this._loop.bind(this);const e=U(Ui.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Xa({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Pe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Tt.getDefaults(),{callback:he,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){ay(this.context);const r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const r=this.toSeconds(n),s=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(s+e,r)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":const s=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,s);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,s)=>{this.callback(r,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}go.mixin(Ui);class ud extends Bn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=U(ud.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:he,onload:he,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Q(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=he,s=he){return gn(n)?this._buffers.set(e.toString(),new fe(this.baseUrl+n,r,s)):this._buffers.set(e.toString(),new fe(n,r,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Nn extends gi{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class dA extends Tt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new xn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Rl(t=>{t.draw=new dA({context:t})});Pl(t=>{t.draw.dispose()});class fA extends Bn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Q(te(e.time),"Events must have a time property"),Q(te(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new pA(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let r,s=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,s=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,s=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,s=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,s=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,r=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,r=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?r?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let s=1;s<n.length;s++)n[s].low>r.low&&(r=n[s]);return r.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const r=[];this._root.search(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const r=[];this._root.searchAfter(e,r),r.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class pA{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ur extends J{constructor(){super(U(Ur.getDefaults(),arguments,["volume"])),this.name="Volume";const e=U(Ur.getDefaults(),arguments,["volume"]);this.input=this.output=new ht({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Pe(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(J.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Qa extends J{constructor(){super(U(Qa.getDefaults(),arguments)),this.name="Destination",this.input=new Ur({context:this.context}),this.output=new ht({context:this.context}),this.volume=this.input.volume;const e=U(Qa.getDefaults(),arguments);Dc(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(J.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Dc(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Rl(t=>{t.destination=new Qa({context:t})});Pl(t=>{t.destination.dispose()});class mA extends Bn{constructor(e){super(),this.name="TimelineValue",this._timeline=new xn({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class fr{constructor(e,n){this.id=fr._eventId++;const r=Object.assign(fr.getDefaults(),n);this.transport=e,this.callback=r.callback,this._once=r.once,this.time=r.time}static getDefaults(){return{callback:he,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}fr._eventId=0;class cd extends fr{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const r=Object.assign(cd.getDefaults(),n);this.duration=new Nn(e.context,r.duration).valueOf(),this._interval=new Nn(e.context,r.interval).valueOf(),this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},fr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const n=this.transport.getTicksAtTime(e);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Nn(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const n=this.transport.getTicksAtTime(e);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new Nn(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Nn(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Bi extends Tt{constructor(){super(U(Bi.getDefaults(),arguments)),this.name="Transport",this._loop=new mA(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new xn,this._repeatedEvents=new fA,this._syncedSignals=[],this._swingAmount=0;const e=U(Bi.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new Ui({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Pe(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Tt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const r=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(r*Math.PI)*this._swingAmount;e+=new Nn(this.context,this._swingTicks*2/3).toSeconds()*s}this._timeline.forEachAtTime(n,r=>r.invoke(e))}schedule(e,n){const r=new fr(this,{callback:e,time:new gi(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,s=1/0){const i=new cd(this,{callback:e,duration:new Zt(this.context,s).toTicks(),interval:new Zt(this.context,n).toTicks(),time:new gi(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const r=new fr(this,{callback:e,once:!0,time:new gi(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Nn(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){let r;return te(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){tn(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Zt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Zt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Nn(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Nn(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const r=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+s;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),r=this.getTicksAtTime(n),s=e-r%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){if(!n){const s=this.now();if(e.getValueAtTime(s)!==0){const o=1/(60/this.bpm.getValueAtTime(s)/this.PPQ);n=e.getValueAtTime(s)/o}else n=0}const r=new ht(n);return this.bpm.connect(r),r.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:r,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const r=this._syncedSignals[n];r.signal===e&&(r.ratio.dispose(),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),my(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}go.mixin(Bi);Rl(t=>{t.transport=new Bi({context:t})});Pl(t=>{t.transport.dispose()});class Pt extends J{constructor(e){super(e),this.input=void 0,this._state=new ad("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=he,this._syncedStop=he,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ur({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Pe(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(J.getDefaults(),{mute:!1,onstop:he,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let s=zt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")Q(qa(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,r);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const i=this._state.get(s);i&&(i.offset=this.toSeconds(ws(n,0)),i.duration=r?this.toSeconds(r):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,r)},s);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else ay(this.context),this._start(s,n,r);return this}stop(e){let n=zt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||te(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(n>0){const r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){const s=n-this.toSeconds(r.time);let i;r.duration&&(i=this.toSeconds(r.duration)-s),this._start(e,this.toSeconds(r.offset)+s,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=he,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class zi extends Ps{constructor(){super(U(zi.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=U(zi.getDefaults(),arguments,["url","onload"]);qs(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new xe({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new fe(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Ps.getDefaults(),{url:new fe,loop:!1,loopEnd:0,loopStart:0,onload:he,onerror:he,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,s=1){Q(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),this.loop?n=ws(n,this.loopStart):n=ws(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;Pc(o,a)&&(o=(o-l)%u+l),Qt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,hy(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),te(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Kr(t,e){return Be(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,r=new id(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}class Ka extends Ps{constructor(){super(U(Ka.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=U(Ka.getDefaults(),arguments,["frequency","type"]);qs(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new xe({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new xe({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Pe(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ps.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class be extends Pt{constructor(){super(U(be.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=U(be.getDefaults(),arguments,["frequency","type"]);this.frequency=new He({context:this.context,units:"frequency",value:e.frequency}),Pe(this,"frequency"),this.detune=new He({context:this.context,units:"cents",value:e.detune}),Pe(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Pt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),r=new Ka({context:this.context,onended:()=>this.onstop(this)});this._oscillator=r,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return be._periodicWaveCache.find(n=>n.phase===this._phase&&KE(n.partials,this._partials));{const e=be._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const r=this._getCachedPeriodicWave();if(te(r)){const{partials:s,wave:i}=r;this._wave=i,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(s,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),be._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),be._periodicWaveCache.length>100&&be._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){dr(e,0);let n=this._type;const r=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(r&&(n=r[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((i,o)=>s[o]=i),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const i=new Float32Array(s),o=new Float32Array(s);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,s=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),s=a):this._partialCount=0,this._partials=[]}for(let l=1;l<s;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,r){let s=0;const i=e.length;for(let o=0;o<i;o++)s+=e[o]*Math.cos(o*r)+n[o]*Math.sin(o*r);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let r=0;const s=Math.PI*2,i=32;for(let o=0;o<i;o++)r=Math.max(this._inverseFFT(e,n,o/i*s),r);return JE(-this._inverseFFT(e,n,this._phase)/r,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Be(this,void 0,void 0,function*(){return Kr(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}be._periodicWaveCache=[];class Dl extends J{constructor(){super(Object.assign(U(Dl.getDefaults(),arguments,["context"])))}connect(e,n=0,r=0){return ld(this,e,n,r),this}}class Wi extends Dl{constructor(){super(Object.assign(U(Wi.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=U(Wi.getDefaults(),arguments,["mapping","length"]);tn(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):WE(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(He.getDefaults(),{length:1024})}setMap(e,n=1024){const r=new Float32Array(n);for(let s=0,i=n;s<i;s++){const o=s/(i-1)*2-1;r[s]=e(o,s)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(r=>r.includes(e));Q(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class gA extends Dl{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Wi({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Br extends He{constructor(){super(Object.assign(U(Br.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=U(Br.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new ht({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(He.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class $i extends Pt{constructor(){super(U($i.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new gA({context:this.context}),this._modulationNode=new ht({context:this.context});const e=U($i.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new be({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new be({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Br({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Pe(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(be.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Be(this,void 0,void 0,function*(){return Kr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class qi extends Pt{constructor(){super(U(qi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new ht({context:this.context,gain:0});const e=U(qi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new be({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new He({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new be({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Br({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Br({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Pe(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(be.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Be(this,void 0,void 0,function*(){return Kr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Is extends Pt{constructor(){super(U(Is.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new ht({context:this.context,gain:0}),this._thresh=new Wi({context:this.context,mapping:n=>n<=0?-1:1});const e=U(Is.getDefaults(),arguments,["frequency","width"]);this.width=new He({context:this.context,units:"audioRange",value:e.width}),this._triangle=new be({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Pe(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Pt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Be(this,void 0,void 0,function*(){return Kr(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Hi extends Pt{constructor(){super(U(Hi.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=U(Hi.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new He({context:this.context,units:"frequency",value:e.frequency}),this.detune=new He({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Pe(this,["frequency","detune"])}static getDefaults(){return Object.assign(be.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,r=e/(this._oscillators.length-1);this._forEach((s,i)=>s.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(dr(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const r=new be({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):he});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Be(this,void 0,void 0,function*(){return Kr(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Gi extends Pt{constructor(){super(U(Gi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Br({context:this.context,value:2});const e=U(Gi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Is({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new be({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Pe(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Pt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Be(this,void 0,void 0,function*(){return Kr(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Ep={am:$i,fat:Hi,fm:qi,oscillator:be,pulse:Is,pwm:Gi};class Yi extends Pt{constructor(){super(U(Yi.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=U(Yi.getDefaults(),arguments,["frequency","type"]);this.frequency=new He({context:this.context,units:"frequency",value:e.frequency}),this.detune=new He({context:this.context,units:"cents",value:e.detune}),Pe(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(be.getDefaults(),qi.getDefaults(),$i.getDefaults(),Hi.getDefaults(),Is.getDefaults(),Gi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=Ep[e],r=this.now();if(this._oscillator){const s=this._oscillator;s.stop(r),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof Ep[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Lr(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Lr(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&gn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Be(this,void 0,void 0,function*(){return Kr(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function _y(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){dr(i,t,e),n.set(this,i)}})}}function zn(t,e=1/0){const n=new WeakMap;return function(r,s){Reflect.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){dr(this.toSeconds(i),t,e),n.set(this,i)}})}}class Xi extends Pt{constructor(){super(U(Xi.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=U(Xi.getDefaults(),arguments,["url","onload"]);this._buffer=new fe({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Pt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:he,onerror:he,playbackRate:1,reverse:!1})}load(e){return Be(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=he){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=ws(n,this._loopStart):n=ws(n,0);const s=this.toSeconds(n),i=r;r=ws(r,Math.max(this._buffer.duration-s,0));let o=this.toSeconds(r);o=o/this._playbackRate,e=this.toSeconds(e);const a=new zi({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&zt(i)?a.start(e,s):a.start(e,s,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){this._stop(e),this._start(e,n,r)}seek(e,n){const r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){const s=this.toSeconds(e);this._stop(r),this._start(r,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&dr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&dr(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}an([zn(0)],Xi.prototype,"fadeIn",void 0);an([zn(0)],Xi.prototype,"fadeOut",void 0);class Fn extends J{constructor(){super(U(Fn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new He({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=U(Fn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(J.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(gn(e))return e;{let r;for(r in Bo)if(Bo[r][n]===e)return r;return e}}_setCurve(e,n,r){if(gn(r)&&Reflect.has(Bo,r)){const s=Bo[r];Rr(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(tn(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){Q(["linear","exponential"].some(n=>n===e),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/s;s=(1-o)/a}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,s,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+s;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(Q(tn(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return ld(this,e,n,r),this}asArray(e=1024){return Be(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,r=new id(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return l._sig.toDestination(),l.triggerAttackRelease(n*(s+o)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}an([zn(0)],Fn.prototype,"attack",void 0);an([zn(0)],Fn.prototype,"decay",void 0);an([_y(0,1)],Fn.prototype,"sustain",void 0);an([zn(0)],Fn.prototype,"release",void 0);const Bo=(()=>{let e,n;const r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/(128-1)*(Math.PI/2));const s=[],i=6.4;for(e=0;e<128-1;e++){n=e/(128-1);const d=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;s[e]=d/10+n*.83}s[128-1]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/(128-1)*a)/a;const l=[];for(e=0;e<128;e++)n=e/(128-1),l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/(128-1);const d=Math.pow(n,3)*4+.2,v=Math.cos(d*Math.PI*2*n);u[e]=Math.abs(v*(1-n))}function c(d){const v=new Array(d.length);for(let f=0;f<d.length;f++)v[f]=1-d[f];return v}function h(d){return d.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:r,Out:h(r)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:c(s)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class zr extends J{constructor(){super(U(zr.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=U(zr.getDefaults(),arguments);this._volume=this.output=new Ur({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Pe(this,"volume")}static getDefaults(){return Object.assign(J.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const r=this["_original_"+e]=this[e];this[e]=(...s)=>{const i=s[n],o=this.context.transport.schedule(a=>{s[n]=a,r.apply(this,s)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,n,r,s){const i=this.toSeconds(r),o=this.toSeconds(n);return this.triggerAttack(e,i,s),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Wr extends zr{constructor(){super(U(Wr.getDefaults(),arguments));const e=U(Wr.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(zr.getDefaults(),{detune:0,onsilence:he,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,r),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const r=this.toSeconds(n),s=e instanceof Vt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,i,r)}else this.frequency.setValueAtTime(s,r);return this}}an([zn(0)],Wr.prototype,"portamento",void 0);class hd extends Fn{constructor(){super(U(hd.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ht({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Qi extends Wr{constructor(){super(U(Qi.getDefaults(),arguments)),this.name="Synth";const e=U(Qi.getDefaults(),arguments);this.oscillator=new Yi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new hd(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Pe(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Wr.getDefaults(),{envelope:Object.assign(Np(Fn.getDefaults(),Object.keys(J.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Np(Yi.getDefaults(),[...Object.keys(Pt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const r=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ki extends Qi{constructor(){super(U(Ki.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=U(Ki.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Pe(this,["oscillator","envelope"])}static getDefaults(){return _s(Wr.getDefaults(),Qi.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const r=this.toSeconds(n),s=this.toFrequency(e instanceof Vt?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(s,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}an([_y(0)],Ki.prototype,"octaves",void 0);an([zn(0)],Ki.prototype,"pitchDecay",void 0);const wy=new Set;function dd(t){wy.add(t)}function Sy(t,e){const n=`registerProcessor("${t}", ${e})`;wy.add(n)}const vA=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;dd(vA);const yA=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;dd(yA);const _A=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;dd(_A);const wA="feedback-comb-filter",SA=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Sy(wA,SA);class Zi extends zr{constructor(){super(U(Zi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=U(Zi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(r=>{const s=parseInt(r,10);if(Q(Uo(r)||Lr(s)&&isFinite(s),`url key is neither a note or midi pitch: ${r}`),Uo(r)){const i=new Vt(this.context,r).toMidi();n[i]=e.urls[r]}else Lr(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new ud({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(zr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:he,onerror:he,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(s=>{const i=yy(new Vt(this.context,s).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=vy(l+a),d=new zi({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,c.duration/h,r),tn(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const v=this._activeSources.get(o),f=v.indexOf(d);f!==-1&&v.splice(f,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=new Vt(this.context,r).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const i=this._activeSources.get(s);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,s=1){const i=this.toSeconds(r);return this.triggerAttack(e,i,s),tn(n)?(Q(tn(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(Q(Uo(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Uo(e)){const s=new Vt(this.context,e).toMidi();this._buffers.add(s,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}an([zn(0)],Zi.prototype,"attack",void 0);an([zn(0)],Zi.prototype,"release",void 0);class Za extends J{constructor(){super(Object.assign(U(Za.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=U(Za.getDefaults(),arguments,["pan"]);this.pan=new xe({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Pe(this,"pan")}static getDefaults(){return Object.assign(J.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const xA="bit-crusher",TA=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Sy(xA,TA);class Me extends J{constructor(){super(U(Me.getDefaults(),arguments,["solo"])),this.name="Solo";const e=U(Me.getDefaults(),arguments,["solo"]);this.input=this.output=new ht({context:this.context}),Me._allSolos.has(this.context)||Me._allSolos.set(this.context,new Set),Me._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(J.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Me._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Me._soloed.has(this.context)||Me._soloed.set(this.context,new Set),Me._soloed.get(this.context).add(this)}_removeSolo(){Me._soloed.has(this.context)&&Me._soloed.get(this.context).delete(this)}_isSoloed(){return Me._soloed.has(this.context)&&Me._soloed.get(this.context).has(this)}_noSolos(){return!Me._soloed.has(this.context)||Me._soloed.has(this.context)&&Me._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Me._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Me._allSolos=new Map;Me._soloed=new Map;class Ja extends J{constructor(){super(U(Ja.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=U(Ja.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Za({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ur({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Pe(this,["pan","volume"])}static getDefaults(){return Object.assign(J.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Cr extends J{constructor(){super(U(Cr.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=U(Cr.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Me({solo:e.solo,context:this.context}),this._panVol=this.output=new Ja({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Pe(this,["pan","volume"])}static getDefaults(){return Object.assign(J.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Cr.buses.has(e)||Cr.buses.set(e,new ht({context:this.context})),Cr.buses.get(e)}send(e,n=0){const r=this._getBus(e),s=new ht({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(r),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Cr.buses=new Map;class CA extends J{constructor(){super(...arguments),this.name="Listener",this.positionX=new xe({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new xe({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new xe({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new xe({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new xe({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new xe({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new xe({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new xe({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new xe({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(J.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Rl(t=>{t.listener=new CA({context:t})});Pl(t=>{t.listener.dispose()});Kt().transport;Kt().destination;Kt().destination;Kt().listener;Kt().draw;Kt();const kA=()=>{const{song:t,encodedData:e,setHasRefreshedGame:n}=N.useContext(Tl),{userHasTop:r,getFormJSX:s,setOnGamePage:i,userBestScore:o,topScore:a,currentUser:l,setUserBeatTop:u,userBeatTop:c,setUserBeatPersonalBest:h,userBeatPersonalBest:d,setTotalScore:v,totalScore:f,recalcGameResults:y,setRecalcGameResults:w}=N.useContext(Ge),{mp3Id:p}=Yr(),g=Gr(),_=N.useRef(null),T=t.song_length,S=t.bpm,[C,k]=N.useState(0),[x,A]=N.useState(0),[E,R]=N.useState(!1),[O,b]=N.useState(!1),[F,z]=N.useState(0),[V,W]=N.useState({}),[I,D]=N.useState({}),[j,L]=N.useState(new Set),[G,we]=N.useState({}),ue=N.useRef(G),[X,K]=N.useState({}),[ge,H]=N.useState({}),[Ie,Se]=N.useState(0),[Ae,ae]=N.useState(1),[ln,Hs]=N.useState({}),[B,Y]=N.useState([]),[De,de]=N.useState(0),[ee,oe]=N.useState(null),[Ve,kt]=N.useState(!1),[_r,wr]=N.useState(!1),[Ml,yo]=N.useState(!1),[xy,fd]=N.useState(!1),[Ty,pd]=N.useState(!0);N.useEffect(()=>{ue.current=G},[G]);const bl=200,jl=()=>{R(!1),b(!1),W({}),D({}),L(new Set),we({}),K({}),H({}),Se(0),ae(1),Hs({}),Y([]),v(0),oe(null),de(0),kt(!1),h(!1),u(!1)},md=()=>{(!a||f>a.score)&&f>0&&u(!0),l&&f>0&&(o&&f>o.score||!o)&&h(!0)};N.useEffect(()=>{md(),y&&o!==null&&w(!1)},[y,o,Ve]),N.useEffect(()=>{});const gd=()=>{R(!0)},vd=()=>{b(!0),R(!1)};N.useEffect(()=>{if(e===null){n(!0),g(`/song/${p}`);return}const $=GS.decode(e),Z=new Audio;return Z.src="data:audio/mp3;base64,"+btoa($),_.current=Z,_.current.volume=.1,()=>{Z.pause(),Z.src=""}},[e]),N.useEffect(()=>{i(!0),jl();let $;Fl();const Z=()=>{const ie=_.current.currentTime,mt=_.current.duration,Nt=ie/mt;k(Nt),$=requestAnimationFrame(Z)};return _.current&&($=requestAnimationFrame(Z)),()=>{cancelAnimationFrame($)}},[]);const Fl=()=>{_.current&&setTimeout(()=>{_.current.play(),gd()},2e3)},Ll=()=>{_.current&&(_.current.pause(),_.current.currentTime=0,_.current.load(),vd())},yd=($,Z,ie)=>{const mt=ie*Ae;H(Nt=>({...Nt,[$]:Z})),Hs(Nt=>({...Nt,[$]:mt}))},Vl=$=>{Ie!==0&&Se(0),oe(null),H(Z=>({...Z,[$]:"Miss"}))},_d=$=>{let Z,ie;return $>=bl?(Z="Miss",ie=0):$>=100&&$<bl?(Z="Good!",ie=1):$>=50&&$<100?(Z="Great!",ie=2):$<50&&(Z="Perfect!",ie=3),{phrase:Z,score:ie}},Cy=$=>{if(ln.hasOwnProperty($)){const Z=ln[$];Y(ie=>[...ie,Z]),Hs(ie=>{const mt={...ie};return delete mt[$],mt})}},ky=$=>{Ie!==0&&Se(0),L(Z=>{const ie=new Set(Z);return ie.delete($),ie}),K(Z=>({...Z,[$]:"Miss"}))},Ny=$=>{j.has($)&&ky($)},Ey=($,Z)=>{if(G.hasOwnProperty($)){if(G[$].endTime>Z){L(By=>{const kd=new Set(By);return kd.delete($),kd});const mt=G[$].startTime,Nt=Math.abs(Z-mt),{phrase:_o,score:Uy}=_d(Nt);return _o==="Miss"?Vl($):yd($,_o,Uy),!0}return!1}return!1},Ay=($,Z)=>{if(I.hasOwnProperty($)){const ie=I[$],mt=Math.abs(ie-Z),{phrase:Nt,score:_o}=_d(mt);return Nt==="Miss"?Vl($):yd($,Nt,_o),!0}return!1},Oy=($,Z)=>{if(!Ey($,Z)){console.log("value 1",$,G);const ie=setTimeout(()=>{clearTimeout(V[$]),(!ue.current.hasOwnProperty($)||ue.current[$].endTime<Z)&&(console.log("value 2",$,ue.current),Vl($))},bl);W(mt=>({...mt,[$]:{timeout:ie}}))}},Ry=$=>{Cy($)},Py=($,Z)=>{Ay($,Z)||L(ie=>new Set([...ie,$]))},Iy=$=>{Ny($)};N.useEffect(function(){["A","W","S","E","D","F","T","G","Y","H","U","J"].forEach(ie=>{I.hasOwnProperty(ie)||H(mt=>{const Nt={...mt};return delete Nt[ie],Nt})})},[I]),N.useEffect(function(){let Z=0;B.length>0&&(B.forEach(ie=>{Z=+ie}),v(ie=>ie+Z),Y([]),Ie+1>De&&de(Ie+1),Se(ie=>ie+1))},[B]),N.useEffect(function(){console.log(ee),console.log("streakcount",Ie),Ie>=40?(oe("40 Note Streak!"),ae(32)):Ie>=30?(oe("30 Note Streak!"),ae(16)):Ie>=20?(oe("20 Note Streak!"),ae(8)):Ie>=10?(oe("10 Note Streak!"),ae(4)):Ie>=1?(oe(null),ae(2)):(ae(1),oe(null))},[Ie]);const wd=()=>{fd($=>!$),yo(!1),wr(!1)},Dy=()=>{Ll(),fd(!1),kt(!0),pd(!1)},Sd=()=>{g(`/song/${p}`)},xd=()=>{Ll(),jl(),wr(!1),Fl()},Td=()=>{yo($=>!$)},Cd=()=>{wr($=>!$)},My=()=>{if(_r)return m.jsxs(m.Fragment,{children:[m.jsx(_u,{message:"Are you sure you want to restart?",handleYes:xd,handleNo:Cd}),m.jsx("div",{className:"pop-up-cover"})]});if(Ml)return m.jsxs(m.Fragment,{children:[m.jsx(_u,{message:"Are you sure you want to exit the game?",handleYes:Sd,handleNo:Td}),m.jsx("div",{className:"pop-up-cover"})]});if(xy)return m.jsxs(m.Fragment,{children:[m.jsx(_u,{message:"Are you sure you want to save score early?",handleYes:Dy,handleNo:wd}),m.jsx("div",{className:"pop-up-cover"})]})},by=()=>{if(Ve&&(c||!a))return m.jsx(Px,{})},jy=()=>{if(l&&o===null)return m.jsx(jn,{});if((c||!a)&&f>0)return m.jsx(lp,{isTop:!0});if(l&&!c&&(d||!o)&&f>0)return m.jsx(lp,{isTop:!1});if(!c&&!l||!c&&d===!1)return m.jsx(Ix,{})},Fy=()=>{if(!E&&!Ve)return m.jsx("div",{className:"game-get-ready",children:"Get Ready!"});if(E&&!Ve)return m.jsxs(m.Fragment,{children:[a?m.jsx(Rx,{}):"",m.jsx(Ax,{}),m.jsx(Ox,{})]});if(Ve)return m.jsxs("div",{className:"game-over-screen",children:[s(),jy()]})},Ly=()=>{pd($=>!$)},Vy=()=>{if(!l&&Ty&&!Ve)return m.jsx(Mx,{handleRemoveExplain:Ly})};return m.jsx("div",{className:"game-container",children:m.jsxs(yn.Provider,{value:{handleSaveEarlyPrompt:wd,handleRestartPrompt:Cd,handleExitPrompt:Td,handleExit:Sd,handleRestart:xd,getGameResults:md,viewHeight:F,setViewHeight:z,handleStop:Ll,handlePlay:Fl,handleStartAnimation:gd,handleStopAnimation:vd,isAnimationStarted:E,timer:x,setTimer:A,streakMultiplier:Ae,noteScore:ln,handleRestartGame:jl,setGameOver:kt,gameOver:Ve,activeKeys:I,setActiveKeys:D,checkPressedKey:Oy,checkReleasedKey:Ry,inPlayKeys:G,setInPlayKeys:we,checkKeyInPlay:Py,checkKeyOutOfPlay:Iy,accuracyAlert:ge,setAccuracyAlert:H,streakMultiplier:Ae,songProgress:C,setSongProgress:k},children:[m.jsxs("div",{className:"game-header",children:[t.title,", ",t.dir]}),m.jsx(Nx,{}),by(),ee?m.jsx("div",{className:"game-streak",children:ee},ee):"",Fy(),My(),Vy(),m.jsx(tx,{setGameOver:kt,songLength:T,bpm:S,isAnimationStarted:E,isAnimationStopped:O}),m.jsx("div",{className:"bottom-container",children:m.jsx(wx,{})}),m.jsx("div",{className:"covering-div"})]})})};function NA({login:t,signup:e}){const{currentUser:n}=N.useContext(Ge);return console.debug("Routes",`login=${typeof t}`,`register=${typeof register}`),m.jsxs(ow,{children:[m.jsx(Tr,{exact:!0,path:"/",element:m.jsx(MS,{login:t,signup:e})}),m.jsx(Tr,{exact:!0,path:"/profile",element:n?m.jsx(HS,{}):m.jsx($f,{replace:!0,to:"/"})}),m.jsx(Tr,{exact:!0,path:"/songs",element:m.jsx(VS,{login:t,signup:e})}),m.jsx(Tr,{exact:!0,path:"/song/:mp3Id",element:m.jsx(WS,{login:t,signup:e})}),m.jsx(Tr,{exact:!0,path:"/game/:mp3Id",element:m.jsx(kA,{})}),m.jsx(Tr,{path:"*",element:m.jsx($f,{replace:!0,to:"/"})})]})}function EA({logout:t}){const{handleHeadingHover:e,onGamePage:n,currentUser:r,toggleLoginForm:s}=N.useContext(Ge);function i(){return m.jsxs("ul",{className:"nav-items",children:[m.jsx("li",{className:"nav-link",children:m.jsx(fu,{style:{textDecoration:"none",color:"white"},to:"/songs",children:"Search Songs"})}),m.jsx("li",{className:"nav-link",children:m.jsx(fu,{style:{textDecoration:"none",color:"white"},to:"/profile",children:"Your Scores"})}),m.jsx("div",{className:"login-register",children:m.jsxs("button",{id:"logout",className:"button",onClick:t,children:["Logout ",r.first_name||r.username]})})]})}function o(){return m.jsxs("ul",{className:"nav-items",children:[m.jsx("li",{className:"nav-link",children:m.jsx(fu,{style:{textDecoration:"none",color:"white"},to:"/songs",children:"Search Songs"})}),m.jsx("div",{className:"login-register",children:m.jsx("button",{id:"login",className:"button",onClick:s,children:"Login"})})]})}const a=()=>{if(!n)return m.jsxs("div",{className:"navbar-container",onMouseEnter:e,children:[m.jsxs("div",{className:"left-side-nav",children:[m.jsx("div",{className:"logo-container",children:m.jsx(so,{style:{textDecoration:"none",color:"white"},className:"navbar-brand left",to:"/",children:"NoteWorthy"})}),r?m.jsxs("div",{className:"welcome-nav left",children:[" Sup, ",r.firstName||r.username,"!"]}):""]}),r?i():o()]})};return m.jsx("div",{children:a()})}const Ht=(t,e)=>{const[n,r]=N.useState(()=>{let s;try{s=JSON.parse(localStorage.getItem(t)||String(e))}catch{s=e}return s});return N.useEffect(()=>{localStorage.setItem(t,JSON.stringify(n))},[n,t]),[n,r]};const AA=({login:t,toggleSignupForm:e})=>{const n={username:"",password:""},[r,s]=N.useState(n),{onGamePage:i,loginFormError:o}=N.useContext(Ge);Gr();const{mp3Id:a}=Yr(),l=c=>{c.preventDefault(),i?t(r,a):t(r),s(n)},u=c=>{const{name:h,value:d}=c.target;s(v=>({...v,[h]:d}))};return m.jsxs("form",{className:"form_main",onSubmit:l,children:[m.jsx("p",{className:"heading",children:"Login"}),o&&m.jsxs("p",{className:"form-error",children:["*",o]}),m.jsxs("div",{className:"inputContainer",children:[m.jsx("svg",{viewBox:"0 0 16 16",fill:"#2e2e2e",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",className:"inputIcon",children:m.jsx("path",{d:"M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"})}),m.jsx("input",{placeholder:"Username",className:"inputField",type:"text",id:"username",name:"username",value:r.username,onChange:u})]}),m.jsxs("div",{className:"inputContainer",children:[m.jsx("svg",{viewBox:"0 0 16 16",fill:"#2e2e2e",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",className:"inputIcon",children:m.jsx("path",{d:"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"})}),m.jsx("input",{placeholder:"Password",className:"inputField",type:"password",id:"password",name:"password",value:r.password,onChange:u})]}),m.jsx("button",{className:"form-button",children:"Submit"}),m.jsxs("div",{className:"signupContainer",children:[m.jsx("p",{children:"Don't have any account?   "}),m.jsx("button",{className:"form-button",onClick:e,children:"Sign up"})]})]})},OA=({signup:t,toggleLoginForm:e})=>{const n={username:"",password:""},[r,s]=N.useState(n),{onGamePage:i,signupFormError:o}=N.useContext(Ge),{mp3Id:a}=Yr();Gr(),console.log("signupFormError",o);const l=h=>{h.preventDefault(),t(r),i?t(r,a):t(r)},u=h=>{const{name:d,value:v}=h.target;s(f=>({...f,[d]:v}))},c=()=>Array.isArray(o)?(console.log("1"),m.jsx(m.Fragment,{children:o.map(h=>m.jsxs("p",{className:"form-error",children:["*",h]}))})):(console.log("2"),m.jsxs("p",{className:"form-error",children:["*",o]}));return m.jsxs("form",{className:"form_main",onSubmit:l,children:[m.jsx("p",{className:"heading",children:"Signup"}),o&&c(),m.jsx("div",{className:"inputContainer",children:m.jsx("input",{placeholder:"First Name",className:"inputField",type:"text",id:"firstName",name:"firstName",value:r.firstName,onChange:u})}),m.jsx("div",{className:"inputContainer",children:m.jsx("input",{placeholder:"Last Name",className:"inputField",type:"text",id:"lastName",name:"lastName",value:r.lastName,onChange:u})}),m.jsxs("div",{className:"inputContainer",children:[m.jsx("svg",{viewBox:"0 0 16 16",fill:"#2e2e2e",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",className:"inputIcon",children:m.jsx("path",{d:"M13.106 7.222c0-2.967-2.249-5.032-5.482-5.032-3.35 0-5.646 2.318-5.646 5.702 0 3.493 2.235 5.708 5.762 5.708.862 0 1.689-.123 2.304-.335v-.862c-.43.199-1.354.328-2.29.328-2.926 0-4.813-1.88-4.813-4.798 0-2.844 1.921-4.881 4.594-4.881 2.735 0 4.608 1.688 4.608 4.156 0 1.682-.554 2.769-1.416 2.769-.492 0-.772-.28-.772-.76V5.206H8.923v.834h-.11c-.266-.595-.881-.964-1.6-.964-1.4 0-2.378 1.162-2.378 2.823 0 1.737.957 2.906 2.379 2.906.8 0 1.415-.39 1.709-1.087h.11c.081.67.703 1.148 1.503 1.148 1.572 0 2.57-1.415 2.57-3.643zm-7.177.704c0-1.197.54-1.907 1.456-1.907.93 0 1.524.738 1.524 1.907S8.308 9.84 7.371 9.84c-.895 0-1.442-.725-1.442-1.914z"})}),m.jsx("input",{placeholder:"Username",className:"inputField",type:"text",id:"username",name:"username",value:r.username,onChange:u})]}),m.jsxs("div",{className:"inputContainer",children:[m.jsx("svg",{viewBox:"0 0 16 16",fill:"#2e2e2e",height:"16",width:"16",xmlns:"http://www.w3.org/2000/svg",className:"inputIcon",children:m.jsx("path",{d:"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"})}),m.jsx("input",{placeholder:"Password",className:"inputField",type:"password",id:"password",name:"password",value:r.password,onChange:u})]}),m.jsx("button",{className:"form-button",children:"Submit"}),m.jsxs("div",{className:"signupContainer",children:[m.jsx("p",{children:"Already have any account? "}),m.jsx("button",{className:"form-button",onClick:e,children:"Log In"})]})]})};function RA(){const[t,e]=Ht("currentUser",null),[n,r]=Ht("song",null),[s,i]=Ht("notes",null),[o,a]=N.useState(null),[l,u]=N.useState(!1),[c,h]=Ht("UserBestScore",!1),[d,v]=Ht("topScore",null),[f,y]=Ht("userHasTop",null),[w,p]=Ht("userBeatTop",null),[g,_]=Ht("userBeatPersonalBest",null),[T,S]=Ht("totalScore",null),[C,k]=Ht("recalcGameResults",!1),[x,A]=N.useState(!1),[E,R]=N.useState(!1),[O,b]=N.useState(!1),[F,z]=N.useState(!1),[V,W]=N.useState(!1),[I,D]=N.useState(!1),[j,L]=Ht("token",null);N.useEffect(()=>{x?(b(!0),z(!1),R(!1)):E&&(b(!1),z(!0),A(!1))},[x,E]);async function G(Se,Ae=null){A(!1);const ae=await lt.registerUser(Se);ae.status===400?R(ae.data.error.message):(L(ae.token),b(!1),z(!1),Ae&&(k(!0),h(!1)))}async function we(Se,Ae=null){R(!1);const ae=await lt.loginUser(Se);if(ae.status===401)A(ae.data.error.message);else if(L(ae.token),b(!1),z(!1),Ae){let{username:ln}=Lf(ae);ge(Ae,ln,d),k(!0)}}function ue(){console.log("logging out"),e(null),L(null),h(null),y(null)}function X(){b(Se=>!Se),z(!1),A(!1)}function K(){z(Se=>!Se),b(!1),R(!1)}async function ge(Se,Ae,ae){if(ae&&ae.username===Ae)y(!0),h(ae);else{y(!1);const ln=await lt.getUserSongTopScore(Se,Ae);h(ln===null?!1:ln)}}N.useEffect(()=>{async function Se(){if(j)try{let{username:Ae}=Lf(j);lt.userToken=j;const ae=await lt.getUser(Ae);e(ae)}catch(Ae){console.error("App loadUserInfo: problem loading",Ae),e(null)}}Se()},[j]);const H=()=>{if(O)return m.jsx(AA,{login:we,toggleSignupForm:K});if(F)return m.jsx(OA,{signup:G,toggleLoginForm:X})},Ie=()=>{W("animated")};return m.jsx(hw,{children:m.jsx(Ge.Provider,{value:{loginFormError:x,signupFormError:E,isAnimated:V,handleHeadingHover:Ie,recalcGameResults:C,setRecalcGameResults:k,totalScore:T,setTotalScore:S,userBeatPersonalBest:g,setUserBeatPersonalBest:_,userBeatTop:w,setUserBeatTop:p,getUserBestScore:ge,onGamePage:I,setOnGamePage:D,getFormJSX:H,userHasTop:f,setUserHasTop:y,toggleSignupForm:K,toggleLoginForm:X,setShowLogin:b,setShowSignup:z,showLogin:O,showSignup:F,currentUser:t,userBestScore:c,setUserBestScore:h,topScore:d,setTopScore:v},children:m.jsxs(Tl.Provider,{value:{song:n,setSong:r,notes:s,setNotes:i,encodedData:o,setEncodedData:a,hasRefreshedGame:l,setHasRefreshedGame:u},children:[m.jsx(EA,{logout:ue,onGamePage:I}),m.jsx(NA,{login:we,signup:G})]})})})}Su.createRoot(document.getElementById("root")).render(m.jsx(gt.StrictMode,{children:m.jsx(RA,{})}));export{IA as c,qy as g};
